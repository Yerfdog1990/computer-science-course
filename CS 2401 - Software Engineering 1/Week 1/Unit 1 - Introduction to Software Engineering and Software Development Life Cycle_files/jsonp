lpTag.callback({"taglets":[{"name":"lp_dynButtons","type":0},{"name":"lpSecureStorage","type":0},{"name":"sdeInfoScraper","type":0,"parameters":[{"id":"7","value":"{\"def\":{\"retry\":2,\"when\":\"asap\",\"delay\":1000,\"sendIncomplete\":true,\"sendRetry\":false},\"lookup\":{\"111\":{\"id\":\"contactDivision\"},\"112\":{\"id\":\"userRole\"}},\"sde\":{\"type\":\"ctmrinfo\",\"info\":{\"ctype\":\"{{111}}\",\"cstatus\":\"{{112}}\"}}}"},{"id":"10","value":"{\"def\":{\"retry\":2,\"when\":\"asap\",\"delay\":1000,\"sendIncomplete\":true,\"sendRetry\":false},\"lookup\":{\"143\":{\"id\":\"englishm\"}},\"sde\":{\"type\":\"error\",\"error\":{\"message\":\"{{143}}\"}}}"}]},{"name":"lp_sdes","type":0},{"name":"scraper","type":0},{"name":"lpActivityMonitor","type":0},{"name":"rendererStub","type":0},{"name":"LPCHATTAG","type":0},{"name":"lp_vars","type":0},{"name":"lp_version_detector","type":0},{"name":"lp_monitoringSDK","type":0},{"name":"lpTransporter","type":0},{"name":"lpUnifiedWindow","type":0,"parameters":[{"id":"isTranscriptDownloadEnabled","value":"true"}]},{"name":"SMT","type":0},{"name":"hooks","type":0},{"name":"lp_SMT","type":0},{"name":"authenticator","type":0},{"name":"cleanCCPatterns","type":0},{"name":"LPMONITOR","type":0},{"name":"unAuthMessaging","type":0},{"name":"lp_emt_event_bridge","type":0},{"name":"lp_global_utils","type":0},{"name":"jsLoader","type":0},{"name":"lp_sms_client_api","type":0}],"site":"41223025","features":{"Common.LiveEngage_2_CrossDomainStorage":true,"Messaging.Auto_Messages":true,"Common.Multiple_Consumer_IDP":false},"serviceMap":[{"account":"41223025","baseURI":"va.ihubcrmwexplorer.liveperson.net","service":"ihubCrmwExplorer"},{"account":"41223025","baseURI":"va.oauthclientmgr.liveperson.net","service":"oauthclientmgr"},{"account":"41223025","baseURI":"va.rfl.liveperson.net","service":"runtimeFormLogic"},{"account":"41223025","baseURI":"va.messagerouting.liveperson.net","service":"messageRoutingServiceDomain"},{"account":"41223025","baseURI":"va.lp-marketplacemgmt.liveperson.net","service":"maps"},{"account":"41223025","baseURI":"va.cbleanalytics.liveperson.net","service":"cbMacsAnalytics"},{"account":"41223025","baseURI":"va-s.c.liveperson.net","service":"ALL"},{"account":"41223025","baseURI":"va.aifeedback.int.liveperson.net","service":"coreAIFeedbackOnlyDomain"},{"account":"41223025","baseURI":"va.bc-li.liveperson.net/lp-cb-cms","service":"cbPcsManager"},{"account":"41223025","baseURI":"va.pd.int.liveperson.net","service":"predictiveDialerInternal"},{"account":"41223025","baseURI":"va.pushsrv.int.liveperson.net","service":"pusherInt"},{"account":"41223025","baseURI":"va.agent-activity.liveperson.net","service":"agentActivityDomain"},{"account":"41223025","baseURI":"z1.bot-connectors.liveperson.net","service":"botConnectorsDomain"},{"account":"41223025","baseURI":"va.lp-leadgenerator-web.liveperson.net","service":"leadGenerator"},{"account":"41223025","baseURI":"va.seldon-core-ambassador.int.liveperson.net","service":"seldon"},{"account":"41223025","baseURI":"http://lp-connector2whatsapp-app.plteng-connectors:8080","service":"whatsappConnectorMultiCloud"},{"account":"41223025","baseURI":"va.v.liveperson.net","service":"msdkgw"},{"account":"41223025","baseURI":"z1.mcfeature.liveperson.net","service":"mcfeature"},{"account":"41223025","baseURI":"va.faasgw.liveperson.net","service":"faasGW"},{"account":"41223025","baseURI":"bot-platform-api.fs.liveperson.com","service":"thirdPartyBots"},{"account":"41223025","baseURI":"va.content.lpsnmedia.net","service":"staticContent"},{"account":"41223025","baseURI":"va-ges-usmsgw.liveperson.net","service":"usmsgwDomain"},{"account":"41223025","baseURI":"va-ges-uconn.liveperson.net","service":"uconnDomain"},{"account":"41223025","baseURI":"va.ac.liveperson.net","service":"accountConfigReadWrite"},{"account":"41223025","baseURI":"z1.le.liveperson.net","service":"liveEngage"},{"account":"41223025","baseURI":"va.botplatform.liveperson.net","service":"cbWebPlatform"},{"account":"41223025","baseURI":"va.msg-gw.liveperson.net","service":"smsConnector"},{"account":"41223025","baseURI":"va.cbfeedback.liveperson.net/lp-cbfeedback-app","service":"cbFeedback"},{"account":"41223025","baseURI":"http://lp-connector2email-app.plteng-connectors:8080","service":"emailConnectorMultiCloud"},{"account":"41223025","baseURI":"va.connect-to-messaging.liveperson.net","service":"connectToMessagingDomain"},{"account":"41223025","baseURI":"va.accountinfo.int.liveperson.net","service":"accountInfo"},{"account":"41223025","baseURI":"va.encryptionmgmt.liveperson.net","service":"encryptionMgmtExtDomain"},{"account":"41223025","baseURI":"va.cbnlufacade.liveperson.net","service":"cbNluFacade"},{"account":"41223025","baseURI":"hub.liveperson.net","service":"launchpadDomain"},{"account":"41223025","baseURI":"va.cbanalyticsbrandsapi.liveperson.net","service":"botAnalyticsBrandsApi"},{"account":"41223025","baseURI":"va-s.c.liveperson.net","service":"agent"},{"account":"41223025","baseURI":"z1.context.liveperson.net","service":"mavenContext"},{"account":"41223025","baseURI":"va.userjoin.liveperson.net","service":"coreAIUserjoin"},{"account":"41223025","baseURI":"z1.loggos.liveperson.net","service":"loggos"},{"account":"41223025","baseURI":"va.msg.liveperson.net","service":"messagingRestApiDomain"},{"account":"41223025","baseURI":"va.whatsapp-gw.liveperson.net","service":"whatsappConnector"},{"account":"41223025","baseURI":"va.agentvep.liveperson.net","service":"agentVep"},{"account":"41223025","baseURI":"z1.houston.int.liveperson.net","service":"leBackofficeInt"},{"account":"41223025","baseURI":"va.ggl-gw.liveperson.net","service":"googleConnector"},{"account":"41223025","baseURI":"va.agentmng.liveperson.net","service":"agentManagerWorkspace"},{"account":"41223025","baseURI":"va.leproxy.liveperson.net","service":"leProxyDomain"},{"account":"41223025","baseURI":"va.i.liveperson.net","service":"interactionPlatform"},{"account":"41223025","baseURI":"va.register.liveperson.net","service":"provisionGW"},{"account":"41223025","baseURI":"va.mtls.liveperson.net","service":"mtlsGateway"},{"account":"41223025","baseURI":"va.conversationinsights.liveperson.net","service":"bellaInsights"},{"account":"41223025","baseURI":"z1.appkey-mgmnt.liveperson.net","service":"appKeyManagement"},{"account":"41223025","baseURI":"empty.liveperson.net","service":"otelDomainConsumerSdk"},{"account":"41223025","baseURI":"va.codaext.liveperson.net","service":"coda"},{"account":"41223025","baseURI":"http://lp-connector2viber-app.plteng-connectors:8080","service":"viberConnectorMultiCloud"},{"account":"41223025","baseURI":"z1.etool.liveperson.net","service":"etool"},{"account":"41223025","baseURI":"va.smmsgproxy.liveperson.net","service":"socialMsgDomain"},{"account":"41223025","baseURI":"va.pcicompliance.liveperson.net","service":"pciCompliance"},{"account":"41223025","baseURI":"va.pb-cbbotengine.liveperson.net","service":"pbcbbotengine"},{"account":"41223025","baseURI":"va.audit-trail.int.liveperson.net","service":"auditTrail"},{"account":"41223025","baseURI":"va.botauthmigration.int.liveperson.net","service":"botAuthMigration"},{"account":"41223025","baseURI":"lp-gai-tgi.us-east1.prod.int.gw.lpcloud.io","service":"mlInference"},{"account":"41223025","baseURI":"z1.objectstorage.liveperson.net","service":"swift"},{"account":"41223025","baseURI":"accdn.lpsnmedia.net","service":"acCdnDomainConsumerSdk"},{"account":"41223025","baseURI":"va.convep.liveperson.net","service":"conversationVep"},{"account":"41223025","baseURI":"va.msg.liveperson.net","service":"asyncMessagingEnt"},{"account":"41223025","baseURI":"va.facade-msg.liveperson.net","service":"facadeMsg"},{"account":"41223025","baseURI":"va-s.c.liveperson.net","service":"adminArea"},{"account":"41223025","baseURI":"va.batchelor.liveperson.net","service":"liveEngageVep"},{"account":"41223025","baseURI":"va.ptscoring.int.liveperson.net","service":"predictiveIntelligentTargeting"},{"account":"41223025","baseURI":"dispatch.look.io","service":"mobileVisit"},{"account":"41223025","baseURI":"http://lp-connector2sms-app.plteng-connectors:8080","service":"smsConnectorMultiCloud"},{"account":"41223025","baseURI":"va.idp.liveperson.net","service":"idp"},{"account":"41223025","baseURI":"z1.ai-summarization.liveperson.net","service":"aiSummarization"},{"account":"41223025","baseURI":"va.cqm-msg.liveperson.net","service":"cqmMsg"},{"account":"41223025","baseURI":"va.3pc-outbound-gw.liveperson.net","service":"3pcOutboundApp"},{"account":"41223025","baseURI":"auth-z1.liveperson.net","service":"authenticationServiceDomain"},{"account":"41223025","baseURI":"va.bc-sso.liveperson.net/le-auth","service":"cbLeIntegrations"},{"account":"41223025","baseURI":"va.socialoperations.liveperson.net","service":"socialOperationsDomain"},{"account":"41223025","baseURI":"z1.coapp.liveperson.net","service":"coApp"},{"account":"41223025","baseURI":"va.kai.int.liveperson.net","service":"cbKaiClassification"},{"account":"41223025","baseURI":"va.act.liveperson.net","service":"act"},{"account":"41223025","baseURI":"z1.batchelor.liveperson.net","service":"batchelor"},{"account":"41223025","baseURI":"mcs.liveperson.net","service":"mcs"},{"account":"41223025","baseURI":"va.data.liveperson.net","service":"leDataReporting"},{"account":"41223025","baseURI":"http://lp-connector2twitter-app.plteng-connectors:8080","service":"twitterConnectorMultiCloud"},{"account":"41223025","baseURI":"va.wechat-gw.liveperson.net","service":"wechatConnector"},{"account":"41223025","baseURI":"va.lp-connector2twitter.liveperson.net","service":"twitterConnector"},{"account":"41223025","baseURI":"z1.maven.liveperson.net","service":"coreAIMavenHubDomain"},{"account":"41223025","baseURI":"va.agentsmartassist.liveperson.net","service":"agentSmartAssist"},{"account":"41223025","baseURI":"va.le1.liveperson.net","service":"liveEngageUI"},{"account":"41223025","baseURI":"va.pd.liveperson.net","service":"predictiveDialer"},{"account":"41223025","baseURI":"va.push.liveperson.net","service":"pusher"},{"account":"41223025","baseURI":"va.apple-gw.liveperson.net","service":"appleConnector"},{"account":"41223025","baseURI":"va.intent.liveperson.net","service":"intentAnalyzer"},{"account":"41223025","baseURI":"va.vm.liveperson.net","service":"visitManager"},{"account":"41223025","baseURI":"va.marketplace.liveperson.net","service":"marketplaceDomain"},{"account":"41223025","baseURI":"va.smmsghistproxy.liveperson.net","service":"socialMsgHistDomain"},{"account":"41223025","baseURI":"va-s.c.liveperson.net","service":"mTag"},{"account":"41223025","baseURI":"va.cbllmgateway.liveperson.net","service":"cbLlmGatewayExt"},{"account":"41223025","baseURI":"va.ea.liveperson.net","service":"analyticsStudio"},{"account":"41223025","baseURI":"darecommender-us-p.int.liveperson.net","service":"darecommender"},{"account":"41223025","baseURI":"va.sentinel.liveperson.net","service":"sentinel"},{"account":"41223025","baseURI":"va.bc-platform.liveperson.net/bot-platform-manager-0.1","service":"cbBotPlatform"},{"account":"41223025","baseURI":"va.le-billing.liveperson.net","service":"leBilling"},{"account":"41223025","baseURI":"http://lp-connector2wechat-app.plteng-connectors:8080","service":"wechatConnectorMultiCloud"},{"account":"41223025","baseURI":"va.cbkaisearch.int.liveperson.net","service":"cbAiSearch"},{"account":"41223025","baseURI":"http://lp-connector2apple-app.plteng-connectors:8080","service":"appleConnectorMultiCloud"},{"account":"41223025","baseURI":"va.v.liveperson.net","service":"smt"},{"account":"41223025","baseURI":"z1.liveper.sn","service":"redirect"},{"account":"41223025","baseURI":"z1.visitorfeedv2.liveperson.net","service":"visitorFeedV2"},{"account":"41223025","baseURI":"z1-3.birb.liveperson.net","service":"leRBMstr"},{"account":"41223025","baseURI":"va.feedbackchute.int.liveperson.net","service":"coreAIFeedbackChuteDomain"},{"account":"41223025","baseURI":"http://lp-connector2kakaotalk-app.plteng-connectors:8080","service":"kakaotalkConnectorMultiCloud"},{"account":"41223025","baseURI":"va.odin.liveperson.net","service":"odinDomain"},{"account":"41223025","baseURI":"va.ihubcrmwdata.liveperson.net","service":"ihubCrmwData"},{"account":"41223025","baseURI":"va.bc-mgmt.liveperson.net/service-monitoring-0.1","service":"cbMonitoring"},{"account":"41223025","baseURI":"http://lp-connector2instagram-app.plteng-connectors:8080","service":"instagramConnectorMultiCloud"},{"account":"41223025","baseURI":"va.bc-msg.liveperson.net","service":"cbChatService"},{"account":"41223025","baseURI":"va.cbqualitymetrics.liveperson.net","service":"cbQualityMetrics"},{"account":"41223025","baseURI":"va.viber-gw.liveperson.net","service":"viberConnector"},{"account":"41223025","baseURI":"va.ootb.liveperson.net","service":"ootb"},{"account":"41223025","baseURI":"va-s.c.liveperson.net","service":"openPlatform"},{"account":"41223025","baseURI":"http://lp-connector2grcs-app.plteng-connectors:8080","service":"googleRcsConnectorMultiCloud"},{"account":"41223025","baseURI":"http://lp-usmsgw-app.plteng-connectors:8080","service":"usmsConnectorMultiCloud"},{"account":"41223025","baseURI":"va.shiftstatus.liveperson.net","service":"shiftstatus"},{"account":"41223025","baseURI":"va.cbnluibc.liveperson.net","service":"cbIbc"},{"account":"41223025","baseURI":"va.connectorscfg.liveperson.net","service":"connectorsConfig"},{"account":"41223025","baseURI":"adminlogin.liveperson.net","service":"csdsDomain"},{"account":"41223025","baseURI":"va.pb-config.liveperson.net","service":"pbconfig"},{"account":"41223025","baseURI":"z1.connection-panel.liveperson.net","service":"connectionPanel"},{"account":"41223025","baseURI":"va.intentid.liveperson.net","service":"coreAIFeedback"},{"account":"41223025","baseURI":"va.nls.liveperson.net","service":"nls"},{"account":"41223025","baseURI":"dispatch.look.io","service":"mobileChat"},{"account":"41223025","baseURI":"http://lp-uconn-app.plteng-connectors:8080","service":"uconnConnectorMultiCloud"},{"account":"41223025","baseURI":"va.grcs-gw.liveperson.net","service":"googleRcsConnector"},{"account":"41223025","baseURI":"va.workato.liveperson.net","service":"ihubWorkatoIntegration"},{"account":"41223025","baseURI":"va.orchestrator.int.liveperson.net","service":"orchestrator"},{"account":"41223025","baseURI":"va.cbllmgateway.int.liveperson.net","service":"cbLlmGatewayInt"},{"account":"41223025","baseURI":"va.kakaotalk-gw.liveperson.net","service":"kakaotalkConnector"},{"account":"41223025","baseURI":"va.faasui.liveperson.net","service":"faasUI"},{"account":"41223025","baseURI":"va.cobrowse.liveperson.net","service":"coBrowse"},{"account":"41223025","baseURI":"va.ihubshell.liveperson.net","service":"ihubShell"},{"account":"41223025","baseURI":"keyservice.liveperson.net","service":"keyService"},{"account":"41223025","baseURI":"http://lp-connector2line-app.plteng-connectors:8080","service":"lineConnectorMultiCloud"},{"account":"41223025","baseURI":"va.realtime.liveperson.net","service":"rtDashboard"},{"account":"41223025","baseURI":"accdn.lpsnmedia.net","service":"acCdnDomain"},{"account":"41223025","baseURI":"va.orchestratorext.liveperson.net","service":"orchestratorext"},{"account":"41223025","baseURI":"va.bc-nlu.liveperson.net","service":"cbNluDomain"},{"account":"41223025","baseURI":"va.data-mng.liveperson.net","service":"rtbf"},{"account":"41223025","baseURI":"va.nlp.liveperson.net","service":"nlp"},{"account":"41223025","baseURI":"va.intentid.liveperson.net","service":"coreAIIntent"},{"account":"41223025","baseURI":"va.lp-rollover.liveperson.net","service":"rollover"},{"account":"41223025","baseURI":"va.routingbot.ext.liveperson.net","service":"routingBot"},{"account":"41223025","baseURI":"va.msg-gw.liveperson.net","service":"facebookConnector"},{"account":"41223025","baseURI":"va.bc-intg.liveperson.net","service":"cbExternalIntegrations"},{"account":"41223025","baseURI":"z1.acc-create.liveperson.net","service":"accountCreation"},{"account":"41223025","baseURI":"z1.acr.liveperson.net","service":"accountConfigReadOnly"},{"account":"41223025","baseURI":"va.lp-connector2instagram.liveperson.net","service":"instagramConnector"},{"account":"41223025","baseURI":"va.handoff.liveperson.net","service":"outboundConfiguration"},{"account":"41223025","baseURI":"va.pcigw.liveperson.net","service":"tokenizer"},{"account":"41223025","baseURI":"va.octopus.liveperson.net","service":"leIntegration"},{"account":"41223025","baseURI":"va.providersubscription.liveperson.net","service":"subscription"},{"account":"41223025","baseURI":"va.event-manager.liveperson.net","service":"eventManager"},{"account":"41223025","baseURI":"va.lp-connector2email.liveperson.net","service":"emailConnector"},{"account":"41223025","baseURI":"va.v-feed.liveperson.net","service":"visitorFeed"},{"account":"41223025","baseURI":"va.bc-bot.liveperson.net/botservice-0.1","service":"cbBotService"},{"account":"41223025","baseURI":"va.encryptionmgmt.int.liveperson.net","service":"encryptionMgmtDomain"},{"account":"41223025","baseURI":"accdn.lpsnmedia.net","service":"acCdnDomainMobileSdk"},{"account":"41223025","baseURI":"va.lp-msgewt.liveperson.net","service":"msgEwtAPI"},{"account":"41223025","baseURI":"z1.bi.liveperson.net","service":"leBiMstr"},{"account":"41223025","baseURI":"http://lp-connector2facebook-app.plteng-connectors:8080","service":"facebookConnectorMultiCloud"},{"account":"41223025","baseURI":"va.line-gw.liveperson.net","service":"lineConnector"},{"account":"41223025","baseURI":"z1.ccs.liveperson.net","service":"ccs"},{"account":"41223025","baseURI":"lpcdn.lpsnmedia.net","service":"leCdnDomain"},{"account":"41223025","baseURI":"va.auditlog.liveperson.net","service":"auditLog"},{"account":"41223025","baseURI":"va1.agent4matching.liveperson.net","service":"routingMsg"},{"account":"41223025","baseURI":"va.ihubcrmwconfig.liveperson.net","service":"ihubCrmwConfig"},{"account":"41223025","baseURI":"va.logingateway.liveperson.net","service":"logingateway"},{"account":"41223025","baseURI":"va.ams.liveperson.net","service":"asyncMessaging"},{"account":"41223025","baseURI":"va.secureformconfig.liveperson.net","service":"secureformconfig"},{"account":"41223025","baseURI":"va.msghist.liveperson.net","service":"msgHist"},{"account":"41223025","baseURI":"va.bc-intg.liveperson.net/r","service":"cbShortenedUrl"},{"account":"41223025","baseURI":"va.pb-signalprocessor.liveperson.net","service":"pbsignalprocessor"},{"account":"41223025","baseURI":"va.cbknowledge.liveperson.net/knowledge-0.1","service":"cbKb"},{"account":"41223025","baseURI":"va.transporter.liveperson.net","service":"transporter"},{"account":"41223025","baseURI":"va.cbanalytics.liveperson.net","service":"cbAnalytics"},{"account":"41223025","baseURI":"va.appmgmtsvc.liveperson.net","service":"appMgmtSvcDomain"},{"account":"41223025","baseURI":"va.medalliaadaptor.liveperson.net","service":"ihubMedalliaAdaptor"},{"account":"41223025","baseURI":"va.promptlibrary.liveperson.net/lp-promptlibrary-app","service":"promptlibrary"},{"account":"41223025","baseURI":"z1.lpEng.liveperson.net","service":"lpEng"},{"account":"41223025","baseURI":"va.automationlookup.int.liveperson.net","service":"coreAIAutomation"},{"account":"41223025","baseURI":"z1.askmaven.liveperson.net","service":"askMaven"},{"account":"41223025","baseURI":"va.enghist.liveperson.net","service":"engHistDomain"},{"account":"41223025","baseURI":"va.fms.liveperson.net","service":"fms"}]});try{window.lpTag.taglets.lp_dynButtons=function(){function n(n){lpTag.taglets.lp_global_utils.convertConfig(n,O);window.lpMTagConfig=window.lpMTagConfig||{};window.lpMTagConfig.dynButton=window.lpMTagConfig.dynButton||[];lpMTagConfig.ifVisitorCode=lpMTagConfig.ifVisitorCode||[];lpMTagConfig.onLoadCode=lpMTagConfig.onLoadCode||[];lpMTagConfig.onLoadCode.push(t);lpTag.events.bind("lp_emt_event_bridge","LP_DYNBUTTON_START",f);lpTag.events.bind("lp_emt_event_bridge","LP_DYNBUTTON_STATE",l);U=lpTag.dbs;lpTag.dbs=lpTag.taglets.lp_dynButtons}function e(){if("undefined"!=typeof U&&U.length)for(var n=0;n<U.length;n++)b(U[n]);U=[];b(O.buttons)}function t(){try{k=!0;for(var n=0;n<D.length;n++){var e=D[n];b(e)}D=[];o()}catch(t){_("Exception in _processQueueOnEMTReady e="+t)}}function o(){if("undefined"!=typeof lpMTagConfig.dynButton)for(var n=0;n<lpMTagConfig.dynButton.length;n++){var e=lpMTagConfig.dynButton[n].pid;if("undefined"!=typeof e&&null==document.getElementById(e)){T("Removing dynButton "+lpMTagConfig.dynButton[n].name+" pid:"+e);S[lpMTagConfig.dynButton[n].name]?S[lpMTagConfig.dynButton[n].name].deployed=!1:T("button found in dynButton and not in _store. Probably uses hybrid deployment");lpMTagConfig.dynButton.splice(n,1);n--}else S[lpMTagConfig.dynButton[n].name]?S[lpMTagConfig.dynButton[n].name].deployed=!0:T("button found in dynButton and not in _store. Probably uses hybrid deployment true")}}function a(n){return lpTag.events.bind("lp_emt_event_bridge",n,function(e){r(n,e)})}function i(n){for(var e=0;e<n.refreshOn.length;e++){var t=n.refreshOn[e];if(!w[t]){var o=a(t);w[t]={evID:o,buttons:[]}}w[t].buttons.push(n.name)}}function r(n){try{T("evCallback for dyn button:"+n);for(var e=w[n],t=0;t<e.buttons.length;t++)p(e.buttons[t])}catch(o){_("Exception in _evCallback e="+o)}}function f(n){try{T("button START Callback for button name:"+n.name);var e=S[n.name];if(e){var t=d(e.name);if(t){e.busyClickable&&(t.overwriteObj.busyAction=function(n){return u(n)});e.offlineClickable&&(t.overwriteObj.offlineAction=function(n){return u(n)});e.alternateClickable&&(t.overwriteObj.alternateAction=function(n){return u(n)})}else _("Can not find button Reference (_buttonStartCallback) name:"+e.name)}else _("Can not find button that started in the _store (_buttonStartCallback). name:"+n.name)}catch(o){_("Exception in _buttonStartCallback e="+o)}}function l(n){try{var e=S[n.name];if(e){if(e.busyClickable&&"busy"==n.buttonState||e.offlineClickable&&"offline"==n.buttonState||e.alternateClickable&&"alternate"==n.buttonState){var t=d(e.name);t?setTimeout(function(){2!=t.contentType&&t.setCursorStyle("pointer")},1):_("Can not find button Reference name:"+e.name)}}else _("Can not find button that started in the _store. name:"+n.name)}catch(o){_("Exception in _buttonStateChangeCallback e="+o)}}function u(n){try{var e=s(n);if(e){var t=S[e.buttonName],o=e.AVAILIABLE;if("busy"==e.buttonState){t.busyModeForceOffline&&(o=e.BUSY);t.busyModeExtraUDEs&&(t.extra=t.busyModeExtraUDEs)}else if("offline"==e.buttonState){t.offlineModeForceOffline&&(o=e.OFFLINE);t.offlineModeExtraUDEs&&(t.extra=t.offlineModeExtraUDEs)}else if("alternate"==e.buttonState){t.alternateModeForceOffline&&(o="Alternate");t.alternateModeExtraUDEs&&(t.extra=t.alternateModeExtraUDEs)}e.openChatWin(o);t.extra=null;delete t.extra}else _("Can not find button reference. name:"+n)}catch(a){_("Exception in _stateOnClick e="+a)}}function d(n){for(var e=0;e<lpMTagConfig.dynButton.length;e++){var t=lpMTagConfig["dynButton"+e];if(t&&t.origButtonName==n)return t}return void 0}function g(n){if("undefined"==typeof n.name||"undefined"==typeof n.pid){T("Invalid button definition name:"+n.name+" pid:"+n.pid);return!1}return!0}function s(n){for(var e=n.split("."),t=window,o=0;o<e.length;o++){t=t[e[o]];if("undefined"==typeof t||null==t)return void 0}return t}function p(n){T("Refreshing button name:"+n);var e=d(n);e?setTimeout(function(){try{e.MakeCall()}catch(n){_("Exception while but_ref.MakeCall() e="+n)}},500):_("Can not find button reference (_refreshButton). name:"+n)}function c(n){T("Refreshing button by pid:"+n);var e=!1;for(var t in S){var o=S[t];if(n==o.pid){p(o.name);e=!0}}e||T("Button refresh by pid="+n+" failed. No button found")}function b(n){try{if("undefined"==typeof n){_("Calling add with no parameters");return}if(k){"undefined"==typeof n.length&&(n=[n]);for(var e=0;e<n.length;e++)y(n[e])}else{T("Adding button to queue name/length:"+(n.length?n.length:n.name));D.push(n)}}catch(t){_("Exception in add e="+t)}}function y(n){if(!g(n)){T("Button not added name:"+n.name);return!1}T("Adding button name:"+n.name+" pid:"+n.pid);v(n);n.name=m(n.name);n.pid=m(n.pid);window.lpMTagConfig.dynButton.push(n);S[n.name]=n;n.refreshOn&&n.refreshOn.length>0&&i(n);lpTag.events.trigger(B,"DYNBUTTON_ADDED",n);return!0}function m(n){var e=n.match(/\{UDE![^}]*\}/g);if(e)for(var t=0;t<e.length;t++){var o=e[t];n=C(n,o)}return n}function C(n,e){var t=e.substr(1);t=t.substr(0,t.length-1);t=t.split("!");t=t[1];var o=new RegExp("\\{UDE!"+t+"\\}","g");n=n.replace(o,lpTag.taglets.lp_vars.get(t));return n}function v(n){for(var e in x)"undefined"==typeof n[e]&&(n[e]=x[e])}function h(n){return"undefined"==typeof n?S:S[n]}function T(n){lpTag.log(n,"DEBUG",B)}function _(n){lpTag.log(n,"ERROR",B)}function M(){return{_config:O,_store:S,_queue:D,_emtReady:k,_registeredEvents:w}}var E="1.3.3",B="lp_dynButtons",x={afterStartPage:!0,busyClickable:!1,busyModeForceOffline:!0,busyModeExtraUDEs:"",offlineClickable:!1,offlineModeForceOffline:!0,offlineModeExtraUDEs:"",alternateClickable:!1,alternateModeForceOffline:!0,alternateModeExtraUDEs:"",refreshOn:[]},O={buttons:[]},w={},k=!1,D=[],S={},U=[];return{v:E,name:B,init:n,start:e,includes:[{name:"lp_vars"},{name:"lp_global_utils"},{name:"lp_emt_event_bridge"}],push:b,get:h,refreshByPid:c,refreshByName:p,inspect:M}}();}catch(e){lpTag.handleGeneralError("lp_dynButtons",e);}try{window.lpTag=window.lpTag||{};window.lpTag.taglets=window.lpTag.taglets||{};lpTag.taglets.lpSecureStorage=lpTag.taglets.lpSecureStorage||function(e){function t(e){r(e);e&&e.length&&n(e,zt);Qt=void 0!==zt.isFetchEnabled?JSON.parse(zt.isFetchEnabled):!1;rt=zt.fetchCacheMode;it=Qt?lpTag.taglets.fetch:lpTag.taglets.jsonp;Zt=zt.isPartitionCookieEnabled;$t=zt.isCrossDomainCookiePrioritized;Xt=zt.browserWhitelist;a();i();nt=qt.getDomain(Ut.ACCDN)||null;jt=f(qt.getDomain("leCdnDomain"))}function n(e,t){var n;lpTag.taglets.lpUtil.convertConfig(e,t);(t.periodToDisableFallbackRequestsInDays||"0"===t.periodToDisableFallbackRequestsInDays)&&(n=parseInt(t.periodToDisableFallbackRequestsInDays,10));n>=0&&(Mt=24*n*60*60*1e3)}function r(e){e&&0!==e.length&&e.forEach(function(e){"legacyGetPath"===e.id&&"true"===e.value?Ht=!0:"legacyIframe"===e.id&&"true"===e.value&&(Wt=!0)})}function i(){Jt.bind({eventName:"firstPartyMessage",appName:ot,func:re})}function a(){var e=lpTag.protocol+"//"+lpTag.csds.getDomain(Ut.ACCDN)+"/api/account/"+lpTag.site+"/configuration/setting/accountproperties"+(Qt?"":"/"),t=s();We("_loadSiteSettings called with url: "+e);if(Ze||t){if(!Ze&&t){We("_loadSiteSettings - Account settings network call already in progress"+e);o()}}else{c();at=!1;it.issueCall({url:e,timeout:5e3,retries:0,callbackName:"accountSettingsCB",allowDuplicateCallbackNames:"true",credentials:Qt?"omit":void 0,cache:Qt&&rt?rt:void 0,success:function(e){var t=Qt?e&&e.body:e;l(t,!0)},error:function(e){if(e&&e.cspOrNetworkError){at=!0;it=lpTag.taglets.jsonp;Qt=!1;a()}else p(!0)}})}}function o(){var e=lpTag.events.hasFired("*","receivedAccountSettings"),t=lpTag.events.hasFired("*","receivedAccountSettingsFailed");e.length<1?Jt.once({appName:"*",eventName:"receivedAccountSettings",func:function(e){l(e,!1)}}):l(e[0].data,!1);t.length<1?Jt.once({appName:"*",eventName:"receivedAccountSettingsFailed",func:function(e){p(e,!1)}}):p(t[0].data,!1)}function s(){return Jt.hasFired("*","requestedAccountSettings").length>0&&!at}function c(){Jt.trigger({appName:"*",eventName:"requestedAccountSettings",data:{}})}function u(){if(qe())Be("_enableFirstParty: cross-domain feature is on - continue with the defaults");else{Be("_enableFirstParty: cross-domain feature is off - force first party storage");$e=!0}}function l(e,t){if(e&&Array.isArray(e)&&!e.error){We("_loadSiteSettings - got configuration: "+JSON.stringify(e));Ze=e;$e=d(_t.FIRST_PARTY_STORAGE,"true");var n=lpTag.device&&lpTag.device.browserName()&&lpTag.device.browserName().toLowerCase();if($e)if(qe()||Xt&&Xt.length&&Xt.indexOf(n)<0){Be(qe()?"_receivedAccountsSettings: cross-domain activated - disabling first party storage":"_receivedAccountsSettings: firstPartyStorageFeature disabled for current browser");$e=!1}else{Be(Xt?"_receivedAccountsSettings: firstPartyStorageFeature enabled for current browser":"_receivedAccountsSettings: firstPartyStorageFeature enabled for all browsers");et=T(_t.FIRST_PARTY_STORAGE);tt=g(_t.FIRST_PARTY_STORAGE)}else u()}else{We("_loadSiteSettings - NO CONFIGURATION FOUND");Ze=[];u()}O();t&&Jt.trigger({appName:"*",eventName:"receivedAccountSettings",data:e})}function p(e){He("Loading siteSettings: "+lpTag.site+" failed.");Ze=[];u();O();e&&Jt.trigger({appName:"*",eventName:"receivedAccountSettingsFailed",data:{}})}function f(e){return e.indexOf("dev.lprnd.net")>0?location.hostname===e?!0:e.indexOf("qtvr")>0||e.indexOf("lp-cdn-qa")>0?!1:!1:"lpcdn-a.lpsnmedia.net"===e?!1:"lpcdn.lpsnmedia.net"===e?!1:!0}function d(e,t){var n=Ze.filter(function(t){return t.id===e}),r=n&&n.length>0&&n[0].propertyValue&&n[0].propertyValue.value;return r&&r===t}function g(e){var t=Ze.filter(function(t){return t.id===e});return t.length&&t[0].modifiedDate&&new Date(t[0].modifiedDate)}function T(e){var t=Ze.filter(function(t){return t.id===e});return t.length&&t[0].createdDate&&new Date(t[0].createdDate)}function S(e){e=Ge(e);return e&&It[e]?It[e]:It}function y(e){b(e);e.type=Ct.GET;F(e)}function m(e){b(e);e.type=Ct.MULTIGET;F(e)}function v(e){if(!e||-1!==e.expires&&-1!==e.ttl){e.type=Ct.SET;F(e)}else h(e)}function E(e){b(e);e.type=Ct.TOUCH;F(e)}function h(e){if(e){e.ttl=-1;e.expires=-1}e.type=Ct.REMOVE;F(e)}function R(e){var t,n;if(xt){e&&e.debug===!0&&(vt=!0);for(var r in e)if("object"==typeof e[r]&&e.hasOwnProperty(r)&&e[r].site){e[r].app||(e[r].app=Pt);Bt[e[r].app]||(Bt[e[r].app]=e[r]);!zt.disableIFrame||qe()||lpTag.isUnauthExternalWindow||(e[r].firstParty=!0);if(e[r].url&&0===e[r].url.indexOf("http")){var i=I(e[r]);We("Configuring url "+e[r].url);t=Ge(e[r].url);i&&(t=Nt.FIRSTPARTYSTORAGE);if(ft[t])if(It[t]&&It[t][e[r].app])Te(e[r].chosenStorageHandler,It[t][e[r].app]);else{Ee(t,e[r].app,e[r].chosenStorageHandler);N(e[r],t)}else{Ee(t,e[r].app,e[r].chosenStorageHandler);n=C(e[r],t);me(e[r],n,t)}}else e[r].url===ct&&ye(e[r])}}else en.push(R.bind(this,e))}function O(){xt=!0;A(en);A(nn);A(tn)}function A(e){for(;e&&e.length;)e.shift()()}function C(e,t){var n=Kt&&$e&&ze()?Nt.LOCALSTORAGE:e.initialStorageType;return{type:Ct.SELECT_STORAGE,app:e.app,domain:t,site:e.site,initialStorageType:n,force:e.force,duplicate:e.duplicate,firstParty:e.firstParty,error:e.error}}function N(e,t){F(C(e,t))}function b(e){if(e&&e.value){e.value=null;delete e.value}return e}function I(e){return!e.duplicate&&($e||e.force)&&e.firstParty}function k(e){var t=e.firstParty;if("undefined"==typeof t){var n=Bt[e.app];n&&!n.disableFirstPartyGlobalConfig&&(t=n.firstParty)}return!e.duplicate&&($e||e.force)&&t}function w(e){We("DUPLICATED REQUEST: "+e)}function F(e){var t=Ge(e.domain);!zt.disableIFrame||qe()||lpTag.isUnauthExternalWindow||(e.firstParty=!0);var n=k(e),r=lpTag.taglets.lpUtil&&lpTag.taglets.lpUtil.clone(e)||{};e.success&&(r.success=w.bind(this,"SUCCESS"));e.error&&(r.error=w.bind(this,"ERROR"));if(xt){if(n&&t!==Nt.FIRSTPARTYSTORAGE&&e.domain!==ct){var i=t;t=Nt.FIRSTPARTYSTORAGE;if(Ct.SET===e.type||Ct.TOUCH===e.type||Ct.REMOVE===e.type)D()&&P(e,r);else if(Ct.GET===e.type||Ct.MULTIGET===e.type){r.success=e.success;r.error=e.error;if(!e.bound){e.bound=!0;e.success=U.bind(this,r.success,r,i,!1);e.error=U.bind(this,r.error,r,i,!0)}}}else $e||Ct.GET!==e.type&&Ct.MULTIGET!==e.type||e.domain===ct||jt||!e.firstParty&&!e.clearFirst||D()&&G(e,r);e.app||(e.app=Pt);if(M(e,t))e.alreadyConfigured&&e.error?Te(e.error,"Could not configure storage",e.keys||e.key):R(Y(e));else{x(e,t)&&(e.alreadyConfigured=!0);V(e,t)}}else tn.push(F.bind(this,e))}function P(e,t){t.firstParty=!1;t.duplicate=!0;if(e.expires&&-1!==e.expires&&e.expires>60*Vt){e.expires=Vt;t.expires=Vt}if(e.ttl&&-1!==e.ttl&&e.ttl>60*Vt*1e3){e.ttl=1e3*Vt;t.ttl=1e3*Vt}Ct.SET===e.type?v(t):Ct.TOUCH===e.type?E(t):Ct.REMOVE!==e.type||e.forceFirst||h(t)}function G(e,t){t.firstParty=!0;t.force=!0;t.forceFirst=!0;if(Ct.MULTIGET===e.type)for(var n=0;n<e.keys.length;n++){t.type=Ct.REMOVE;t.key=e.keys[n];h(t)}else{t.type=Ct.REMOVE;h(t)}}function D(){var e=tt||et,t=lpTag.taglets.lpSecureStorage.isStepUpEnabled,n=zt.disableIFrame&&!qe()&&!lpTag.isUnauthExternalWindow;return!n&&(t||!e||Math.abs(Lt-e.getTime())<Mt)}function U(e,t,n,r,i){var a=!1;t.type===Ct.MULTIGET&&"object"==typeof i&&(a=_(i));if(i&&!a)Te(e,i);else if(D()){var o=t.error;t.firstParty=!1;t.domain=n;t.url=n;t.error=function(t){r?Te(o,t):Te(e,i)};y(t)}else Te(e,i)}function _(e){for(var t in e)if(null!==e[t])return!1;return!0}function x(e,t){var n=dt[t]&&dt[t].filter(function(t){return t.type===Ct.SELECT_STORAGE&&t.app===e.app}.bind(this)),r=L(e,t),i=e.type===Ct.SELECT_STORAGE||r||n&&n.length>0;return i}function M(e,t){var n=x(e,t),r=!(!It[t]||!It[t][e.app]);return!n&&!r}function L(e,t){if(gt)for(var n in gt)if(gt.hasOwnProperty(n)&&gt[n].type===Ct.SELECT_STORAGE&&gt[n].domain===t&&gt[n].app===e.app)return!0;return!1}function Y(e){var t={};t[e.app]={site:e.site,app:e.app,url:e.domain,initialStorageType:e.initialStorageType,chosenStorageHandler:F.bind(this,e),firstParty:e.firstParty,force:e.force,duplicate:e.duplicate,env:Je()};"function"==typeof e.error&&(t[e.app].error=e.error);return t}function V(e,t){var n=e.domain===ct,r=k(e);if(r){e.url=e.domain||t;t=Nt.FIRSTPARTYSTORAGE;e.domain=Nt.FIRSTPARTYSTORAGE}n?J(e):Dt.get(t)?Q(e,t):K(e,t)}function q(){lpTag.storageMethods&&!Xe&&(Xe=lpTag.storageMethods);return Xe?Xe.isSessionStorageEnabled():!1}function J(e){var t,n;if(q())switch(e.type){case Ct.GET:case Ct.MULTIGET:n=W(e);Te(e.success,n,e.keys||e.key);break;case Ct.SET:t=""+e.site+e.key;B(t,e);Te(e.success,e.value,e.key);break;case Ct.TOUCH:n=H(""+e.site+e.key,e);Te(n?e.success:e.error,n?n:{error:"No data to touch"},e.key);break;case Ct.REMOVE:t=""+e.site+e.key;n={error:"Object not found."};z(t,e)&&(n=void 0);Te(n&&n.error&&e.error?e.error:e.success,n&&n.error||n,e.key)}else Te(e.error||e.success,{error:"SessionStorage is not active",code:500},e.key)}function j(e){var t=Xe.getSessionData(e);try{t=""===t?"":JSON.parse(t)}catch(n){}return""!==t?t:null}function H(e,t){var n=j(e);t.appName&&null!==n&&"object"==typeof n&&(n=n[t.appName]);return""!==n?n:null}function W(e){var t,n,r=!1,i=!1,a={};if(e.keys&&Array.isArray(e.keys)){r=!0;t=e.keys}else t=[e.key];t.forEach(function(t){n=H(""+e.site+t,e);if(n){a[t]=n;i=!0}});a=i?r?a:a[t[0]]:null;return a}function B(e,t){var n=j(e);null===n&&(n={});if("object"==typeof n){n[t.appName]=t.value;return Xe.setSessionData(e,ge(n))}return!1}function z(e,t){var n=!1,r=!1,i=j(e);if(null!==i&&"object"==typeof i&&i.hasOwnProperty(t.appName)){i[t.appName]=null;delete i[t.appName];for(var a in i)if(i.hasOwnProperty(a)){r=!0;break}n=!0}return n&&r?Xe.setSessionData(e,ge(i)):n?Xe.removeSessionData(e):!1}function K(e,t){var n;if(e&&((e.success||e.error)&&(e.key||e.keys)&&e.appName||e.type===Ct.SELECT_STORAGE)&&e.domain&&e.site)if(ut)if(ft[t]){n=e.app&&It[t]&&It[t][e.app];if(n&&e.type===Ct.SELECT_STORAGE){ce(e.domain,e.app,n);le(e.domain)}else if(!n||n&&!n.error){Ve(e);_e(e);We("Made request for key: "+e.key+" appName: "+e.appName)}else{Te(e.error||e.success,null,e.key);We("No Storage Selected, Blocked request for key: "+e.key+" appName: "+e.appName)}}else me(e,e,t);else lt.push(function(){F(e)})}function Q(e,t){yt[t]="undefined"==typeof yt[t]?[]:yt[t];yt[t].push(e)}function X(){var e,t=(new Date).getTime(),n=!1;if(Qe){clearTimeout(Qe);Qe=null}for(var r in gt)if(gt.hasOwnProperty(r)){e=0;e=t-gt[r].startTime;if(e>=ht){He("iFrame not responding in time to requests, domain: "+gt[r].domain);ue(r,gt[r].key,null,!0)}else n=!0}Z(n)}function Z(e){e&&!Qe&&(Qe=setTimeout(X,Rt))}function $(e,t){Tt[e]=t?"undefined"==typeof Tt[e]?1:Tt[e]+1:0;We("Domain "+e+" error count: "+Tt[e],"_manageErrorState");Tt[e]>Ot&&Ae(yt[e],e,"iFrame not responding in time to requests")}function ee(e){if(ft[e]&&ft[e].parentNode){ft[e].parentNode.removeChild(ft[e]);ft[e]=null;delete ft[e];Tt[e]=0;He("Removed iFrame for domain","_removeIFrame")}}function te(){document.body?Le():setTimeout(te,0)}function ne(e){e&&e.data&&St[e.origin]&&ae(e.data,e.origin)}function re(e){We("firstParty message triggered from client");e&&e.data&&ae(e.data,Nt.FIRSTPARTYSTORAGE)}function ie(e){gt[e]=null;delete gt[e]}function ae(e,t){var n,r,i,a,o;if("string"==typeof e){a=de(e);if(a){n=a.id;r=a.key||a.keys;i="undefined"!=typeof a.value?a.value:a.error;if(wt===r){oe(a,t);o=Ge(t);ue(n,r,i,!!a.error,o)}else{ue(n,r,i,!!a.error);We("Got result for key: "+r+" appName: "+a.appName)}}}}function oe(e,t){var n,r;if(!e.app){if(gt){for(var i in gt)if(gt.hasOwnProperty(i)&&se(t,gt[i])){n=gt[i].app;r=i;break}r&&ie(r)}if(dt&&!r)for(var a in dt){dt.hasOwnProperty(a)&&a===t&&Array.isArray(dt[a])&&dt[a].every(function(e,i){if(se(t,e)){n=e.app;r=i;return!1}return!0});if("undefined"!=typeof r){dt[a].splice(r,1);break}}e.app=n||Pt}It[t]=It[t]||{};It[t][e.app]=e.value;We("Got storage type: "+e.value+" for origin: "+t+" appName: "+e.appName);ce(t,e.app,e.value)}function se(e,t){return t.type!==Ct.SELECT_STORAGE||t.domain!==e||t.app!==Pt&&t.app!==Gt?!1:!0}function ce(e,t,n){if(kt[e]&&kt[e][t]&&kt[e][t].length>0){kt[e][t].forEach(function(e){Te(e,n)});kt[e][t]=[]}}function ue(e,t,n,r,i){var a=pe(e),o=i||a&&Ge(a.domain);a&&fe(a,n,t,r);e&&ie(e);Dt.set(!1,o);$(o,r);le(o)}function le(e){yt[e]&&yt[e].length>0&&F(yt[e].shift())}function pe(e){return e&&gt[e]?gt[e]:void 0}function fe(e,t,n,r){r?Te(e.error||e.success,t,n):Te(e.success,t,n)}function de(e){try{e=decodeURIComponent(e);e=JSON.parse(e)}catch(t){}return e}function ge(e){var t,n;if("function"==typeof Array.prototype.toJSON){n=Array.prototype.toJSON;delete Array.prototype.toJSON;try{t=JSON.stringify(e)}catch(r){Array.prototype.toJSON=n;throw r}Array.prototype.toJSON=n}else t=JSON.stringify(e);return t}function Te(e,t,n){if("function"==typeof e)try{e(t,n)}catch(r){}}function Se(t,n,r){e.addEventListener?t.addEventListener(n,r,!1):t.attachEvent("on"+n,r)}function ye(e){var t={app:e.app,value:"NONE"};Ee(ct,e.app,e.chosenStorageHandler);if(q()){ft[ct]=!0;t.value=Nt.STATICSESSIONSTORAGE}oe(t,ct)}function me(e,t,n){var r,i=e.url||e.domain,a=e.site,o=I(e);n=n||Ge(i);if(xt){if(!ft[n])if(dt[n])ve(n,t);else if(o){We("Attaching first party methods: "+i+" domain: "+n);r=Re();St[Nt.FIRSTPARTYSTORAGE]=!0;r.setAttribute("src",ke(i,a,e));dt[Nt.FIRSTPARTYSTORAGE]=[];ve(Nt.FIRSTPARTYSTORAGE,t);ut?Oe(Nt.FIRSTPARTYSTORAGE,r)():pt.push(Oe(Nt.FIRSTPARTYSTORAGE,r))}else{We("Attaching iFrame: "+i+" domain: "+n);r=he();St[n]=!0;r.setAttribute("src",Ie(i,a,e));dt[n]=[];ve(n,t);ut?Oe(n,r)():pt.push(Oe(n,r))}return r}nn.push(me.bind(this,e,t,n))}function ve(e,t){t&&dt[e].push(t)}function Ee(e,t,n){if(n){kt[e]=kt[e]||{};kt[e][t]=kt[e][t]||[];kt[e][t].push(n)}}function he(){var e=document.createElement("iframe"),t=e.style,n="lpSS_"+Math.floor(9e10*Math.random()),r={tabIndex:"-1","aria-hidden":"true",role:"presentation",title:"Intentionally blank",name:zt&&zt.useStaticID?"lpSS_iframe":n,id:zt&&zt.useStaticID?"lpSS_iframe":n};t.width="0px";t.height="0px";t.position="absolute";t.top="-1000px";t.left="-1000px";t.display="none";for(var i in r)r.hasOwnProperty(i)&&e.setAttribute(i,r[i]);return e}function Re(){var e=document.createElement("script");e.id="lpSS_"+Math.floor(9e10*Math.random());return e}function Oe(e,t){return function(){var n=setTimeout(function(){Ae(dt[e],e,"unable to load iFrame for key")},Et);Se(t,"load",function(){Ne(t,e,n)});document.body.appendChild(t)}}function Ae(e,t,n){for(;e.length>0;){var r=e.shift();r.error&&setTimeout(Ce(r.error,n||{error:n,key:r.key},r.key),0)}ee(t)}function Ce(e,t,n){return function(){Te(e,t,n)}}function Ne(t,n,r){r&&clearTimeout(r);ft[n]=t.tagName&&"script"===t.tagName.toLowerCase()?{contentWindow:e}:t;We("Loaded frame "+n);be(n)}function be(e){We("Running pending request for frame "+e);if(dt[e]){for(;dt[e].length>0;)F(dt[e].shift());dt[e]=null;delete dt[e]}}function Ie(e,t,n){var r,i,a,o;if(e&&"string"==typeof e){i=Je();a=Fe(n);e=we(e,n);r=0<location.port.length?":"+location.port:"";o=e+"/"+a+"?loc="+encodeURIComponent(location.protocol+"//"+location.hostname+r)+"&site="+encodeURIComponent(t)+(n.initialStorageType?"&ist="+encodeURIComponent(n.initialStorageType):"")+(n.force?"&force=1":"")+(i?"&env="+encodeURIComponent(i):"")+(qe()?"&isCrossDomain=true":"")+(nt?"&accdn="+encodeURIComponent(nt):"")+(Qt?"&isFetchEnabled=true":"")+(rt?"&fetchCacheMode="+encodeURIComponent(rt):"")+(Zt?"&isPartitionCookieEnabled=true":"")+($t?"&isCrossDomainCookiePrioritized=true":"")}return o}function ke(e,t,n){var r,i,a,o;if(e&&"string"==typeof e){i=Je();a=Pe(n);e=we(e,n);r=0<location.port.length?":"+location.port:"";o=e+"/"+a+"?loc="+encodeURIComponent(location.protocol+"//"+location.hostname+r)+"&site="+encodeURIComponent(t)+(n.initialStorageType?"&ist="+encodeURIComponent(n.initialStorageType):"")+(n.force?"&force=1":"")+(i?"&env="+encodeURIComponent(i):"")+(qe()?"&isCrossDomain=true":"")+(nt?"&accdn="+encodeURIComponent(nt):"")+(Qt?"&isFetchEnabled=true":"")+(rt?"&fetchCacheMode="+encodeURIComponent(rt):"")+(Zt?"&isPartitionCookieEnabled=true":"")+($t?"&isCrossDomainCookiePrioritized=true":"")}return o}function we(e){var t,n,r=e.lastIndexOf("/");if(r>8)n=e.substr(0,r);else{t=e.indexOf("?");t>0&&(n=e.substr(0,t))}n||Ht||(n=e);(!n||""===n||n.indexOf(st)<0&&n.indexOf(":8000")<0)&&(n="https://"+qt.getDomain("leCdnDomain")+"/le_secure_storage/"+st);return n}function Fe(){var e="storage.secure.min.html";vt?e="storage.html":Wt&&(e="storage.min.html");return e}function Pe(){var e;e=vt?"storage.secure.js":"storage.secure.min.js";return e}function Ge(e){var t,n,r=null;if(e===Nt.STATICSESSIONSTORAGE)r=e;else{if(e===Nt.FIRSTPARTYSTORAGE)return e;t=new RegExp(/(http{1}s{0,1}?:\/\/){0,1}([^\/\?]+)(\/?)/gi);n=t.exec(e);n&&n.length>=3&&""!==n[2]&&(r=n[1]+n[2].toLowerCase())}return r}function De(e){var t={};t.id=e.id;e.key?t.key=e.key:e.keys&&(t.keys=e.keys);t.site=e.site;t.appName=e.appName||"*";t.type=e.type;if(e.type===Ct.SELECT_STORAGE){t.initialStorageType=e.initialStorageType;t.force=e.force}isNaN(e.ttl)||(t.ttl=e.ttl);isNaN(e.expires)||(t.expires=e.expires);e.app&&(t.app=e.app);if("undefined"!=typeof e.value){t.value=e.value;t.locations=Ue(e.locations)}return t}function Ue(e){e=e?e.constructor===Array?e:[e]:[];e.push(document.location.hostname);return e}function _e(e){var t,n=Ge(e.domain);if(ft[n]){e.startTime=(new Date).getTime();t=De(e);Dt.set(!0,n);xe(t,n);Z(!0)}}function xe(e,t){if(ft[t])if(t===Nt.FIRSTPARTYSTORAGE)lpTag.isUnauthExternalWindow||Jt.trigger({appName:Yt,eventName:"firstPartyMessage",data:{data:Me(e)}});else{var n=Me(e);if(!ft[t]||!ft[t].contentWindow){We("_postTheMessage: cannot postMessage to contentWindow because frame was not found/loaded, request message was: "+n);return}ft[t].contentWindow.postMessage(n,t)}}function Me(e){try{e=ge(e);e=encodeURIComponent(e)}catch(t){}return e}function Le(){ut=!0;for(;pt.length>0;)try{pt.shift()()}catch(e){}for(;lt.length>0;)try{lt.shift()()}catch(e){}}function Ye(){mt++;mt>2e4&&(mt=0);return"k"+mt+(new Date).getTime()+parseInt(100*Math.random(),10)}function Ve(e,t){e.id=t?t:Ye();"undefined"!=typeof e.value&&(e.type=Ct.SET);gt[e.id]=e}function qe(){return lpTag.features&&"function"==typeof lpTag.features.getFeature&&lpTag.features.getFeature(Ft)}function Je(){return"function"==typeof lpTag.getEnv&&lpTag.getEnv()}function je(t,n){e.lpTag&&lpTag.log&&lpTag.log(t,n,ot)}function He(e){je(e,At.ERROR)}function We(e){je(e,At.DEBUG)}function Be(e){je(e,At.INFO)}function ze(){var e=lpTag.device&&lpTag.device.osName(),t=lpTag.device&&lpTag.device.browserName(),n="iOS"===e,r="Safari"===t;return n&&r}function Ke(){return!!$e}var Qe,Xe,Ze,$e,et,tt,nt,rt,it,at,ot="lpSecureStorage",st="3.33.3-release_1982870847",ct="STATICSESSIONSTORAGE",ut=!1,lt=[],pt=[],ft={},dt={},gt={},Tt={},St={},yt={},mt=0,vt=!1,Et=7e3,ht=5e3,Rt=1e3,Ot=10,At={ERROR:"ERROR",DEBUG:"DEBUG",INFO:"INFO"},Ct={SET:"set",GET:"get",MULTIGET:"multiget",REMOVE:"remove",TOUCH:"touch",SELECT_STORAGE:"selectStorage"},Nt={LOCALSTORAGE:"localStorage",SESSIONSTORAGE:"sessionStorage",INDEXEDDB:"indexedDB",COOKIE:"secureSessionCookie",STATICSESSIONSTORAGE:ct,FIRSTPARTYSTORAGE:"firstPartyStorage"},bt={STORAGE:"storage_error"},It={},kt={},wt="SecureStorageClient/storageType",Ft="Common.LiveEngage_2_CrossDomainStorage",Pt="default",Gt="cobrowse",Dt={set:function(e,t){t&&(this[t]=e)},get:function(e){return e?this[e]:void 0}},Ut={ACCDN:"acCdnDomainConsumerSdk"},_t={FIRST_PARTY_STORAGE:"unified.window.allow.first.party.storage"},xt=!1,Mt=12096e5,Lt=(new Date).getTime(),Yt="SecureStorageClient",Vt=31536e3,qt=lpTag.csds,Jt=lpTag.events,jt=!1,Ht=!1,Wt=!1,Bt={},zt={},Kt=!1,Qt=!1,Xt=[],Zt=!1,$t=!1,en=[],tn=[],nn=[];Se(e,"message",ne);te();if(lpTag.isUnauthExternalWindow){$e=!1;O()}return{storageTypes:Nt,getStorageType:S,getValue:y,getValues:m,setValue:v,touchValue:E,removeValue:h,configure:R,sessionStorageStaticDomain:ct,errorTypes:bt,v:st,name:ot,init:t,inspect:function(){var e={};for(var t in ft)ft.hasOwnProperty(t)&&(e[t]={url:t,storageType:It[t]});return{name:ot,version:st,configuredFrames:e,config:zt}},isFirstPartyStorageFeatureEnabled:Ke}}(window);}catch(e){lpTag.handleGeneralError("lpSecureStorage",e);}try{window.lpTag=window.lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.taglets.sdeInfoScraper=lpTag.taglets.sdeInfoScraper||function(){function e(e){G=[];if(e)for(var t=0;t<e.length;t++){var n=e[t].value;if("string"==typeof n&&""!==n){n=JSON.parse(n);n&&G.push(n)}}0===G.length&&L("Structure error: config object is invalid",_.ERROR)}function t(){"object"==typeof G&&G.length>0&&s()}function n(){c();d()}function o(t){n();e(t)}function r(e){var t=A(e.sde);for(var n in e.scrapedInfo)t=null===e.scrapedInfo[n]?t.replace(new RegExp('"(\\\\"|[^"])*{\\{'+n+'\\}}(\\\\"|[^"])*"',"gi"),null):t.replace(new RegExp("\\{\\{"+n+"\\}\\}","gi"),e.scrapedInfo[n]);return JSON.parse(t)}function a(){return{_v:U,_name:V,scrapersConfigArr:G}}function i(){P=!0}function d(){for(;$.length>0;){var e=$.pop();clearTimeout(e)}}function c(){u(window,"load","onload",y);u(document,"DOMContentLoaded","onreadystatechange",S)}function f(e,t,n,o){e.addEventListener?e.addEventListener(t,o,!1):e.attachEvent&&e.attachEvent(n,o)}function u(e,t,n,o){e.removeEventListener?e.removeEventListener(t,o,!1):e.detachEvent(n,o)}function l(e){if("object"==typeof e){for(var t in B)B.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=B[t]);return e}L("Structure error: def object is invalid",_.ERROR)}function s(){p("asap");h();v();g()}function p(e){for(var t=0;t<G.length;t++)try{if(G[t].def.when===e||"undefined"==typeof G[t].def.when&&e===B.when){G[t].def=l(G[t].def);G[t].dataChanged=!1;G[t].scrapedInfo={};m(G[t])}}catch(n){L("Failed to scrape data for configuration id: "+t+". Error: "+n,_.ERROR)}}function g(){"complete"===document.readyState?p("load"):f(window,"load","onload",y)}function y(){p("load")}function h(){if(document.body)p("body");else{var e=setTimeout(h,5);$.push(e)}}function v(){P?p("domContent"):f(document,"DOMContentLoaded","onreadystatechange",S)}function S(){p("domContent")}function m(e){e=w(e);e.def.retry-=1;N(e);if(!J(e.lookup)&&e.def.retry>0){var t=setTimeout(R(e),e.def.delay);$.push(t)}}function R(e){return function(){m(e)}}function w(e){if(e.lookup){for(var t in e.lookup)if(!e.lookup[t].scraped)if(e.lookup[t].length&&e.lookup[t].constructor===Array)for(var n=0;n<e.lookup[t].length&&!e.lookup[t].scraped;n++)E(e,e.lookup[t][n],t);else E(e,e.lookup[t],t);return e}L("Structure error: lookup object is invalid",_.ERROR)}function E(e,t,n){e.scrapedInfo[n]=O(t);if("undefined"!=typeof e.scrapedInfo[n]&&""!==e.scrapedInfo[n]){e.dataChanged=!0;e.lookup[n].scraped=!0;e.scrapedInfo[n]=D(t.onFound,e.scrapedInfo[n])}else e.scrapedInfo[n]="undefined"!=typeof t.defaultVal?t.defaultVal:null}function O(e){if(e){var t;e.query?t=k(e.query,e.attrValue):e.id?t=k("#"+e.id,e.attrValue):e.classN?t=k("."+e.classN,e.attrValue):e.meta?t=b(e):e.jVar?t=j(window,e.jVar):e.sessStg?M.isSessionStorageEnabled()&&(t=M.getSessionData(e.sessStg)||null):e.lclStg?M.isLocalStorageEnabled()&&(t=M.getPersistentData(e.lclStg)||null):e.cookieStg?t=F.readCookie(e.cookieStg):e.search&&(t=q[e.search]);t=C(t,e.cleanup);return t}}function I(){var e,t,n=window.location.search,o={};e=n.substr(1).split("&");for(var r=0;r<e.length;r++)if(e[r].indexOf("=")>-0){t=e[r].split("=");2==t.length&&(o[decodeURIComponent(t[0])]=decodeURIComponent(t[1]))}return o}function k(e,t){var n,o=document.querySelector(T(e));if(o){n=t?o.getAttribute(t):o.innerText||o.textContent;n&&(n=n.replace(/^\s+|\s+$/g,""))}return n}function T(e){e=e.replace(/\.(\d\w+)(?![^[]*\])/g,'[class="$1"]');e=e.replace(/#(\d\w+)(?![^[]*\])/g,'[id="$1"]');return e}function b(e){var t,n=e.meta;t=e[n]&&""!==e[n]?"meta["+n+'="'+e[n]+'"]':"meta["+n+"]";return k(t,e.attrValue)}function C(e,t){if(e)try{return e.replace(new RegExp(t,"g"),"")}catch(n){L("Invalid cleanup regex object",_.ERROR);return e}}function N(e){if(x(e)){var t=r(e);t=D(e.def.beforeSend,t);lpTag.sdes.send(t,function(){L("infoScraper::send::lpSMT.send success for: "+t.toString(),_.DEBUG)});e.dataChanged=!1;L("scraperInfo: "+A(t),_.DEBUG)}}function x(e){var t=!1;if(e.dataChanged){var n=J(e.lookup);n?t=!0:e.def.sendRetry?t=!0:e.def.sendIncomplete&&!n&&e.def.retry<=0&&(t=!0)}return t}function D(e,t){e=e||{};var n=j(window,e.path),o=window,r=t;e.context&&(o=j(window,e.context));if("function"==typeof n&&t)try{r=n.call(o,t);L("Called: "+e.path+" _externalTransform",_.DEBUG)}catch(a){L("Error when calling "+e.path+" _externalTransform",_.ERROR)}else L("Method not found "+e.path+" _externalTransform",_.DEBUG);return r}function j(e,t,n){var o,r=e;if("string"==typeof t){o=t.split(".");for(var a=0;a<o.length;a++){if("undefined"==typeof r||null===r||"undefined"==typeof r[o[a]]||null===r[o[a]]){r="undefined"!=typeof n?n:void 0;break}r=r[o[a]]}}else L("Empty path sent to lookup _getPropertyFromObject",_.INFO);return r}function A(e){var t;if("function"==typeof Array.prototype.toJSON){var n=Array.prototype.toJSON;delete Array.prototype.toJSON;try{t=JSON.stringify(e)}catch(o){Array.prototype.toJSON=n;throw o}Array.prototype.toJSON=n}else t=JSON.stringify(e);return t}function J(e){for(var t in e)if(!e[t].scraped)return!1;return!0}function L(e,t){lpTag.log(e,t,"INFO_SCRAPER")}var U="1.6.1",V="sdeInfoScraper",F=lpTag.cookieMethods,M=lpTag.storageMethods,_={ERROR:"ERROR",INFO:"INFO",DEBUG:"DEBUG"},B={retry:5,delay:1e3,when:"asap"},G=[],P=!1,q=I(),$=[];"complete"===document.readyState||"loaded"===document.readyState||"interactive"===document.readyState?i():f(document,"DOMContentLoaded","onreadystatechange",i);return{version:U,name:V,init:e,start:t,stop:n,reinit:o,restart:t,getSdeObj:r,inspect:a}}();}catch(e){lpTag.handleGeneralError("sdeInfoScraper",e);}try{window.lpTag=window.lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.taglets.lp_sdes=lpTag.taglets.lp_sdes||function(){function e(){var e=lpTag.sdes;lpTag.sdes=lpTag.taglets.lp_sdes;if("undefined"!=typeof e&&e.length)for(var n=0;n<e.length;n++)t(e[n])}function t(e){if("undefined"!=typeof e){"undefined"==typeof e.length&&(e=[e]);for(var t=0;t<e.length;t++)if("object"==typeof e[t]&&e[t].type){var n=s(e[t].type);if("undefined"!=typeof n){n.push(e[t]);f[e[t].type]=n}else f[e[t].type]=[e[t]];d("Added sde type: "+e[t].type);lpTag.events.trigger(o,"VAR_ADDED",e[t])}else g("sde: "+JSON.stringify(e[t])+" is not an Object");lpTag.taglets.lp_monitoringSDK.sdes.push(e)}else g("Called push with no sde")}function n(e,n,s){"undefined"!=typeof e&&t(e);p("called send with sdes: "+JSON.stringify(e),"DEBUG");return lpTag.taglets.lp_monitoringSDK.send(n,s)}function s(e){return e?f[e]:f}function l(){f={};d("sdes store was reset")}function i(){l()}function p(e,t){window.lpTag&&lpTag.log&&lpTag.log(e,t,o)}function g(e){p(e,"ERROR")}function d(e){p(e,"INFO")}var o="lp_sdes",a="3.6.1",f={};return{v:a,name:o,init:e,get:s,push:t,send:n,reset:l,reinit:i,inspect:function(){return{store:s()}}}}();}catch(e){lpTag.handleGeneralError("lp_sdes",e);}try{window.lpTag=window.lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.taglets.scraper=lpTag.taglets.scraper||function(){function e(e){if(e)for(var a=0;a<e.length;a++)"object"==typeof e[a]&&(h[e[a].id]=e[a].value);S=h&&void 0!==h.isFetchEnabled?JSON.parse(h.isFetchEnabled):!1;T=h&&h.fetchCacheMode;f=S?lpTag.taglets.fetch:lpTag.taglets.jsonp}function a(){f.issueCall({url:lpTag.protocol+"//"+lpTag.csds.getDomain(v.ACCDN)+"/api/account/"+lpTag.site+"/configuration/le-campaigns/zones?fields=id&fields=zoneValue",callbackName:"lpZonesStaticCB",credentials:S?"omit":void 0,cache:S&&T?T:void 0,success:function(e){var a=S?e&&e.body:e;z=a;lpTag.events.trigger("SCRAPER","ZONES_LOADED",z);s()},error:function(e){lpTag.log("Loading elements list for scraper failed","ERROR","SCRAPER");if(e&&e.cspOrNetworkError){f=lpTag.taglets.jsonp;S=!1;a()}}})}function n(){i()}function t(){s()}function r(e){for(var a=0;a<z.length;a++)if(z[a].id===e)return z[a].zoneValue;return null}function c(e,a,n){for(var t=0;t<z.length;t++)if(z[t].id===e){z[t].queuedSpecializedScrapes||(z[t].queuedSpecializedScrapes=[]);z[t].queuedSpecializedScrapes.push({specialization:a,callback:n})}}function l(){return{config:h,zones:z}}function i(){for(var e=0;e<z.length;e++)z[e].scraped=!1}function s(){var e=o();u(e);lpTag.isDom||setTimeout(s,h.scrapeInterval)}function o(){for(var e=[],a=0;a<z.length;a++){var n=!1;if(z[a].queuedSpecializedScrapes&&z[a].queuedSpecializedScrapes.length>0){for(var t=0;t<z[a].queuedSpecializedScrapes.length;t++){var r=z[a].queuedSpecializedScrapes[t],c=p(r.specialization,z[a]);c&&c.length>0&&(n=!0);r.callback&&r.callback(c,r.specialization,z[a])}z[a].queuedSpecializedScrapes=[]}if(!z[a].scraped){var l=document.getElementById(z[a].zoneValue);if(null!=l||n&&z[a].zoneType===D.EMBEDDED){z[a].scraped=!0;e.push({type:"pagediv",divId:z[a].zoneValue})}}}return e}function u(e){if(e.length>0){lpTag.log("zones: "+JSON.stringify(e),"DEBUG","SCRAPER");lpTag.sdes.send(e,function(){lpTag.log("scraper::_send::lpTag.sdes.send success for: "+e.toString(),"DEBUG","SCRAPER")})}}function p(e,a){var n=d(e,a),t=[];n&&(t=g(e.scrapeType,n));return t}function d(e,a){return e.scrapeValueType==C.ZONEVALUE?a.zoneValue:e.scrapeValue}function g(e,a){switch(e){case A.CLASS:return document.getElementsByClassName(a);case A.ATTRIBUTE:var n="["+a+"]";return document.querySelectorAll(n);case A.ID:return document.getElementById(a);case A.NAME:return document.getElementsByName(a);case A.TAG:return document.getElementsByTagName(a)}return[]}var f,S,T,E="3.59.0",m="scraper",v={ACCDN:"acCdnDomainConsumerSdk"},z=[],h={scrapeInterval:50},A={CLASS:"class",ATTRIBUTE:"attribute",ID:"id",TAG:"tag",NAME:"name"},C={ZONEVALUE:"zoneValue",CUSTOM:"custom"},D={EMBEDDED:0};return{v:E,name:m,init:e,start:a,reinit:n,restart:t,getElmId:r,queueSpecializedScrape:c,inspect:l}}();}catch(e){lpTag.handleGeneralError("scraper",e);}try{window.lpTag=window.lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.taglets.lpActivityMonitor=lpTag.taglets.lpActivityMonitor||function(){function t(t){lpTag.sdes=lpTag.sdes||[];f(t);s(v)}function e(){c("Starting activity tracking");S=!0;O=setTimeout(E,A.timeout)}function n(){c("Called Stop");if(O){clearTimeout(O);S=!1;p("Stopped activity tracking")}T()}function i(t){c("Called push with type="+t);t&&"number"==typeof t?lpTag.sdes.push({type:A.sdeType,input:t}):r("Did not push sde since type is not a number type="+t,"ERROR")}function o(t){c("Called Reinit");u();f(t);v()}function u(){D=0;U=N.UNDEFINED}function a(){return S}function r(t,e){window.lpTag&&lpTag.log&&lpTag.log(t,e,h)}function c(t){r(t,"DEBUG")}function p(t){r(t,"INFO")}function l(t){try{return JSON.parse(JSON.stringify(t))}catch(e){return t}}function s(t){return setTimeout(t,0)}function f(t){if(t)for(var e=0;e<t.length;e++){var n=t[e].value;"string"==typeof n&&""!==n&&("["===n.charAt(0)||"{"===n.charAt(0))&&("undefined"!=typeof JSON&&JSON.parse?n=JSON.parse(n):r("unable to parse JSON, no JSON object on page ","ERROR"));A[t[e].id]=n}else p("No cfg were given on init")}function m(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent&&t.attachEvent("on"+e,n)}function d(t,e,n){t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent&&t.detachEvent("on"+e,n)}function g(t){y&&clearTimeout(y);var e=t.type;y=s(function(){if(I[e]){U=I[e].input;D=(new Date).getTime()}})}function v(){if(!R)for(var t in I)I.hasOwnProperty(t)&&m(I[t].elem,t,g);R=!0}function T(){if(R)for(var t in I)I.hasOwnProperty(t)&&d(I[t].elem,t,g);R=!1}function E(){var t=(new Date).getTime()-D;if(0!==D&&t<=A.timeout){lpTag.events.trigger(h,"ACTIVITY_MONITORED",{inputType:U,time:D});i(U)}O&&clearTimeout(O);O=setTimeout(E,A.timeout)}var O,y,w="3.6.1",h="lpActivityMonitor",S=!1,N={UNDEFINED:0,MOUSE:1,KEYBOARD:2,TOUCH:3,FOCUS:4},D=0,U=N.UNDEFINED,A={timeout:6e4,sdeType:"tabActive"},R=!1,I={click:{elem:document,input:N.MOUSE},mousemove:{elem:document,input:N.MOUSE},wheel:{elem:document,input:N.MOUSE},scroll:{elem:window,input:N.MOUSE},keydown:{elem:document,input:N.KEYBOARD},touchmove:{elem:document,input:N.TOUCH},focus:{elem:window,input:N.FOCUS}};return{v:w,name:h,init:t,start:e,reinit:o,restart:e,stop:n,push:i,reset:u,isActive:a,inputType:N,inspect:function(){return{conf:l(A),lastActivityTime:D,lastInputType:U,intervalId:O}}}}();}catch(e){lpTag.handleGeneralError("lpActivityMonitor",e);}try{window.lpTag=window.lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.taglets.rendererStub=lpTag.taglets.rendererStub||function(){function e(e){lpTag.log("rendererStub init called","DEBUG","LP_OFFER");fe=lpTag.taglets.lpUtil;re(e);Y()&&n();pe=Je&&void 0!==Je.isFetchEnabled?JSON.parse(Je.isFetchEnabled):!1;ue=Je&&Je.fetchCacheMode;de=pe?lpTag.taglets.fetch:lpTag.taglets.jsonp;"function"==typeof lpTag.getEnv&&lpTag.getEnv();me=Je&&void 0!==Je.isWindowConfigLoadRequiredForEngagementLoad?JSON.parse(Je.isWindowConfigLoadRequiredForEngagementLoad):!0}function n(){lpTag.events.bind("LE_ENGAGER","SHOW",d);lpTag.events.bind("lpUnifiedWindow","state",v);lpTag.events.bind("LE_ENGAGER","CHAT",m);lpTag.events.bind("LE_ENGAGER","MESSAGING",T);lpTag.events.bind("LE_ENGAGER","SURVEY",E);lpTag.events.bind("LE_ENGAGER","OPEN",p);lpTag.events.bind("LP_OFFERS","OFFER_REMOVE",f);lpTag.events.bind("lpUnifiedWindow","STORAGE_SELECTED",ne)}function t(e){e=e||{};c(e)}function a(e){var n={};if(Fe.ids[e]&&Fe.ids[e].engData){n=JSON.parse(Q(Fe.ids[e].engData));n.engagementId=e}return n}function i(e){var n={engagementId:e,state:0,desc:"NA"};if(Fe.ids[e]&&Fe.ids[e].engData&&"undefined"!=typeof Fe.ids[e].engData.state&&"undefined"!=typeof Oe[Fe.ids[e].engData.state]){n.state=Fe.ids[e].engData.state;n.desc=Oe[n.state]}return n}function o(e,n,t){var a={},i=e.engagementWindowId||e.windowId||n.windowId;a.site=lpTag.site;a.scid=e.contextId;a.cid=e.campaignId;a.eid=e.engagementId;a.ename=e.engagementName;a.target=t&&t.target||(Le+lpTag.site).replace(/[^a-z0-9]/gi,"_");a.params=t&&t.params||Ae;a.svid=lpTag.taglets.lp_monitoringSDK.getVid();a.ssid=lpTag.taglets.lp_monitoringSDK.getSid();a.ssuid=lpTag.taglets.lp_monitoringSDK.getSidPrefix();a.isPopOut="boolean"==typeof n.isPopOut||"true"===n.isPopOut?!!n.isPopOut:!1;a.env=t&&t.env||"function"==typeof lpTag.getEnv&&lpTag.getEnv();a.offlineSurveyId=e.offlineSurveyId;a.async=e.conversationType===Ge.MESSAGING||n.conversationType===Ge.MESSAGING;a.allowUnauthMsg=n.allowUnauthMsg;a.identityData=le=n.identityData;(e.connector||n.connector)&&(a.connector=lpTag.taglets.lpUtil.cloneExtend(e.connector||{},n.connector||{}));n.skillName&&(a.skill=n.skillName);n.skillId&&(a.skillId=n.skillId);i&&(a.lewid=i);n.language&&(a.lang=n.language);(e.forceOffline===!0||e.state===De.OFFLINE||e.state===De.BUSY&&n.availabilityPolicy===Ue.OFFLINE)&&(a.isOffline=!0);if(e.redirect){a.redirect=e.redirect;a.isPopOut=!0}e.ssoKey&&(a.ssoKey=e.ssoKey);e.minimiseOnStart&&(a.minimiseOnStart=!0);e.preChatLines&&(a.preChatLines=e.preChatLines);e.queuePriority&&(a.queuePriority=e.queuePriority);(n.availabilityPolicy===Ue.OFFLINE||n.availabilityPolicy===Ue.CHAT)&&(a.availabilityPolicy=n.availabilityPolicy);e[_e]&&(a[_e]=e[_e]);e.windowConf&&(a.windowConf=e.windowConf);ie()&&(a.accountSettings=se);if(n.externalTargets&&n.externalTargets.length){a.externalTargets={};n.externalTargets.forEach(function(e){a.externalTargets[e.deflectionTarget]={brandIdentifier:e.brandIdentifier};a.externalTargets[e.deflectionTarget].deflectionTargetProperties=g(e.deflectionTargetProperties)})}e.multiChannelEngagementSelection&&H(e.multiChannelEngagementSelection,a);lpTag.events.trigger("RENDERER_STUB","ENGAGEMENT_CONFIGURATION_CREATED",{engConf:a,data:e,config:n,channel:t});return a}function r(e,n){var t=!1;if(Fe.ids[e]&&"function"==typeof Fe.ids[e].offerClick){t=!0;n=n||{};l(n)&&(Fe.ids[e].engData.preChatLines=n.preChatLines);Fe.ids[e].offerClick()}return t}function g(e){var n={};"string"==typeof e&&e.split(",").forEach(function(e){if(e){var t=e.split(":");2===t.length&&t[0]&&t[1]&&(n[t[0]]="true"===t[1]||"false"===t[1]?"true"===t[1]:isNaN(t[1])?t[1]:Number(t[1]))}});return n}function l(e){function n(e){return"string"==typeof e}return e&&e.preChatLines&&Array.isArray(e.preChatLines)&&e.preChatLines.every(n)}function s(e,n){var t;if(e&&n&&n.length)for(var a=0;a<n.length;a++){t=n[a];e[t]=null;delete e[t]}}function c(e){var n,t=[],a=e.idsToKeep||{},i=e.divIdsToKeep||{};for(var o in i)if(i.hasOwnProperty(o)&&Fe.divIds.hasOwnProperty(o)){n=Fe.divIds[o];a[n]=!0}for(var r in Fe.ids)if(Fe.ids.hasOwnProperty(r)&&!a[r]){try{Fe.ids[r].cleanupOffer({silent:!0})}catch(g){lpTag.log("Failed to remove engagement, might have been removed already. ex="+g.message,"DEBUG","LP_OFFER")}t.push(r)}s(Fe.ids,t);we={};xe={}}function f(e){var n=e.engagementId;if(n&&Fe.ids[n]){Fe.ids[n]=null;delete Fe.ids[n]}}function d(e){e&&e.windowId&&delete e.windowId;if(Z(e)){lpTag.log("rendererStub received new smt msg. {id:"+e.engagementId+" ,type:"+e.engagementType+",revision:"+e.engagementRevision+",campaignId "+e.campaignId+"}","DEBUG","LP_OFFER");e[_e]=Ce.SHOW;if("undefined"!=typeof e.controlGroup&&e.controlGroup)y(e);else{J(e);e.customTaglet&&N(e);O(e,U(e).files);w(e);R(e)}}}function p(e){if("object"==typeof e){e.windowId&&delete e.windowId;e[_e]=Ce.OPEN;e.conversationType=Ie.MESSAGING;e.minimiseOnStart=!0;R(e);Z(e)?w(e,function(n){W(n);n.confKey=X(e);e.confKey=X(e);we[e.confKey]=n;M(n)?x(e):u(n)}):u(e)}}function u(e){e.tglName="conversationInitiator";R(e);if(Z(e))w(e,O(e,e.tglName));else{if(!e.windowConf)if(e.windowId){e.confKey=e.confKey||e.windowId;me?te(e,P):P(e)}else{e.confKey=e.tglName;xe[e.confKey]={}}O(e,e.tglName)}}function T(e){Z(e)&&e.state===De.OFFLINE&&"offsite"===ye[e.engagementType]?b(e,"messaging"):u(e)}function m(e){Z(e)&&e.state===De.OFFLINE&&"offsite"===ye[e.engagementType]?b(e,"chat"):u(e)}function E(e){e.forceOffline=!0;u(e)}function v(e){lpTag.log("rendererStub received hide engagements event.","DEBUG","LP_OFFER");e&&"chatting"===e.state&&lpTag.events.trigger("LP_OFFERS","HIDE")}function y(e){lpTag.log("rendererStub::controlGroup is true for campaignID: "+e.campaignId+" - engagementId: "+e.engagementId,"DEBUG","LP_OFFER");var n=[{type:"impDisplay",campaign:e.campaignId,engId:e.engagementId,revision:e.engagementRevision,eContext:[{type:"engagementContext",id:e.contextId}]}];lpTag.sdes.send(n,function(){lpTag.log("rendererStub:::impression event send for "+e.campaignId+" - engagementId: "+e.engagementId,"DEBUG","LP_OFFER")});lpTag.events.trigger("LP_OFFERS","CONTROL_GROUP",e)}function O(e,n){lpTag.log("_loadTaglet called with url: "+JSON.stringify(e),"DEBUG","LP_OFFER");var t=!1,a={},i=lpTag.protocol+"//"+lpTag.csds.getDomain(Ne.LPCDN)+"/le_re/";Ee&&(i+=Ee+"/");i+="jsv2/";if(n){n=Array.isArray(n)?n:[n];for(var o=0;o<n.length;o++)if("string"==typeof n[o]&&!lpTag.taglets[n[o]]){a[n[o]]=i+n[o]+".js?_v="+Ee;t=!0}}t?lpTag.taglets.jsLoader.loadJS({loadObj:a,success:S(e),error:I(e)}):P(e)}function N(e){lpTag.log("_loadCustomTaglet called with url: "+JSON.stringify(e),"DEBUG","LP_OFFER");lpTag.taglets[e.tglName]?P(e):"function"==typeof lpTag.loadTaglet&&lpTag.loadTaglet({name:e.tglName,success:S(e),error:I(e)})}function S(e){return function(){lpTag.log("_loadTagletSuccess taglet not exist, isReady: "+D(e),"DEBUG","LP_OFFER");P(e)}}function I(e){return function(n){lpTag.log("Loading taglet: "+e.tglName+" failed. Error: "+JSON.stringify(n),"ERROR","LP_OFFER")}}function w(e,n){if(e&&e.engagement){var t=e.engagement;F(e,t,n)}else{var a=lpTag.protocol+"//"+lpTag.csds.getDomain(Ne.ACCDN)+"/api/account/"+lpTag.site+"/configuration/le-campaigns/campaigns/"+e.campaignId+"/engagements/"+e.engagementId+"/revision/"+e.engagementRevision+"?v="+Pe;lpTag.log("_loadEngagementConfig called with url: "+a+" msg: "+JSON.stringify(e),"DEBUG","LP_OFFER");e.confKey=e.confKey?e.confKey:X(e);we[e.confKey]?P(e):de.issueCall({url:a,data:{flavor:"dependency"},callbackName:"lp"+e.engagementId,credentials:pe?"omit":void 0,cache:pe&&ue?ue:void 0,success:function(t){var a=pe?t&&t.body:t;F(e,a,n)},error:function(t){lpTag.log("Loading engagement: "+e.engagementId+"   failed.  id : ","ERROR","LP_OFFER");if(t&&t.cspOrNetworkError){ge();w(e,n)}}})}}function F(e,n,t){if($(n)&&ee(n)){lpTag.log("Engagement "+e.engagementId+" loaded","DEBUG","LP_OFFER");n.identityData=e.identityData;we[e.confKey]=n;if("function"==typeof t){n.confKey=e.confKey?e.confKey:X(e);me?te(n,t):t(n)}else{e.windowId=n.windowId;me?te(e,P):P(e);lpTag.log("_loadEngagementConfigSuccess conf not exist, isReady: "+D(e),"DEBUG","LP_OFFER")}}}function R(e){var n=lpTag.protocol+"//"+lpTag.csds.getDomain(Ne.ACCDN)+"/api/account/"+lpTag.site+"/configuration/setting/accountproperties"+(pe?"":"/"),t=A(),a=function(n){var t=pe?n&&n.body:n;h(t,!1,e)},i=function(n){if(n&&n.cspOrNetworkError){Te=!0;ge();R(e)}else L(!1,e)};lpTag.log("_loadSiteSettings called with url: "+n,"DEBUG","LP_OFFER");ie||(se=[]);if(se||t)if(!se&&t){lpTag.log("_loadSiteSettings - Account settings network call already in progress"+n,"DEBUG","LP_OFFER");_(e)}else P(e);else{C();Te=!1;de.issueCall({url:n,timeout:5e3,retries:0,callbackName:"accountSettingsCB",credentials:pe?"omit":void 0,cache:pe&&ue?ue:void 0,success:a,error:i})}}function C(){lpTag.events.trigger({appName:"*",eventName:"requestedAccountSettings",data:{}})}function _(e){var n=lpTag.events.hasFired("*","receivedAccountSettings"),t=lpTag.events.hasFired("*","receivedAccountSettingsFailed"),a=function(n){h(n,!1,e)},i=function(){L(!1,e)};a.bind(this);i.bind(this);n.length<1?lpTag.events.once({appName:"*",eventName:"receivedAccountSettings",func:a}):h(n[0].data,!1,e);t.length<1?lpTag.events.once({appName:"*",eventName:"receivedAccountSettingsFailed",func:i}):L(!1,e)}function h(e,n,t){if(e&&Array.isArray(e)&&!e.error){lpTag.log("_loadSiteSettings - got configuration: "+JSON.stringify(e),"DEBUG","LP_OFFER");se=e}else{lpTag.log("_loadSiteSettings - NO CONFIGURATION FOUND","DEBUG","LP_OFFER");se=[]}n&&lpTag.events.trigger({appName:"*",eventName:"receivedAccountSettings",data:e});P(t)}function L(e,n){lpTag.log("Loading siteSettings: "+lpTag.site+"   failed.  id : ","ERROR","LP_OFFER");se=[];P(n);e&&lpTag.events.trigger({appName:"*",eventName:"receivedAccountSettingsFailed",data:{}})}function A(){return lpTag.events.hasFired("*","requestedAccountSettings").length>0&&!Te}function b(e,n){var t=lpTag.protocol+"//"+lpTag.csds.getDomain(Ne.ACCDN)+"/api/account/"+lpTag.site+"/configuration/setting/accountproperties"+(pe?"":"/");if(!ce){ce=[];lpTag.log("_loadSiteSettingsForOffsite called with url: "+t,"DEBUG","LP_OFFER");de.issueCall({url:t,timeout:5e3,retries:0,credentials:pe?"omit":void 0,cache:pe&&ue?ue:void 0,success:function(t){var a=pe?t&&t.body:t,i="le.campaign.offsite.campaignNotApplicable.redirectURL",o="le.campaign.offsite.messaging.campaignNotApplicable.redirectURL";if(a&&Array.isArray(a)&&!a.error){lpTag.log("_loadSiteSettingsForOffsite - offsite engagement got configuration: "+JSON.stringify(a),"DEBUG","LP_OFFER");ce=a;var r="chat"===n?i:o,g=oe(r,ce);g?window.location.href=g:"chat"===n&&u(e)}else lpTag.log("_loadSiteSettingsForOffsite - NO CONFIGURATION FOUND","DEBUG","LP_OFFER")},error:function(t){lpTag.log("Loading siteSettings for offsite: "+lpTag.site+"   failed.  id : ","ERROR","LP_OFFER");if(t&&t.cspOrNetworkError){ge();b(e,n)}else ce=null}})}}function D(e){return!(!lpTag.taglets[e.tglName]||!G(e)||e.instantiated||!we[e.confKey]&&"conversationInitiator"!==e.tglName||!xe[e.confKey]&&me)&&se}function G(e){for(var n=U(e).taglets||[],t=!0,a=0;a<n.length;a++)if(!lpTag.taglets[n[a]]){t=!1;break}return t}function U(e){var n=e.customTaglet?"customTaglet":e.tglName;return Re[n]&&Re[n]||{}}function P(e){if(!lpTag.taglets.lpUnifiedWindow||Ke){lpTag.log("_execTaglet, is ready:"+D(e)+" msg: "+JSON.stringify(e),"DEBUG","LP_OFFER");var n;if(D(e)){lpTag.log("taglet "+e.tglName+" executed by rendererStub at: "+(new Date).getTime()+"(number of milliseconds since 1970/01/01)","DEBUG","LP_OFFER");e.instantiated=!0;n=K(e);n&&k(e)}}else Be.push(e)}function K(e){var n=!0;e.engagementId&&Fe.ids[e.engagementId]&&(n=B(e,e.engagementId,Fe.ids));return n}function B(e,n,t){var a,i=!0;if(e.confKey!==t[n].engData.confKey||e.state!==t[n].activeState.type){a=t[n]||{};e.prevState=a.engData&&a.engData.state;a.cleanupOffer({silent:!0});s(t,[n])}else{t[n].setContextId(e.contextId);i=!1}return i}function x(e){var n=z(we[e.confKey]),t=z(e),a={configuration:n.windowConf.json.externalConfiguration,args:o(t,n),errorCallback:function(){lpTag.log("Error while opening an external channel")}};try{lpTag.taglets.lpUtil.runCallbackByObject(a.configuration,a.args,a.errorCallback)}catch(i){lpTag.log("Exception while opening an external channel: "+i.message)}}function k(e,n){var t,a,i=z(we[e.confKey]);if(e.customTaglet){a=new lpTag.taglets.baseOffer;a.init(z(e),i)}try{if(n&&n.ssoKey){e.ssoKey=n.ssoKey;e.redirect_uri=n.redirect_uri||be}var o=z(e);lpTag.events.trigger("RENDERER_STUB","BEFORE_CREATE_ENGAGEMENT_INSTANCE",{msg:o,conf:i,api:a});o.skipRendererStubInstantiation||(t=lpTag.taglets[e.tglName].createInstance(o,i,a));lpTag.events.trigger("RENDERER_STUB","AFTER_CREATE_ENGAGEMENT_INSTANCE",{msg:o,conf:i,api:a,eng:t})}catch(r){lpTag.log("Failed to create engagement instance. ex="+r.message,"ERROR","LP_OFFER")}if(t&&"function"==typeof t.cleanupOffer){Fe.ids[e.engagementId]=t;t.parentContainer&&(Fe.divIds[t.parentContainer]=e.engagementId)}}function M(e){return e.windowConf&&e.windowConf.type===he&&e.windowConf.json.externalConfiguration?!0:!1}function J(e){e.confKey=X(e);e.customTaglet=j(e);var n="";ye[e.engagementType]&&(n=ye[e.engagementType]);e.tglName=e.customTaglet?e.tglName:n}function W(e){e&&"undefined"==typeof e.engagementId&&(e.engagementId=e.id)}function j(e){return e.renderingType===Se.TAGLET}function H(e,n){switch(e){case Me.WEB_TO_SMS:q(n);break;case Me.WEB:case Me.MESSAGING:V(n)}}function q(e){e.async=!0}function V(e){delete e.externalTargets[ke.SMS];e.async=!0}function Y(){var e=navigator.userAgent;e=e.toLowerCase();var n=/(msie) ([\w.]+)/,t=n.exec(e);if(null!=t){var a=parseInt(t[2],10);if(10>=a)return!1}return!0}function z(e){return e&&JSON.parse(Q(e))}function Q(e){var n;if("function"==typeof Array.prototype.toJSON){var t=Array.prototype.toJSON;delete Array.prototype.toJSON;try{n=JSON.stringify(e)}catch(a){Array.prototype.toJSON=t;throw a}Array.prototype.toJSON=t}else n=JSON.stringify(e);return n}function X(e){return e&&e.campaignId+"_"+e.engagementId+"_"+e.engagementRevision}function Z(e){if(e&&e.campaignId&&e.engagementId&&e.engagementRevision)return!0;e&&e.campaignId&&e.engagementId?lpTag.log("Missing engagement parameters: engagementRevision; "+JSON.stringify(e),"INFO",ve):lpTag.log("Missing engagement parameters: campaignId, engagementId, engagementRevision; "+JSON.stringify(e),"ERROR",ve);return void 0}function $(e){if("object"==typeof e&&!e.error)return!0;lpTag.log("Error in engagement config: "+JSON.stringify(e),"ERROR",ve);return void 0}function ee(e){return!e.allowUnauthMsg||e.allowUnauthMsg&&lpTag&&lpTag.taglets&&lpTag.taglets.unAuthMessaging}function ne(){Ke=!0;Be.forEach(P);Be=[]}function te(e,n){var t;lpTag.log("_getConfiguration",e.windowId);var a=Je.enableToRequestDefaultWinConfig,i="/"+e.windowId;!e.windowId&&a&&(i="-default");if(e.windowId||a){t="https://"+lpTag.csds.getDomain(Ne.ACCDN)+"/api/account/"+lpTag.site+"/configuration/engagement-window/window-confs"+i;de.issueCall({url:t,timeout:5e3,retries:0,credentials:pe?"omit":void 0,cache:pe&&ue?ue:void 0,success:function(t){var i,o=pe?t&&t.body:t;if(!e.windowId&&a&&o&&o.length){i=o.filter(function(e){return!!e.isUserDefault});o=i.length>0?i[0]:o[0]}if(o&&o.json&&!o.error){lpTag.log("_getWindowConfiguration: got configuration: "+JSON.stringify(o.name),"INFO",ve);var r=o.json;r&&(r.isTemplate=!!o.templateId);e.windowConf=e.windowConf?lpTag.taglets.lpUtil.cloneExtend(e.windowConf,r):r;xe[e.confKey]=r}else{lpTag.log("_getWindowConfiguration: NO CONFIGURATION FOUND","INFO",ve);xe[e.confKey]={}}n(e)},error:function(t){lpTag.log("Error in getting window config: "+JSON.stringify(t),"ERROR",ve);if(t&&t.cspOrNetworkError){ge();te(e,n)}else{xe[e.confKey]={};n(e)}}})}else{lpTag.log("_getWindowConfiguration: No windowId provided, fallback to default configuration","INFO",ve);xe[e.confKey]={};n(e)}}function ae(){return le}function ie(){return lpTag.unifiedWindow&&lpTag.unifiedWindow.staticConfig&&lpTag.unifiedWindow.staticConfig.passSiteSettings}function oe(e,n){for(var t=0;t<n.length;t++)if(n[t].id===e)return n[t].propertyValue.value;return null}function re(e){if(e&&e.constructor===Array)try{fe.convertConfig(e,Je)}catch(n){lpTag.log.error("Failed to parse taglet configuration",name)}else e&&(Je=fe.cloneExtend(Je,e,!0))}function ge(){de=lpTag.taglets.jsonp;pe=!1}var le,se,ce,fe,de,pe,ue,Te,me,Ee="3.64.4-release_1889561147",ve="rendererStub",ye={0:"peeling",1:"overlay",2:"toaster",3:"slider",5:"overlay",6:"overlay",7:"offsite"},Oe={0:"na",1:"online",2:"offline"},Ne={CHAT:"CHAT",ACCDN:"acCdnDomainConsumerSdk",LPCDN:"leCdnDomain"},Se={INTERNAL:0,HTML:1,TAGLET:2},Ie={LIVE_CHAT:0,MESSAGING:1},we={},Fe={ids:{},divIds:{}},Re={peeling:{files:["peeling","UISuite"],taglets:["peeling","baseOffer","baseUIOffer"]},overlay:{files:["overlay","UISuite"],taglets:["overlay","baseOffer","baseUIOffer"]},toaster:{files:["toaster","UISuite"],taglets:["toaster","baseOffer","baseUIOffer"]},slider:{files:["slider","UISuite"],taglets:["slider","baseOffer","baseUIOffer"]},customTaglet:{files:["baseOffer"],taglets:["baseOffer"]},conversationInitiator:{taglets:["baseOffer"]}},Ce={OPEN:"OPEN",SHOW:"SHOW"},_e="eventName",he="external app",Le="LiveEngageChat_",Ae="height=650,width=330,menubar=no,resizable=no",be="https://liveperson.net",De={BUSY:4,CONTENT:3,OFFLINE:2,ONLINE:1},Ge={CHAT:0,MESSAGING:1},Ue={OFFLINE:0,CHAT:1},Pe="3.0",Ke=!1,Be=[],xe={},ke={SMS:0},Me={WEB:"web",MESSAGING:"messaging",WEB_TO_SMS:"sms"},Je={};return{_v:Ee,_name:ve,init:e,onBeforeNavigation:t,getEngagementState:i,getEngagementInfo:a,getClickObject:o,click:r,getIdentity:ae}}();}catch(e){lpTag.handleGeneralError("rendererStub",e);}try{window.lpTag.taglets.LPCHATTAG={_v:1.2,_name:"LPCHATTAG",init:function(){"undefined"==typeof lpMTagConfig&&(window.lpMTagConfig={});"undefined"==typeof lpMTagConfig.onLoadCode&&(lpMTagConfig.onLoadCode=[]);lpMTagConfig.onLoadCode.push(function(){window.lpTagConfig={lpServer:lpMTagConfig.lpServer,lpNumber:lpMTagConfig.lpNumber,lpProtocol:lpMTagConfig.lpProtocol,addLpTag:function(){var o=this.lpTagSrc||this.lpProtocol+"://"+this.lpServer+"/hc/s-"+this.lpNumber+"/?cmd=lpTagGetJsSnippets";lpTag.load(o,"UTF-8")}};window.lpTagConfig.addLpTag()})}};}catch(e){lpTag.handleGeneralError("LPCHATTAG",e);}try{window.lpTag.taglets.lp_vars=function(){function e(e){lpTag.taglets.lp_global_utils.convertConfig(e,m);window.lpMTagConfig=window.lpMTagConfig||{};window.lpMTagConfig.pageVar=window.lpMTagConfig.pageVar||[];window.lpMTagConfig.sessionVar=window.lpMTagConfig.sessionVar||[];window.lpMTagConfig.visitorVar=window.lpMTagConfig.visitorVar||[];y=lpTag.vars;lpTag.vars=lpTag.taglets.lp_vars;if("undefined"!=typeof y&&y.length)for(var a=0;a<y.length;a++)n(y[a]);y=[]}function n(e){if("undefined"!=typeof e){"undefined"==typeof e.length&&(e=[e]);for(var n=0;n<e.length;n++)a(e[n])}else d("Calling add with no parameters")}function a(e){try{if("undefined"==typeof e){d("Calling _add with no parameters");return!1}if(!g(e))return!1;e.value=""+e.value;var n=p(e.name),a=p(e.value);n=l(n,m.maxNameLength);a=l(a,m.maxValueLength);if(""!=a){var o=encodeURIComponent(n)+"="+encodeURIComponent(a);"page"==e.scope?lpMTagConfig.pageVar.push(o):"session"==e.scope?lpMTagConfig.sessionVar.push(o):"visitor"==e.scope&&lpMTagConfig.visitorVar.push(o);w[e.name]=e;u("Added variable scope:"+e.scope+" name:"+n+" value:"+a);lpTag.events.trigger(T,"VAR_ADDED",{scope:e.scope,name:n,value:a})}else d("Ignoring - trying to add variable with empty value name:"+n)}catch(i){d("Exception in adding variable e="+i);return!1}return!0}function o(e,a){try{"undefined"!=typeof e&&n(e);if("undefined"==typeof lpMTag){if("function"==typeof a){window.lpMTagConfig=window.lpMTagConfig||{};lpMTagConfig.onResponse&&(C=lpMTagConfig.onResponse);M.push(a);h||(lpMTagConfig.onResponse=function(e,n){if("undefined"==typeof e.ResultSet.lpCallError){var a=n.fullUrl;if(-1==a.indexOf("mTagKnockPage")){for(var o=0;o<M.length;o++)i(M[o],"onresponse cb");M=[];window.lpMTagConfig.onResponse=C}C&&i(C,"_origOnResponse")}});h=!0}}else{var o=lpMTag.lpSetCallParams("mTagInPage");lpMTag.mtagAddToQueue(lpMTag.lpURL,o,function(){"function"==typeof a&&i(a,"immediate cb")},!1,0,!1,0,1,lpMTagConfig.charSet)}}catch(t){d("Error sending variables e="+t)}}function i(e,n){try{e()}catch(a){d("Exception _runFn "+n+" e="+a)}}function t(e){if("undefined"==typeof e)return w;var n=w[e];return"undefined"!=typeof n?n.value:void 0}function r(){w={}}function l(e,n){return e.length>n?e.substr(0,n):e}function p(e){return"string"==typeof e?lpTag.taglets.lp_global_utils.trim(e):e}function g(e){if(!f(e))return!1;e.scope=e.scope.toLowerCase();e.scope=p(e.scope);if("page"!=e.scope&&"session"!=e.scope&&"visitor"!=e.scope){d("Error validating variable. Bad scope:"+e.scope);return!1}if(s(p(e.name),m.dontSendIfZero)){var n=parseFloat(e.value);if(!isNaN(n)&&0===n){u("Ignoring variable name:"+e.name+" because value is 0 value:"+e.value);return!1}}return!0}function f(e){if("undefined"==typeof e.scope||"undefined"==typeof e.name||"undefined"==typeof e.value){d("Error validating variable: scope="+e.scope+" name="+e.name+" value="+e.value);return!1}return!0}function s(e,n){if("undefined"==typeof n||0===n.length)return!1;for(var a=0;a<n.length;a++)if(n[a]==e)return!0;return!1}function u(e){lpTag.log(e,"DEBUG",T)}function d(e){lpTag.log(e,"ERROR",T)}function c(){return{_config:m,_store:w}}var v="1.2.4",T="lp_vars",m={maxNameLength:50,maxValueLength:100,dontSendIfZero:[]},w={},C=void 0,h=!1,M=[],y=[];return{v:v,name:T,init:e,push:n,get:t,send:o,reset:r,includes:[{name:"lp_global_utils"}],inspect:c}}();}catch(e){lpTag.handleGeneralError("lp_vars",e);}try{window.lpTag=lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.taglets.lp_version_detector=function(){function e(e,n){window.lpTag&&lpTag.log&&lpTag.log(e,n,p)}function n(n){e(n,"ERROR")}function a(n){e(n,"INFO")}function o(e,n){if("undefined"!=typeof n){if(e)for(var a=0;a<e.length;a++){var o=e[a].value;if("string"==typeof o&&""!==o)if("true"===o)o=!0;else if("false"===o)o=!1;else if("["==o.charAt(0)||"{"==o.charAt(0))try{"undefined"!=typeof JSON&&JSON.parse?o=JSON.parse(o):lpTag.log("unable to parse JSON, no JSON object on page ","ERROR",p)}catch(t){lpTag.log("unable to parse JSON:"+t,"ERROR",p)}n[e[a].id]=o}}else lpTag.log("_config is passed as undefined","ERROR",p)}function t(e){o(e,s)}function i(){s.sendUDE&&g({name:"lpTagVer",value:lpTag._v});s.sendSDE&&l({type:"lpTagVer",version:lpTag._v})}function l(e){window.lpTag.sdes=window.lpTag.sdes||[];lpTag.sdes.push(e)}function g(e){window.lpMTagConfig=window.lpMTagConfig||{};window.lpMTagConfig.pageVar=window.lpMTagConfig.pageVar||[];try{e.value=""+e.value;var o=encodeURIComponent(e.name)+"="+encodeURIComponent(e.value);lpMTagConfig.pageVar.push(o);a("Added variable scope:page name:"+e.name+" value:"+e.value)}catch(t){n("Exception in adding variable e="+t)}}var p="lp_version_detector",r="1.0.1",s={sendSDE:!1,sendUDE:!0};return{getVersion:function(){return r},getName:function(){return p},init:t,start:i,inspect:function(){return{conf:s}}}}();}catch(e){lpTag.handleGeneralError("lp_version_detector",e);}try{window.lpTag=window.lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.taglets.lp_monitoringSDK=lpTag.taglets.lp_monitoringSDK||function(){function e(e){v();Ie=!0;if(e)for(var n=0;n<e.length;n++){var r=e[n].value;"string"==typeof r&&""!==r&&("["===r.charAt(0)||"{"===r.charAt(0))&&("undefined"!=typeof JSON&&JSON.parse?r=JSON.parse(r):b("unable to parse JSON, no JSON object on page "));Ke[e[n].id]=r}else D("No cfg were given on init");Ke.useStorage=Ke.useStorage||!Xe.isCookieEnabled();Ke.idpDomain=lpTag.getDomain("idp");Ke.acCdnDomain=lpTag.getDomain("acCdnDomainConsumerSdk");et=void 0!==Ke.isFetchEnabled?JSON.parse(Ke.isFetchEnabled):!1;Ue=Ke.fetchCacheMode;xe=et?lpTag.taglets.fetch:lpTag.taglets.jsonp;Re=lpTag.taglets.postmessage;Ve={frames:[{url:Ke.protocol+Ke.baseUrl+Ke.frameName},{url:Ke.protocol+Ke.idpDomain+Ke.frameName},{url:Ke.protocol+Ke.acCdnDomain+Ke.frameName}]};if(!et){Re.configure(Ve);nt=!0}Ke.useSecureStorage=lpTag.features&&lpTag.features.getFeature(Ze);!ke&&Ke.useSecureStorage?t():i()}function t(e){var t=lpTag.csds.getDomain("leCdnDomain"),i="function"==typeof lpTag.getEnv&&lpTag.getEnv(),r={debug:Ke.debug};_e=lpTag.taglets.lpSecureStorage;Ke.secureStorageLocation="https://"+t+"/le_secure_storage/"+(_e.v?_e.v+"/":"");r[Ye]={env:i,site:Ke.accountId,app:Ye,asyncStorageMaxRetry:15,url:Ke.secureStorageLocation,chosenStorageHandler:e||n,firstParty:!0};_e.configure(r);ke=!0}function n(e){e&&e.error&&(Ke.secureStorageUnSupported=!0);i()}function i(){var e=r(window.location.href)||{},t=lpTag.taglets.lpUtil&&lpTag.taglets.lpUtil.getURLParams(window.location.search)||{},n=t.lpconnectorvid||e.lpvid||t.lpvid;if(n){F();j(n)}var i=e.lpsid||t.lpsid;if(i){A();J(i)}}function r(e){function t(e){return e.replace(/[^a-zA-Z0-9._-]/g,"")}try{var n=new URL(e),i=n.hash.substring(1),r=new URLSearchParams(i),a={};r.forEach(function(e,n){var i=t(n),r=t(e);a[i]=r});return a}catch(o){return{}}}function a(e,t){D("Called startPage onSuccess: "+e);var n={type:Ae.startPage,onSuccess:e,onError:t,isSync:!0};Ke.useSecureStorage?M(o.bind(this,n)):o(n)}function o(e){var n=Se(e);it.identities(function(i){var r=[];if(i&&i.length>0){n.data.identities=i;lpTag.identitiesObjects=i;r=lpTag.identitiesObjects.filter(function(e){return e.tkn})}if(Te){e.rid=n.rid;e.result={error:500,message:"startPage request was already sent once"};e.status=Fe.err;N(e)}else me(n);Te=!0;lpTag.events.trigger(Je,"SP_SENT");0===r.length&&(ke?ve("removeValue"):t(function(){ve("removeValue")}))})}function s(e,t){var n;O("Called pageLoaded onSucess is: "+e);var i={type:Ae.pageLoaded,onSuccess:e,onError:t,isSync:!0};n=Se(i);if(Te&&!Ce)se(n);else{i.rid=n.rid;i.result={error:500,message:"pageLoaded request was already sent once"};i.status=Fe.err;N(i)}Ce=!0}function c(e,t){O("Called inPage onSucess is: "+e);var n={type:Ae.inPage,onSuccess:e,onError:t,isSync:!0},i=Se(n);if(Te&&Ce)se(i);else{n.rid=i.rid;n.result={error:500,message:"Cannot issue inPage request when startPage and pageLoaded were not sent"};n.status=Fe.err;N(n)}}function u(e,t){O("Called send, onSuccess: "+e);var n={type:Ae.updateContext,onSuccess:e,onError:t,isSync:!0};if(Me.length>0){var i=Se(n);se(i);return!0}return!1}function l(e){O("Called push with sdes: "+JSON.stringify(e));if("undefined"!=typeof e&&e instanceof Array)for(var t=0;t<e.length;t++)"object"==typeof e[t]&&e[t].type?Me.push(e[t]):b("push: SDE when calling is not an Object")}function d(){var e=p();return e?e.substring(0,e.indexOf(".")):void 0}function p(){return Ee||(Ke.useStorage?je.getSessionData("LPSID-"+Ke.accountId)||null:U("LPSID-"+Ke.accountId))}function g(){return Pe||(Ke.useStorage?je.getSessionData("LPVID")||null:U("LPVID"))}function f(){return Ke.thirdPartyEnabled}function m(e,t,n){-1===e.indexOf("?")?e+="?":"&"!==e[e.length-1]&&(e+="&");t||(t="SVID");n||(n="SSID");p()&&(e+=encodeURIComponent(n)+"="+encodeURIComponent(p()));g()&&(e+="&"+encodeURIComponent(t)+"="+encodeURIComponent(g()));return e}function S(e){var t;if("function"==typeof Array.prototype.toJSON){var n=Array.prototype.toJSON;delete Array.prototype.toJSON;try{t=JSON.stringify(e)}catch(i){Array.prototype.toJSON=n;throw i}Array.prototype.toJSON=n}else t=JSON.stringify(e);return t}function v(){O("Called reset");Ke={thirdPartyEnabled:void 0,protocol:lpTag.protocol?lpTag.protocol+"//":0===document.location.toString().indexOf("https:")?"https://":"http://",baseUrl:lpTag.getDomain("smt"),apiPath:"/api/js",rdrPath:"/rdr",frameName:"/postmessage/postmessage.min.html",accountId:lpTag.site||{},rmSession:!1,timeout:5e4,debug:!1,shadow:!1};Me=Me||[];he=[];ye=void 0;We={};Te=!1;Ce=!1;be=!1;Oe=!1;De=!1;ke=!1;Pe=void 0;Ee=void 0;clearTimeout(Ne);Ne=void 0;we={count:0,max:6,timeout:10}}function h(){clearTimeout(Ne);Ne=void 0;Ie=!1}function y(t){O("reinit called");lpTag.taglets.lpUnifiedWindow&&(lpTag.taglets.lpUnifiedWindow.stepUpChecked=null);e(t);Be=E()}function T(){return{conf:Ke,retry:we}}function C(e,t){window.lpTag&&lpTag.log&&lpTag.log(e,t,"lp_monitoringSDK")}function b(e){C(e,"ERROR")}function O(e){C(e,"DEBUG")}function D(e){C(e,"INFO")}function P(){ze++;return ze}function E(){return Math.abs(Math.round(9999999999*Math.random()))}function I(e){Ie?lpTag.taglets.lpAjax.issueCall(e):b("Monitoring session not active, skipping request: "+JSON.stringify(e))}function k(){var e=je.getSessionData("lpTabId");if(!e){e=E();je.setSessionData("lpTabId",e)}return e}function N(e){var t,n=We[e.rid],i=e.result;i&&i.body&&(i=i.body);if(n){O("Called _monitoringCb with type= "+e.type+" ,result="+JSON.stringify(i));G(i);L();z();lpTag.events.trigger({appName:Je,eventName:"DEBUG_STATUS",data:{debug:Ke.debug},aSync:!0});lpTag.events.trigger({appName:Je,eventName:"REQUEST_COMPLETE",data:{type:e.type,status:e.status},aSync:!0});var r=_(i,n.req);if(!r){delete i.sdkConf;we.count=0;We[e.rid]=null;delete We[e.rid];t=H(i,e.status);w({success:t,result:i,cbs:n,response:e})}}else b("Failed on _monitoringCb, request id does not exist in map, rid="+e.rid)}function w(e){if(e.success){R(e.result);if(e.cbs.cOnSuccess)try{e.cbs.cOnSuccess(e.result)}catch(t){b("Failed calling client onSuccess, _monitoringCb e="+JSON.stringify(t.message))}}else if(e.cbs.cOnError)try{e.cbs.cOnError(e.result)}catch(t){b("Failed calling client onError, _monitoringCb e="+JSON.stringify(t.message))}e.response.type===Ae.startPage?pe(e.success):e.response.isSync?de():fe()}function _(e,t){var n=e.sdkConf&&e.sdkConf.retry;if(n){Ne&&clearTimeout(Ne);isNaN(n.max)||(we.max=parseInt(n.max,10));isNaN(n.timeout)||(we.timeout=parseInt(n.timeout,10));if(we.count<we.max){D("retrying count="+we.count+" max="+we.max);we.count++;Ne=setTimeout(function(){t.data.rc=we.count;Q(t);I(t)},1e3*we.timeout);return!0}b("exceeded max retries: "+we.max+", stopping")}}function R(e){var t={};if(e.messagesToVisitor&&!Ke.shadow)for(var n=0;n<e.messagesToVisitor.length;n++){t=e.messagesToVisitor[n];try{lpTag.events.trigger(t.destination,t.subject,t.content)}catch(i){b("Failed on _handleMsgs when triggering dest="+t.destination+" ,subject="+t.subject+" ,content= "+t.content+" ,e="+JSON.stringify(i.message))}}}function U(e){return Xe.readCookie(e)||null}function x(e,t,n,i,r){tt="true"===Ke.isPartitionCookieEnabled||Ke.isPartitionCookieEnabled===!0;D("_setCookie with parameters: name - "+e+" isPartionedCookieEnabled - "+tt);Xe.writeSessionCookie(e,t,n,i,r,tt?!0:!1,tt?"none":void 0,tt?!0:!1)}function V(e,t,n){U(e)&&Xe.clearCookie(e,t,n)}function L(){Ke.rmVisitor&&F();Ke.rmSession&&A();Ke.lpVisitorId&&j(Ke.lpVisitorId);Ke.lpSessionId&&J(Ke.lpSessionId);Ke.useSecureStorage&&ke&&!Ke.secureStorageUnSupported&&q()}function J(e){Ee=e;Ke.useStorage?je.setSessionData("LPSID-"+Ke.accountId,e):x("LPSID-"+Ke.accountId,e,void 0,"/",Ke.domain);Ke.lpSessionId=void 0}function j(e){Pe=e;Ke.useStorage?je.setSessionData("LPVID",e):x("LPVID",e,"undefined"!=typeof Ke.expiration?Ke.expiration:31536e3,"/",Ke.domain);Ke.lpVisitorId=void 0}function A(){delete Ke.lpSessionId;Ee=null;je.removeSessionData("LPSID-"+Ke.accountId);V("LPSID-"+Ke.accountId,"/",Ke.domain)}function F(){delete Ke.lpVisitorId;Pe=null;je.removeSessionData("LPVID");V("LPVID","/",Ke.domain)}function q(){(Pe||Ee)&&_e.setValue({key:Ge,site:Ke.accountId,app:Ye,value:{vid:Pe,sid:Ee},success:B,error:$,appName:Je,domain:Ke.secureStorageLocation,firstParty:!0})}function M(e){_e.getValue({key:Ge,site:Ke.accountId,app:Ye,success:K.bind(this,e),error:W.bind(this,e),appName:Je,domain:Ke.secureStorageLocation,firstParty:!0})}function K(e,t){Pe=t&&t.vid;Ee=t&&t.sid;e()}function W(e,t){$(t);e()}function B(e){D("Setting data on secureStorage.setValue in _setDataInSecureStorage. Data = "+JSON.stringify(e))}function $(e){b("Failed on secureStorage get/setValue. Error = "+JSON.stringify(e))}function z(){var e=Ke.lpLastVisit;if(e){je.setPersistentData("lpLastVisit-"+Ke.accountId,e);Ke.lpLastVisit=void 0}}function G(e){if(e.sdkConf)for(var t in e.sdkConf)Ke[t]=e.sdkConf[t]}function H(e,t){return t===Fe.ok&&!e.error}function Q(e){var t=g();t&&(e.data.vid=t);var n=p();n&&(e.url=X(e.url,"sid",n));return e}function Z(e){var t;if(e.data.t===Ae.startPage){t=je.getPersistentData("lpLastVisit-"+Ke.accountId);t&&(e.data.rvt=t)}}function X(e,t,n){if(e.indexOf(t)>-1){var i=new RegExp("([?&])"+t+"=.*?(&|$)","i");return e.replace(i,"$1"+encodeURIComponent(t)+"="+encodeURIComponent(n)+"$2")}var r=encodeURIComponent(t)+"="+encodeURIComponent(n);e+=e.indexOf("?")===e.length-1?r:e.indexOf("?")>-1&&e.indexOf("?")<e.length?"&"+r:"?"+r;return e}function Y(e,t){var n="https://"+Ke.acCdnDomain+"/api/account/"+lpTag.site+"/configuration/le-connectors/all-connectors";xe.issueCall({url:n,timeout:5e3,retries:0,credentials:et?"omit":void 0,cache:et&&Ue?Ue:void 0,success:function(t){D("_getAllConnectors - Success");var n=et?t&&t.body:t;e(n)},error:function(n){D("_getAllConnectors - ERROR FROM SERVER");if(n&&n.cspOrNetworkError){xe=lpTag.taglets.jsonp;et=!1;Y(e,t)}else t()}})}function ee(e,t){var n,i="lpTag.taglets.unAuthMessaging.lpUnauthFunction",r="lpTag.taglets.unAuthMessaging",a=lpTag.features&&lpTag.features.getFeature("Common.Multiple_Consumer_IDP");if(a&&e.length&&t&&t.length)for(var o=0;o<e.length;o++)for(var s=e[o].configuration,c=0;c<t.length;c++)if(s.issuer===t[c].iss){n={type:e[o].type,id:e[o].id};return n}e.forEach(function(e){var t=e&&e.configuration;t&&t.jsContext!==r&&t.jsMethodName!==i&&(n={type:e.type,id:e.id})});return n}function te(e,n){function i(){ve("getValue",{success:r,error:function(){Y(o,u)}})}function r(e){if(e){Qe=e;Y(o,u)}else{l=p&&p.conf&&p.conf.isStepUpEnabled;if(l){if(g.stepUpChecked){a();return}lpTag.events.once({eventName:"STEPUP_CHECKED",appName:"*",func:function(){a()}})}else Y(o,u)}}function a(){if(g.stepUpChecked.isStepUp){n(S);lpTag.identitiesObjects=lpTag.identitiesObjects.concat(f)}else Y(o,u);g.stepUpChecked=null}function o(e){var t,n,i=ee(e,f),r={};if(i){if(1===i.type){t="id_token";n="https://"+Ke.idpDomain+"/api/account/"+lpTag.site+"/app/"+i.id+"/authenticate?v=3.0"}else if(2===i.type){t="code";n="https://"+Ke.idpDomain+"/api/account/"+lpTag.site+"/app/"+i.id+"/authenticate?v=3.0"}f.forEach(function(e){var i=e;r[t]=i.tkn;i.redirect_uri&&(r.redirect_uri=i.redirect_uri);if(Qe&&Qe.tkn){var a=s(Qe.tkn);if(a&&a.exp&&Date.now()<1e3*a.exp){i.tkn=Qe.tkn;S.push(i);c();return}ve("removeValue")}var o={url:n,data:r,method:"POST",success:function(e){var n=e.body&&e.body.token;if(n){D("fetched secure identity JWT from IDP: "+i.tkn+", "+i.iss+", "+i.acr);i.tkn=n;S.push(i);ve("setValue",{value:{tkn:n,code:r[t]}})}else b("no token in response from IDP for secure identity: "+i.tkn+", "+i.iss+", "+i.acr);c()},error:function(e){b("sending secure identity to IDP failed: "+i.tkn+", "+i.iss+", "+i.acr+", error: "+e);if(e&&e.cspOrNetworkError){et=!1;if(!nt){Re.configure(Ve);nt=!0}Re.issueCall(o)}else c()}};if(et){o.headers=o.headers||{};o.headers["Content-Type"]="application/json";xe.issueCall(o)}else Re.issueCall(o)})}else{D("undefined connector auth type");e.length&&c()}}function s(e){if(e){var t=e.split(".");if(t.length>=2)try{return JSON.parse(window.atob(t[1]))}catch(n){return!1}}return!1}function c(){v-=1;0>=v&&n(S)}function u(){n(S)}var l,d=e.filter(function(e){return!!e&&"undefined"!=typeof e.acr}),p=lpTag.taglets.lpUnifiedWindow&&lpTag.taglets.lpUnifiedWindow.inspect(),g=lpTag.taglets.lpUnifiedWindow;lpTag.identities.safeIdentities=d.map(function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&"tkn"!==n&&(t[n]=e[n]);return t});var f=d.filter(function(e){return e.hasOwnProperty("tkn")}),m=d.filter(function(e){return!e.hasOwnProperty("tkn")}),S=[].concat(m),v=f.length;if(v>0)ke?i():t(i);else{Qe=null;n(S)}}function ne(e,t){function n(e){r-=1;a=a.concat(e);if(0>=r){try{for(var n=[],i=0;i<a.length;i++){for(var o=!0,s=0;s<n.length;s++)if(n[s].iss===a[i].iss&&n[s].acr===a[i].acr&&n[s].sub===a[i].sub&&n[s].account===a[i].account){o=!1;break}o&&n.push(a[i])}a=n}catch(c){}t(a)}}var i=e.filter(function(e){return"function"==typeof e}),r=i.length,a=[];r>0?i.forEach(function(e){try{e(n)}catch(t){n()}}):n()}function ie(e){O("Called _prepareRequest with params: "+JSON.stringify(e));var t,n;if(e.data)t=e.data.sdes;else{t=Me;Me=[]}n=ae(e);Q(n);Z(n);e.type===Ae.startPage&&oe(n);t=re(t);t&&t.length>0&&(n.data.sdes=t);var i=it.debug();i&&(n.data.dbg=i);return n}function re(e){var t,n=Array.isArray(e)&&e.length>0;if(n&&lpTag.hooks&&lpTag.hooks.exec){t=lpTag.hooks.exec({name:qe.BEFORE_SEND_SDE,data:{sdes:e}});e=t&&t.data&&Array.isArray(t.data.sdes)&&t.data.sdes}return e}function ae(e){return{rid:e.rid,data:{t:e.type,ts:(new Date).getTime(),pid:Be,tid:$e},method:"POST",encoding:lpTag.charset||"UTF-8",transportOrder:["jsonp","postmessage"],success:function(t){e.result=t;e.status=Fe.ok;N(e)},error:function(t){e.result=t;e.status=Fe.err;N(e)},url:Ke.protocol+Ke.baseUrl+Ke.apiPath+"/"+Ke.accountId+"?"}}function oe(e){e.timeout=Ke.timeout;var t=it.title();t&&(e.data.pt=t);var n=it.url();n&&(e.data.u=n);var i=it.referrer();i&&(e.data.r=i);var r=it.section();r&&(e.data.sec=r);lpTag.device&&lpTag.device.family&&(e.data.df=lpTag.device.family());lpTag.device&&lpTag.device.os&&(e.data.os=lpTag.device.os());var a=it.emtVisitorId();a&&(e.data.evid=a)}function se(e){he.push(e);ue()}function ce(e,t){if(e.error)try{e.error(t)}catch(n){b("Failed calling client onError _callClientCbOnError e="+n)}}function ue(){if(!ye&&he.length>0&&be){O("Called _processPendingSyncRequests, initiating a new sync request: "+he.length+" inProgress: "+JSON.stringify(ye));var e=he.shift();e=Q(e);ye=e;try{I(e)}catch(t){b("Failed on lpAjax.issueCall in _processPendingSyncRequests. e: "+JSON.stringify(t.message));ce(e,{error:{code:"500",message:"error while issue request: "+JSON.stringify(t.message)}})}}else D("Called _processPendingSyncRequests no sync requests to initiate, pending: "+he.length+" inProgress: "+JSON.stringify(ye))}function le(){O("Called _syncRequestFinished");ye=void 0}function de(){ge()}function pe(e){O("Called _initPageCb isSuccess: "+e);e&&(be=!0);ge()}function ge(){le();ue()}function fe(){O("Called _asyncRequestCb");De=!1}function me(e){ye=e;try{lpTag.taglets.lpAjax.issueCall(e)}catch(t){b("Failed on lpAjax.issueCall in _sendInitializingRequest. requestId: "+e.rid+", e="+JSON.stringify(t.message))}}function Se(e){e.rid=P();var t=ie(e);We[e.rid]={req:t,cOnSuccess:e.onSuccess,cOnError:e.onError};return t}function ve(e,t){var n={app:Ye,appName:Je,site:lpTag&&lpTag.site,domain:Ke.secureStorageLocation,firstParty:!0};n.key=t&&t.key||He;n.success=t&&t.success?t.success:function(){};n.error=t&&t.error?t.error:function(){b("Error on secure storage, action - "+e)};t&&t.value&&(n.value=t.value);"function"==typeof _e[e]&&_e[e](n)}var he,ye,Te,Ce,be,Oe,De,Pe,Ee,Ie,ke,Ne,we,_e,Re,Ue,xe,Ve,Le="3.6.1",Je="lp_monitoringSDK",je=lpTag.storageMethods,Ae={startPage:"sp",pageLoaded:"pl",inPage:"ip",updateContext:"uc"},Fe={err:"ERROR",ok:"OK"},qe={BEFORE_SEND_SDE:"BEFORE_SEND_SDE"},Me=[],Ke={},We={},Be=E(),$e=k(),ze=0,Ge="lpsmt",He="lpsmtAuth",Qe=null,Ze="Common.LiveEngage_2_CrossDomainStorage",Xe=lpTag.cookieMethods,Ye="monitoringSDK",et=!1,tt=!1,nt=!1;lpTag.identities=lpTag.identities||[];lpTag.identitiesObjects=lpTag.identitiesObjects||[];lpTag.identitiesSupport=!0;var it={referrer:function(){var e;document.referrer&&document.referrer.length>0&&(e=document.referrer);return e},title:function(){var e;document.title&&document.title.length>0&&(e=document.title);return e},url:function(){var e;lpTag.url?e=lpTag.url:window.location.href&&window.location.href.length>0&&(e=window.location.href);return e},debug:function(){var e=je.getPersistentData("lpDebug-"+Ke.accountId);if(e&&!Oe){Oe=!0;return!0}return!1},section:function(){var e=lpTag.section;"string"==typeof e&&e.length&&(e=[e]);return e},emtVisitorId:function(){return U(Ke.accountId+"-VID")},identities:function(e){ne(lpTag.identities,function(t){te(t,function(t){e(t.map(function(e){var t={iss:e.iss,acr:e.acr};e.sub?t.sub=e.sub:e.tkn&&(t.tkn=e.tkn);e.account&&(t.account=e.account);e.redirect_uri&&(t.redirect_uri=e.redirect_uri);return t}))})})}};return{v:Le,name:Je,inspect:T,init:e,sdes:{push:l},hooks:qe,appendCtx:m,isTPCEnabled:f,getVid:g,getSid:p,getSidPrefix:d,send:u,inPage:c,pageLoaded:s,startPage:a,stop:h,reset:v,reinit:y,stringify:S}}();}catch(e){lpTag.handleGeneralError("lp_monitoringSDK",e);}try{window.lpTag=window.lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.taglets.lpajax_utils={_name:"lpajax_utils",_v:"0.1",each:function(e,t,r){if(null!=e){var a=Array.prototype.forEach;if(a&&e.forEach===a)e.forEach(t,r);else if(e.length===+e.length){for(var n=0,o=e.length;o>n;n++)if(n in e&&t.call(r,e[n],n,e)==={})return}else for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)&&t.call(r,e[l],l,e)==={})return}},extend:function(e){this.each(Array.prototype.slice.call(arguments,1),function(t){for(var r in t)e[r]=t[r]});return e},isEmptyObj:function(e){for(var t in e)return!1;return!0},init:function(){}};window.lpTag=window.lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.taglets.lpAjax=lpTag.taglets.lpAjax||function(e){function t(){m=!0}function r(t,r){e.lpTag&&lpTag.log&&lpTag.log(t,r,f)}function a(e,t){if(g[e])r("Existing transport: "+e+" tried to register",h.DEBUG);else{g[e]=t;r("Added transport: "+e,h.DEBUG)}}function n(e){m||t();var a,n="unknown";try{a=i(e);if(a){a.issueCall(e);return!0}r("No Transport found to issueCall",h.ERROR);c(h.ERROR,e.error,{responseCode:601,error:"No Transport found to issueCall, request: "+e.url,body:"ERROR"},e.context)}catch(o){a&&a.getName&&(n=a.getName());r("Transport - "+n+" - unknown exception while issueCall",h.ERROR);c(h.ERROR,e.error,{responseCode:600,error:"Transport - "+n+" - unknown exception while issueCall: "+e.url+" e="+o,body:"ERROR"},e.context)}}function o(e){m||t();for(var r in e){var a=g[r];a&&a.configure(e[r])}}function l(e){if(e&&"object"==typeof e){e.appName=p;e.ts=(new Date).getTime();e.tags&&e.tags.constructor===Array&&e.tags.push({pageId:y});r(e,h.METRICS)}}function i(e){for(var t,r=!1,a=-1,n=0;n<e.transportOrder.length;n++)if(!r){t=u({},e);var o=g[t.transportOrder[n]];if(o&&o.isValidRequest&&o.isValidRequest(t)){r=!0;a=n}}return r?g[t.transportOrder[a]]:null}function s(e,t,r){if(null!=e){var a=Array.prototype.forEach;if(a&&e.forEach===a)e.forEach(t,r);else if(e.length===+e.length){for(var n=0,o=e.length;o>n;n++)if(n in e&&t.call(r,e[n],n,e)==={})return}else for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)&&t.call(r,e[l],l,e)==={})return}}function u(e){s(Array.prototype.slice.call(arguments,1),function(t){for(var r in t)e[r]=t[r]});return e}function c(e,t,a,n){if("function"==typeof t)try{t.call(n||null,a);t=null}catch(o){r("runCallback: Exception in execution of callback, type :"+e+" e=["+o.message+"]",h.ERROR)}else r("runCallBack: No callback, of type :"+e,h.INFO)}var d="1.1.3",f="lpAjax",p="lpTransporter",g={},m=!1,h={ERROR:"ERROR",DEBUG:"DEBUG",INFO:"INFO",METRICS:"METRICS"},y="lpT"+Math.floor(1e5*Math.random())+"_"+Math.floor(1e6*Math.random());return{getVersion:function(){return d},getName:function(){return f},init:t,publishMetrics:l,issueCall:n,configureTransports:o,addTransport:a}}(window);window.lpTag=window.lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.taglets.jsonp=lpTag.taglets.jsonp||function(e){function t(){if(lpTag&&lpTag.taglets&&lpTag.taglets.lpAjax)try{lpTag.taglets.lpAjax.addTransport(W,z)}catch(e){}E()}function r(e){if(e)for(var r in e)D.hasOwnProperty(r)&&e.hasOwnProperty(r)&&(D[r]=e[r]);t()}function a(t){var r=!1;if(M&&t&&t.url){var a=!1;t.callbackName&&"string"==typeof t.callbackName&&(Q[t.callbackName]||e[t.callbackName])&&(a=!0);var n;try{n=c(t)}catch(o){k("Could not evaluate the length  of the request, e="+o,L.ERROR,"isValidRequest");r=!1}"undefined"!=typeof n&&U>n&&!a&&(r=!0)}return r}function n(e){var t;if(!a(e)){k("URL request was too long or static callback name already exists, url: "+t,L.ERROR,"issueCall");T();e&&e.error&&F(L.ERROR,e.error,s(600,"Transport - JSONP - unable to run request: "+e.url),e.context);return!1}e=l(e);e.callbackName&&"string"==typeof e.callbackName?e.retries=0:e.callbackName=q+i();t=e.url+(e.url.indexOf("?")>-1?"&":"?")+e.callback+"="+e.callbackName;e.data&&(t+="&"+d(e.data));e.query&&(t+="&"+d(e.query));e.callUrl=t;if(p(e)){I(e);g()}else k("URL request was too long and was not sent, url: "+t,L.ERROR,"issueCall");return!0}function o(){var e={};for(var t in D)D.hasOwnProperty(t)&&(e[t]=D[t]);return e}function l(e){if("string"==typeof e){var t=e;e={url:t}}if(!e.url)return!1;e.encoding=e.encoding||D.encoding;e.callback=e.callback||D.callback;e.retries="number"==typeof e.retries?e.retries:D.retries;e.timeout=e.timeout?e.timeout:D.timeout;return e}function i(e){var t,r=99999,a="x";t=e?r+a+r:Math.round(Math.random()*r)+a+Math.round(Math.random()*r);return t}function s(e,t){return{statusCode:e,responseCode:e,error:t,body:"ERROR"}}function u(){return"scr"+Math.round(999999999*Math.random())+"_"+Math.round(999999999*Math.random())}function c(e){var t=H;e.callbackName&&"string"==typeof e.callbackName&&(t=e.callbackName.length);return 4+(e.callback||D.callback).length+e.url.length+t+d(e.data).length+d(e.query).length}function d(e){var t="";if("string"==typeof e)t+=e;else{var r=!0;for(var a in e){var n;"object"==typeof e[a]?n=f(e[a]):"function"!=typeof e[a]&&(n=e[a]);if("undefined"!=typeof n){r||(t+="&");t+=encodeURIComponent(a)+"="+encodeURIComponent(n);r=!1}}}return t}function f(e){var t;if("function"==typeof Array.prototype.toJSON){var r=Array.prototype.toJSON;delete Array.prototype.toJSON;try{t=JSON.stringify(e)}catch(a){Array.prototype.toJSON=r;throw a}Array.prototype.toJSON=r}else t=JSON.stringify(e);return t}function p(t){var r,a=!1,n=new RegExp(/(http{1}s{0,1}?:\/\/)([^\/\?]+)(\/?)/gi);r=n.exec(0===t.callUrl.indexOf("http")?t.callUrl:e.location.href);if(r&&r.length>=3&&""!==r[2]){var o=r[2].toLowerCase();t.domainMatch=o;_[o]=_[o]||[];_[o].inFlight=_[o].inFlight||0;_[o].push(t);a=!0;G+=1;k("buffered URL: "+t.callUrl,L.DEBUG,"lpTag.taglets.jsonp.bufferRequest")}else k("NO MATCH for URL: "+t.callUrl,L.ERROR,"lpTag.taglets.jsonp.bufferRequest");return a}function g(){var e;for(var t in _)if(_.hasOwnProperty(t)){e=_[t];for(var r=!1;!r&&e.inFlight<6&&e.length>0;){var a=e.shift();if(a){k("Sent URL: "+a.callUrl,L.DEBUG,"lpTag.taglets.jsonp.sendRequests");a.scriptId=h(a.callUrl,a.encoding,a.callbackName);a.startTime=(new Date).getTime();y(t,a.callbackName,a.timeout);G-=1}else r=!0}}e=null}function m(){clearTimeout(A);A=null;var t=new Date;for(var r in Q)if(Q.hasOwnProperty(r)&&Q[r].launchTime){var a=t-Q[r].launchTime;(Q[r].loadTime||a>Q[r].timeout)&&e[r].apply(null,[s(408,{message:"Request timed out",name:"timeout"}),!0])}P>0&&(A=setTimeout(m,1e3))}function h(t,r,a){var n=u(),o=document.createElement("script");o.setAttribute("type","text/javascript");o.setAttribute("charset",r);o.onload=function(){Q[a]&&(Q[a].loadTime=new Date);this.onload=this.onerror=this.onreadystatechange=null};e.addEventListener?o.onerror=function(){Q[a]&&(Q[a].loadTime=new Date);this.onload=this.onerror=this.onreadystatechange=null}:o.onreadystatechange=function(){if(this.readyState&&("loaded"===this.readyState||"complete"===this.readyState)){Q[a]&&(Q[a].loadTime=new Date);this.onload=this.onerror=this.onreadystatechange=null}};o.setAttribute("src",t);o.setAttribute("id",n);document.getElementsByTagName("head")[0].appendChild(o);A||(A=setTimeout(m,1e3));o=null;return n}function y(e,t,r){_[e].inFlight=_[e].inFlight+1;Q[t]={launchTime:new Date,timeout:r};P+=1;S+=1}function T(){B+=1}function R(e){var t=document.getElementById(e);if(t)try{t.parentNode.removeChild(t)}catch(r){k("error when removing script",L.ERROR,"removeScript")}}function v(e){_[e].inFlight=_[e].inFlight-1;P-=1}function O(e,t,r){N(t.startTime,t.url,r);R(t.scriptId);v(t.domainMatch);x(t.callbackName,r);if(r){if(t.callbackName){t.callbackName=null;delete t.callbackName}w(e,t)}else{C(t);F("callback",t.success,e,t.context);t=null;g()}}function b(){var e;if(lpTag.taglets.lpAjax&&lpTag.taglets.lpAjax.publishMetrics&&V.length>0){e={tags:[{transport:W}],metrics:V};lpTag.taglets.lpAjax.publishMetrics(e);V.length=0}E()}function E(){j&&clearTimeout(j);j=setTimeout(b,D.metricsTimeout)}function N(e,t,r){var a,n;if(e){n=(new Date).getTime();a=n-e;V.push({rd:a,ts:e,url:t,method:"GET",statusCode:r?400:200});V.length>=D.metricsCount&&b()}}function w(e,t){J+=1;if(t.retries>0){t.retries=t.retries-1;n(t)}else{C(t);F(L.ERROR,t.error,e||s(408,{id:408,name:"TIMEOUT",message:"Request has timed out on all retries"}),t.context);t=null;g()}}function C(e){for(var t=["callUrl","retries","id","requestTimeout","type","encoding","launchTime","callbackName","domainMatch","startTime"],r=0;r<t.length;r++)if(e.hasOwnProperty(t[r])){e[t[r]]=null;delete e[t[r]]}}function F(e,t,r,a){if("function"==typeof t)try{t.call(a||null,r);t=null}catch(n){k("Exception in execution of callback, type :"+e+" e=["+n.message+"]",L.ERROR,"runCallback")}else k("No callback, of type :"+e,L.INFO,"runCallback")}function x(t,r){Q[t]=null;delete Q[t];if(r===!0)e[t]=function(){e[t]=null;try{delete e[t]}catch(r){}};else{e[t]=null;try{delete e[t]}catch(a){}}}function I(t){if(Q[t.callbackName]){T();w(s(409,{message:"This callbackName is already in a pending request and can't be serviced",id:409,name:"CONFLICT"}),t)}else e[t.callbackName]=function(e,r){O(e,t,r)}}function k(t,r,a){if(e.lpTag&&lpTag.log){"string"==typeof t&&a&&(t=a+": "+t);lpTag.log(t,r,W)}}var A,j,D={callback:"cb",encoding:"UTF-8",timeout:1e4,retries:2,metricsCount:100,metricsTimeout:6e4},L={ERROR:"ERROR",DEBUG:"DEBUG",INFO:"INFO"},M=!0,U=2083,q="lpCb",_={},S=0,G=0,P=0,B=0,J=0,V=[],Q={},H=i(!0).length,K="1.1.7",W="jsonp",z={init:t,configure:r,issueCall:n,isValidRequest:a,getVersion:function(){return K},getName:function(){return W},getDefaults:o,inspect:function(){return{name:W,version:K,callsMade:S,errorsFound:J,pending:P,buffered:G,refused:B,defaults:o()}}};t();return z}(window);window.lpTag=window.lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.taglets.postmessage=lpTag.taglets.postmessage||function(e){function t(e){var t=0===location.protocol.indexOf("https");if(e){if(e.frames){e.frames=e.frames.constructor===Array?e.frames:[e.frames];for(var r=0;r<e.frames.length;r++)g(e.frames[r],t)}if(e.defaults)for(var a in e.defaults)Te.hasOwnProperty(a)&&e.defaults.hasOwnProperty(a)&&(Te[a]=e.defaults[a])}re=!0}function r(){if(lpTag&&lpTag.taglets&&lpTag.taglets.lpAjax)try{lpTag.taglets.lpAjax.addTransport(te,Oe)}catch(e){}}function a(t){var r=!1;if(e.postMessage&&e.JSON&&t&&t.success&&(t.domain&&t.validation||t.url)){t.domain=t.domain||p(t.url);(ae[t.domain]||ue[t.domain])&&(r=!0)}return r}function n(e){var t=!1;if(re&&a(e))if(ae[e.domain])if(ae[e.domain].validated!==ve.PENDING||e.validation){t=L(e);t?v(e.domain):ne[e.callId].timeout=0}else t=O(e.domain,e);else{Y("Adding iFrame to DOM - first request: "+e.domain,fe.INFO,"issueCall");t=O(e.domain,e);m(ue[e.domain]);delete ue[e.domain]}else t=D(e.domain,e.error,e.context);return t}function o(e){return e&&ae[e]?{url:ae[e].url,validated:ae[e].validated,requestCount:ae[e].requestCount,defaults:S(ae[e].defaults),started:ae[e].validated===ve.VALIDATED}:{}}function l(){var e={};for(var t in ae)ae.hasOwnProperty(t)&&(e[t]=o(t));return e}function i(e,t,r){e.addEventListener?e.addEventListener(t,r,!1):e.attachEvent("on"+t,r)}function s(e,t){return{callId:e,responseType:t.responseType,responseCode:t.responseCode,error:{message:t.message,id:t.responseCode,name:t.name}}}function u(e,t,r){e.removeEventListener?e.removeEventListener(t,r,!1):e.detachEvent&&e.detachEvent("on"+t,r)}function c(){if(document.body){ce=!0;d()}else setTimeout(c,5)}function d(){for(;de.length>0;)try{de.shift().call(null)}catch(e){Y("Unable to execute queued callbacks for window interactive state: "+e,fe.ERROR,"_attachPendingIFrames")}}function f(e){return e+"_"+Math.floor(1e5*Math.random())+"_"+Math.floor(1e5*Math.random())}function p(e){var t,r=new RegExp(/(http{1}s{0,1}?:\/\/)([^\/\?]+)(\/?)/gi),a=null;if(0!==e.indexOf("http"))return location.protocol+"//"+location.host;t=r.exec(e);t&&t.length>=3&&""!==t[2]&&(a=t[1].toLowerCase()+t[2].toLowerCase());return a}function g(e,t){var r,a,n=!1;if(!e||!e.url||"string"!=typeof e.url){Y("iFrame configuration empty or missing url parameter",fe.ERROR,"_queueFrame");return n}r=p(e.url);a=0===e.url.toLowerCase().indexOf("https");if(!(ae[r]||ue[r]||t&&a!==t)){ue[r]=e;n=!0}return n}function m(e){var t=p(e.url);if(ae[t])return b(t,e.callback||e.success,e.context);var r=f("fr");ae[t]={elem:E(r),url:e.url,validated:ve.PENDING,defaults:e.defaults||{},delayLoad:isNaN(e.delayLoad)?0:e.delayLoad,requestCount:0,success:e.callback||e.success,error:e.error,maxReloadRetries:e.maxReloadRetries||3,reloadInterval:1e3*e.reloadInterval||3e4};setTimeout(function(){y(e.url,t)},ae[t].delayLoad);Y("iFrame Queued to load "+t,fe.INFO,"_addFrame");return ve.PENDING}function h(e){var t=p(e.url);ue[t]={url:e.url,defaults:e.defaults||{},delayLoad:e.delayLoad,success:e.success,error:e.error,maxReloadRetries:e.maxReloadRetries,reloadInterval:e.reloadInterval/1e3}}function y(e,t){ce?T(e,t):de.push(function(){T(e,t)})}function T(e,t){ae[t].loadCallback=ae[t].loadCallback||R(t);V(ae[t].elem,e);i(ae[t].elem,"load",ae[t].loadCallback);ae[t].iFrameOnloadTimeout=setTimeout(ae[t].loadCallback,Re);ae[t].attachTime=(new Date).getTime();document.body.appendChild(ae[t].elem)}function R(e){return function(t){if(ae[e].iFrameOnloadTimeout){clearTimeout(ae[e].iFrameOnloadTimeout);delete ae[e].iFrameOnloadTimeout}ae[e].loadTime=(new Date).getTime()-ae[e].attachTime;C(e,t)}}function v(e){le+=1;se+=1;ae[e].requestCount=ae[e].requestCount+1}function O(e,t){oe[e]=oe[e]||[];oe[e].push(t);return!0}function b(e,t,r){var a=o(e);W(t,r,a);return ae[e].validated}function E(e){var t=document.createElement("IFRAME");t.setAttribute("id",e);t.setAttribute("name",e);t.setAttribute("tabindex","-1");t.setAttribute("aria-hidden","true");t.setAttribute("title","");t.setAttribute("role","presentation");t.style.width="0px";t.style.height="0px";t.style.position="absolute";t.style.top="-1000px";t.style.left="-1000px";t.style.display="none";return t}function N(e,t,r,a,n,o){var l=!1;if(e&&t&&"function"==typeof t){ne[e]={success:t,error:r,progress:a,ctx:n,launchTime:new Date,timeout:isNaN(o)?Te.timeout:o+1e3};l=!0}return l}function w(e){if(ne[e]){ne[e]=null;delete ne[e];return!0}return!1}function C(e,t){Y("onLoad validation called "+e,fe.INFO,"_validateFrame");var r=function(t){F(t,e)};t&&t.error?F(t,e):setTimeout(function(){n({domain:e,success:r,error:r,validation:!0,timeout:100,retries:-1,defaults:ae[e].defaults})},10);return!0}function F(e,t){var r,a=ae[t];Y("running validation of domain "+t,fe.INFO,"_validateFrameCallback");if(a){ae[t].validated=e&&e.error?ve.FAILED:ve.VALIDATED;r=ae[t].validated===ve.VALIDATED;r?x(t,e):ae[t].reloadObj&&ae[t].reloadObj.retriesLeft>0?k(t):I(t)}a=null;return r}function x(e,t){var r;Y("FrameLoaded "+e,fe.INFO,"_runFrameValidated");r=S(he);for(var a in t)t.hasOwnProperty(a)&&(r[a]=t[a]);W(ae[e].success,ae[e].context,r);H(e);A(e,!0)}function I(e){Y("iFrame is a teapot "+e,fe.ERROR,"_runFrameFailedToLoad");if(ae[e].error){var t=s(0,ye);t.domain=e;W(ae[e].error,ae[e].context,t)}j(e);A(e,!1)}function k(e){Y("Retry loading domain: "+e,"info","_runReloadAttempt");A(e,!1);P(e)}function A(e,t){Y("Running buffer queue : "+e+" loaded: "+t,fe.INFO,"_runQueuedRequests");if(oe[e]&&oe[e].length>0){do{var r=oe[e].shift();t?n(r):W(r.error,r.context,{responseCode:600,error:"Transport - postmessage - unable to run request: "+e,body:"ERROR"})}while(oe[e].length>0);oe[e]=null;delete oe[e]}}function j(e){Y("Cleaning up failed iFrame: "+e,fe.INFO,"_cleanupIFrame");if(ae[e]){u(ae[e].elem,"load",ae[e].loadCallback);ae[e].elem.parentNode.removeChild(ae[e].elem);var t=S(ye);t.domain=e;t.url=ae[e].url;W(ae[e].error,ae[e].context,t);h(ae[e]);ae[e]=null;delete ae[e]}}function D(e,t,r){Y("Frame not found for domain: "+e,fe.ERROR,"_noFrameFound");W(t,{responseCode:600,error:"Transport - postmessage - unable to run request: "+e,body:"ERROR"},r);return!1}function L(e){var t,r=!1;e=U(e);t=S(e);try{t=M(t)}catch(a){Y("Error trying to _stringify message",fe.ERROR,"sendMessageToFrame");return!1}Y("sending msg to domain "+e.domain,fe.DEBUG,"sendMessageToFrame");var n;isNaN(e.timeout)||isNaN(e.retries)||(n=e.timeout*(e.retries+1)+2e3);N(e.callId,e.success,e.error,e.progress,e.context,n);try{r=q(e.domain,t);$=setTimeout(_,1e3)}catch(a){Y("Error trying to send message: "+a,fe.ERROR,"sendMessageToFrame");r=!1}return r}function M(e){var t;if("function"==typeof Array.prototype.toJSON){var r=Array.prototype.toJSON;delete Array.prototype.toJSON;try{t=JSON.stringify(e)}catch(a){Array.prototype.toJSON=r;throw a}Array.prototype.toJSON=r}else t=JSON.stringify(e);return t}function U(t){var r=ae[t.domain]&&ae[t.domain].defaults;t.callId=f("call");t.returnDomain=pe;"undefined"==typeof t.timeout&&(t.timeout=r&&r.timeout||Te.timeout);"undefined"==typeof t.retries&&(t.retries=r&&"undefined"!=typeof r.retries?r.retries:Te.retries);t.progress&&(t.fireProgress=!0);t.headers=t.headers||{};t.headers["LP-URL"]=e.location.href;return t}function q(e,t){var r=!1;try{ae[e].elem.contentWindow.postMessage(t,e);r=!0}catch(a){Y("Error trying to send message: "+a,fe.ERROR,"_postTheMessage")}return r}function _(){$&&clearTimeout($);$=null;var e=new Date,t=0,r=[];for(var a in ne)if(ne.hasOwnProperty(a)&&ne[a].launchTime){var n=e-ne[a].launchTime;n>ne[a].timeout?r.push(a):t+=1}if(r.length){Y("Checking errors found "+r.length+" timeout callbacks to call",fe.DEBUG,"_checkForErrors");for(var o=0;o<r.length;o++)G(s(r[o],me))}t>0&&($=setTimeout(_,1e3));return!0}function S(e){var t=e;try{t=JSON.parse(M(e))}catch(r){}return t}function G(e,t){var r,a=ne[e.callId],n=e.responseType,o=!1;if(e.callId&&ne[e.callId]||e.responseType===ge.reloading||e.responseType===ge.stats)try{switch(n){case ge.completed:r=a.success;o=!0;break;case ge.error:r=a.error;o=!0;ie+=1;break;case ge.progress:r=a.progress;break;case ge.reloading:e=t;r=P;break;case ge.stats:r=Z;e=e.rawData}if(o){w(e.callId);K(e);se=se>=0?0:se-1}r&&"function"==typeof r&&W(r,a&&a.ctx||null,e);r=null;a=null}catch(l){Y("Error in executing callback: "+l,fe.ERROR,"_executeMessageCallback");return!1}return!0}function P(e){Y("Got reload request from "+e,fe.INFO,"_handleReload");ae[e].validated=ve.PENDING;if(!ae[e].reloadObj){Y("Creating reloadObj"+e,fe.DEBUG,"_handleReload");ae[e].reloadObj=Q(e)}B(e)}function B(e){Y("Reload try for domain "+e+" ,retries left "+ae[e].reloadObj.retriesLeft,fe.INFO,"_reloadIFrame");ae[e].reloadObj.retriesLeft=ae[e].reloadObj.retriesLeft-1;ae[e].reloadObj.setLocationTimeout&&clearTimeout(ae[e].reloadObj.setLocationTimeout);if(ae[e].reloadObj.retry)ae[e].reloadObj.setLocationTimeout=setTimeout(J(e),ae[e].reloadInterval);else{ae[e].reloadObj.retry=!0;J(e)()}}function J(e){return function(){ae[e].iFrameOnloadTimeout=setTimeout(function(){C(e,{error:{code:404,message:"Frame did not trigger load"}})},Re);V(ae[e].elem,ae[e].url)}}function V(e,t){t+=t.indexOf("?")>0?"&bust=":"?bust=";t+=(new Date).getTime();t+="&loc="+encodeURIComponent(location.protocol+"//"+location.host);Y("Setting iFrame to URL: "+t,fe.INFO,"_setIFrameLocation");e.setAttribute("src",t)}function Q(e){Y("Creating reload object "+e,fe.INFO,"_createReloadObject");var t=ae[e].maxReloadRetries;return{retriesLeft:t}}function H(e){Y("Cleaning up reload object for this instance"+e,fe.INFO,"_cleanUpReloadObject");if(ae[e].reloadObj){ae[e].reloadObj.setLocationTimeout&&clearTimeout(ae[e].reloadObj.setLocationTimeout);ae[e].reloadObj=null;delete ae[e].reloadObj}}function K(e){for(var t=["callId","responseType"],r=0;r<t.length;r++){e[t[r]]=null;delete e[t[r]]}}function W(e,t,r){if(e&&"function"==typeof e)try{e.call(t||null,r)}catch(a){Y("Error in executing callback: "+a,fe.ERROR,"runCallback")}}function z(e){var t,r;try{r=e.origin;if(!ae[r])return;t=X(e.data);t.body=X(t.body)}catch(a){t=null;Y("Error in handling message from frame:"+a+" origin: "+r,fe.ERROR,"_handleMessage")}t&&"object"==typeof t&&G(t,r)}function X(e){var t=e;if("string"==typeof e)try{t=JSON.parse(e)}catch(r){Y("Error in parsing string: "+e,fe.DEBUG,"_parseJSONString")}return t}function Y(t,r,a){if(e.lpTag&&lpTag.log){"string"==typeof t&&a&&(t=a+": "+t);lpTag.log(t,r,te)}}function Z(e){if(lpTag.taglets.lpAjax&&lpTag.taglets.lpAjax.publishMetrics){e.tags&&e.tags.constructor===Array&&e.tags.push({transport:te});lpTag.taglets.lpAjax.publishMetrics(e)}}var $,ee="1.1.8",te="postmessage",re=!0,ae={},ne={},oe={},le=0,ie=0,se=0,ue={},ce=!1,de=[],fe={DEBUG:"DEBUG",INFO:"INFO",ERROR:"ERROR"},pe=p(document.location.href),ge={progress:"progressLoad",completed:"completeLoad",success:"success",error:"errorLoad",reloading:"reloading",stats:"statData"},me={responseType:ge.error,responseCode:404,message:"Request timed out on parent postMessage layer",name:"TIMEOUT"},he={responseType:ge.success,responseCode:200,message:"iFrame has successfully loaded",name:"OK"},ye={responseType:ge.error,responseCode:418,message:"This iFrame is a teapot, not very useful for communication but lovely for earl grey",name:"TEAPOT"},Te={timeout:6e4,metricsCount:1e3},Re=1e4,ve={VALIDATED:"valid",PENDING:"pending",FAILED:"failed"};c();i(e,"message",z);var Oe={v:ee,name:te,init:r,issueCall:n,isValidRequest:a,getVersion:function(){return ee},getName:function(){return te},configure:t,getFrameData:o,inspect:function(){return{name:te,version:ee,callsMade:le,errorsFound:ie,pending:se,defaults:Te,iFrameList:S(ue),activeFrames:l()}}};r();return Oe}(window);window.lpTag=lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.taglets.lpTransporter=lpTag.taglets.lpTransporter||function(){function e(e,t){window.lpTag&&lpTag.log&&lpTag.log(e,t,r)}function t(){for(var t=0;t<n.taglets.length;t++){var r=lpTag.taglets[n.taglets[t]];try{r.init();e("Called init on taglet: "+n.taglets[t],"DEBUG")}catch(a){e("Error init taglet:"+n.taglets[t]+"  e="+a,"ERROR")}}for(var o=0;t<n.taglets.length;o++){var l=lpTag.taglets[n.taglets[o]];try{"function"==typeof l.start&&l.start();e("Called start on taglet: "+n.taglets[o],"DEBUG")}catch(a){e("Error start taglet: "+n.taglets[o]+"e= "+a,"ERROR")}}}var r="lpTransporter",a="1.1.0",n={taglets:["lpAjax","lpajax_utils","jsonp","postmessage"]};return{v:a,name:r,init:t}}();}catch(e){lpTag.handleGeneralError("lpTransporter",e);}try{/*! lp-unified-window 10.44.1 2025-08-29 16:22 */
window.lpTag=window.lpTag||{},lpTag.taglets=lpTag.taglets||{},lpTag.unifiedWindow=lpTag.unifiedWindow||{},lpTag.taglets.lpUtil=lpTag.taglets.lpUtil||(function(){var i="Utils";function r(e,n){if("function"==typeof[].indexOf&&"function"==typeof e.indexOf)return e.indexOf(n);if(e.constructor===Array)for(var o=0;o<e.length;o++)if(e[o]===n)return o;return-1}function n(e){return"string"!=typeof e?e:e.trim?e.trim():e.replace(/^\s+|\s+$/gm,"")}function l(e,n){var e=new RegExp(/((?:http|ftp|ws){1}s{0,1}?:\/\/){0,1}([^\/\?/:]+)(\/?)/gi).exec(e),o=null;return o=e&&3<=e.length&&""!==e[2]&&(o=e[2].toLowerCase(),n)?e[1]+o:o}var d={customTopLevelDomain:{aero:"aero",asia:"asia",bike:"bike",biz:"biz",camera:"camera",cat:"cat",clothing:"clothing",coop:"coop",equipment:"equipment",estate:"estate",eus:"eus",gallery:"gallery",graphics:"graphics",guru:"guru",info:"info",int:"int",holdings:"holdings",jobs:"jobs",lighting:"lighting",mobi:"mobi",museum:"museum",name:"name",photography:"photography",plumbing:"plumbing",post:"post",pro:"pro",singles:"singles",tel:"tel",travel:"travel",ventures:"ventures",xxx:"xxx"},topLevelDomain:{ac:"ac",co:"co",com:"com",edu:"edu",gov:"gov",mil:"mil",net:"net",org:"org"},countryTopLevelDomain:{ac:"ac",ad:"ad",ae:"ae",af:"af",ag:"ag",ai:"ai",al:"al",am:"am",an:"an",ao:"ao",aq:"aq",ar:"ar",as:"as",at:"at",au:"au",aw:"aw",ax:"ax",az:"az",ba:"ba",bb:"bb",bd:"bd",be:"be",bf:"bf",bg:"bg",bh:"bh",bi:"bi",bj:"bj",bm:"bm",bn:"bn",bo:"bo",bq:"bq",br:"br",bs:"bs",bt:"bt",bv:"bv",bw:"bw",by:"by",bz:"bz",bzh:"bzh",ca:"ca",cc:"cc",cd:"cd",cf:"cf",cg:"cg",ch:"ch",ci:"ci",ck:"ck",cl:"cl",cm:"cm",cn:"cn",co:"co",cr:"cr",cs:"cs",cu:"cu",cv:"cv",cw:"cw",cx:"cx",cy:"cy",cz:"cz",dd:"dd",de:"de",dj:"dj",dk:"dk",dm:"dm",do:"do",dz:"dz",ec:"ec",ee:"ee",eg:"eg",eh:"eh",er:"er",es:"es",et:"et",eu:"eu",fi:"fi",fj:"fj",fk:"fk",fm:"fm",fo:"fo",fr:"fr",ga:"ga",gb:"gb",gd:"gd",ge:"ge",gf:"gf",gg:"gg",gh:"gh",gi:"gi",gl:"gl",gm:"gm",gn:"gn",gp:"gp",gq:"gq",gr:"gr",gs:"gs",gt:"gt",gu:"gu",gw:"gw",gy:"gy",hk:"hk",hm:"hm",hn:"hn",hr:"hr",ht:"ht",hu:"hu",id:"id",ie:"ie",il:"il",im:"im",in:"in",io:"io",iq:"iq",ir:"ir",is:"is",it:"it",je:"je",jm:"jm",jo:"jo",jp:"jp",ke:"ke",kg:"kg",kh:"kh",ki:"ki",km:"km",kn:"kn",kp:"kp",kr:"kr","krd:":"krd",kw:"kw",ky:"ky",kz:"kz",la:"la",lb:"lb",lc:"lc",li:"li",lk:"lk",lr:"lr",ls:"ls",lt:"lt",lu:"lu",lv:"lv",ly:"ly",ma:"ma",mc:"mc",md:"md",me:"me",mg:"mg",mh:"mh",mk:"mk",ml:"ml",mm:"mm",mn:"mn",mo:"mo",mp:"mp",mq:"mq",mr:"mr",ms:"ms",mt:"mt",mu:"mu",mv:"mv",mw:"mw",mx:"mx",my:"my",mz:"mz",na:"na",nc:"nc",ne:"ne",nf:"nf",ng:"ng",ni:"ni",nl:"nl",no:"no",np:"np",nr:"nr",nu:"nu",nz:"nz",om:"om",pa:"pa",pe:"pe",pf:"pf",pg:"pg",ph:"ph",pk:"pk",pl:"pl",pm:"pm",pn:"pn",pr:"pr",ps:"ps",pt:"pt",pw:"pw",py:"py",qa:"qa",re:"re",ro:"ro",rs:"rs",ru:"ru",rw:"rw",sa:"sa",sb:"sb",sc:"sc",sd:"sd",se:"se",sg:"sg",sh:"sh",si:"si",sj:"sj",sk:"sk",sl:"sl",sm:"sm",sn:"sn",so:"so",sr:"sr",ss:"ss",st:"st",su:"su",sv:"sv",sx:"sx",sy:"sy",sz:"sz",tc:"tc",td:"td",tf:"tf",tg:"tg",th:"th",tj:"tj",tk:"tk",tl:"tl",tm:"tm",tn:"tn",to:"to",tp:"tp",tr:"tr",tt:"tt",tv:"tv",tw:"tw",tz:"tz",ua:"ua",ug:"ug",uk:"uk",us:"us",uy:"uy",uz:"uz",va:"va",vc:"vc",ve:"ve",vg:"vg",vi:"vi",vn:"vn",vu:"vu",wf:"wf",ws:"ws",ye:"ye",yt:"yt",yu:"yu",za:"za",zm:"zm",zr:"zr"}};function c(e,n){var o,t;return t=n,"string"==typeof(o=e)&&0<o.length&&u(t)?p(e,n.key,n.value):e}function p(e,n,o){var t=new RegExp("([?&])"+n+"=.*?(&|$)","ig"),i=-1===e.indexOf("?")?"?":"&";if("object"==typeof o)try{o=JSON.stringify(o)}catch(e){}return e.match(t)?e.replace(t,"$1"+n+"="+o+"$2"):e+i+n+"="+o}function u(e){var n=e&&e.key,o=e&&e.value;return e&&"string"==typeof n&&0<n.length&&("number"==typeof o||"string"==typeof o&&0<o.length)}function s(e){try{return JSON.parse(o(e))}catch(e){lpTag.log("unable to clone object:"+JSON.stringify(e),"ERROR",i)}}function o(e){var n,o;if("function"==typeof Array.prototype.toJSON){o=Array.prototype.toJSON,delete Array.prototype.toJSON;try{n=JSON.stringify(e)}catch(e){throw Array.prototype.toJSON=o,e}Array.prototype.toJSON=o}else n=JSON.stringify(e);return n}function a(e,n){if(n=n||window,"function"==typeof e){var o=Array.prototype.slice.call(arguments,2);try{return e.apply(n,o)}catch(e){lpTag.log("Failed to execute callback exc= "+e.message,"ERROR",i)}}}function g(e,n,o){var t=e;if("string"==typeof n)for(var i=n.split("."),a=0;a<i.length;a++){if(null==t||void 0===t[i[a]]||null===t[i[a]]){t=void 0!==o?o:void 0;break}t=t[i[a]]}else lpTag.log("Empty path sent to lookup getPropertyFromObject","DEBUG","utils");return t}function t(e){return n(e.replace(/\s\s*/g," "))}return{indexOf:r,trim:n,trimAndLower:function(e){return"string"!=typeof e?e:n(e).toLowerCase()},getDomain:l,getURLParams:function(e){var n,o={};if("string"==typeof e)for(var t=e.substr(1).split("&"),i=0;i<t.length;i++)-0<t[i].indexOf("=")&&2==(n=t[i].split("=")).length&&(o[decodeURIComponent(n[0])]=decodeURIComponent(n[1]));return o},getParentDomain:function(e){var n,o=null,t={top:null,country:null};if((n=(e=l(e=""+e)).split(".")).length<3)return e;for(var i,a,r,s=n.length-1;-1<s&&(i=n[s],r=s,i=""+i,null===(a=t).top&&(d.topLevelDomain[i]||d.customTopLevelDomain[i])?a.top=r:null===a.country&&d.countryTopLevelDomain[i]&&(a.country=r),null===t.country||null===t.top);s--);return null!==t.top||null!==t.country?n.slice(0<(o=null===(o=t.top)||null!==t.country&&t.country<o&&o-1===t.country?t.country:o)?o-1:o).join("."):e},addQueryParams:function(e,n){if("string"==typeof e&&0<e.length){if(/(\?|&|\/|\\)$/.test(e)&&(e=e.substr(0,e.length-1)),Array.isArray(n)){for(var o,t=n,i=e,a=0;a<t.length&&(o=t[a],i&&"object"==typeof o);a++)i=c(i,o);return i}if(u(n))return c(e,n);if("object"==typeof n){var r,s=e,l=n;for(r in l)l.hasOwnProperty(r)&&(s=p(s,r,l[r]));return s}}return e},cloneExtend:function e(n,o,t){var i,a;if(!n||"object"!=typeof n)return n;if(!o)return s(n);for(a in i=o||n.constructor()||{},n)i[a]!==n[a]&&n.hasOwnProperty(a)&&(i[a]=t?e(n[a],void 0,t):n[a]);return i},clone:s,convertConfig:function(e,n){if(void 0===n)lpTag.log("_config is passed as undefined","ERROR",i);else if(e)for(var o=0;o<e.length;o++){var t=e[o].value;if("string"==typeof t&&""!==t)if("true"===t)t=!0;else if("false"===t)t=!1;else if("["==t.charAt(0)||"{"==t.charAt(0))try{t=JSON.parse(t)}catch(e){lpTag.log("unable to parse JSON:"+JSON.stringify(e),"ERROR",i)}n[e[o].id]=t}},addStyleTag:function(e,n){var o,t;if(e&&"string"==typeof e)return o=(n=n||{}).document||window.document,void 0!==(n=n.id)?(t=o.getElementById(n)||o.createElement("style")).id=n:t=o.createElement("style"),t.type="text/css",o.getElementsByTagName("head")[0].appendChild(t),t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e)),t},objectKeys:function(e){var n,o={};for(n in e)e.hasOwnProperty(n)&&(o[n]=n);return o},waitForBody:function(n,e){var o=(e=e||{}).context,t=e.document||window.document;!(function e(){t.body?a(n,o):setTimeout(e,50)})()},stringify:o,cookieActions:{delimiter:"|",set:function(e,n,o){if("string"==typeof e&&n.join&&"function"==typeof n.join)return e=encodeURIComponent(e)+"="+encodeURIComponent(n.join(this.delimiter))+";path=/",void 0!==o&&(e+=";domain="+o),document.cookie=e,!0},get:function(e){if("string"==typeof e){e=document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1")||null;if("string"==typeof e){e=decodeURIComponent(e);if(e)return e.split(this.delimiter)}}},remove:function(e,n){if("string"==typeof e)return this.set(e,["null"],n),!0}},getUID:function(){var e,n="";if(crypto&&"function"==typeof crypto.randomUUID)return crypto.randomUUID();if(crypto&&"function"==typeof crypto.getRandomValues){e=new Uint8Array(32),crypto.getRandomValues(e);for(var o=0;o<e.length;o++)n+=e[o].toString(16);return n.substring(0,8)+"-"+n.substring(8,12)+"-"+n.substring(12,16)+"-"+n.substring(16,20)+"-"+n.substring(20,32)}return"tttttttt-tttt-4ttt-fttt-t7ttttttttttt".replace(/[tf]/g,function(e){var n=16*Math.random()|0;return("t"==e?n:3&n|8).toString(16)})+"-"+Math.floor(1e5*Math.random())},runCallback:a,runCallbackByObject:function(e,n,o){e=e||{};var t=g(window,e.jsContext),i=g(window,e.jsMethodName);"function"!=typeof i?(lpTag.log("runCallbackByObject err=function "+e.jsMethodName+" was not found","ERROR","utils"),o()):(lpTag.log("runCallbackByObject calling function "+e.jsMethodName,"DEBUG","utils"),i.call(t,n))},registerEvent:function(e,n,o){e&&n&&o&&(e.addEventListener?e.addEventListener(n,o,!1):e.attachEvent("on"+n,o))},unregisterEvent:function(e,n,o){e&&n&&o&&(e.removeEventListener?e.removeEventListener(n,o,!1):e.detachEvent("on"+n,o))},buildClassString:function(e,n,o){var t=(e="string"==typeof e?e:"").split(" "),i=n&&n.constructor===Array?n:"string"==typeof n?[n]:[];o=o&&o.constructor===Array?o:"string"==typeof o?[o]:[];for(var a=0;a<t.length;a++)r(o,t[a])<0&&r(i,t[a])<0&&i.push(t[a]);return i.join(" ").replace(/$\s/gi,"")},isEmpty:function(e){for(var n in e)if(e.hasOwnProperty(n))return!1;return!0},getPropertyFromObject:g,addClass:function(e,n){e.className.indexOf(n)<0&&(e.className=[e.className,n].join(" "),e.className=t(e.className))},removeClass:function(e,n){e.className=e.className.replace(new RegExp(n,"g"),""),e.className=t(e.className)},mapString:function(e,n,o){var t={};if(e&&"string"==typeof e)for(var i,a=(e=o?decodeURIComponent(e):e).split(n),r=0;r<a.length;r++)t[(i=a[r].split("="))[0]]=i[1];return t},escapeHtml:function(e){var n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};if(e)return e.replace(/[&<>"'`=/]/g,function(e){return n[e]})}}})(),window.lpTag=window.lpTag||{},lpTag.unifiedWindow=lpTag.unifiedWindow||{},lpTag.unifiedWindow.AccountSettingsManager=lpTag.unifiedWindow.AccountSettingsManager||function(e){var s,l,d,c,p="AccountSettingsManager",u=lpTag.unifiedWindow.log,t=lpTag.taglets.lpUtil,g=!1;function m(e,n,o){e&&Array.isArray(e)&&!e.error?(u.info("_getAcSettings - got configuration: "+JSON.stringify(e),p),t.runCallback(o,null,e)):(u.info("_getAcSettings - NO CONFIGURATION FOUND",p),t.runCallback(o,null,[])),n&&lpTag.events.trigger({appName:"*",eventName:"receivedAccountSettings",data:e})}function f(e,n){u.info("_getAcSettings - ERROR FROM SERVER",p),t.runCallback(n,null,[]),e&&lpTag.events.trigger({appName:"*",eventName:"receivedAccountSettingsFailed",data:{}})}return"object"==typeof(e=e)&&e.accountId&&e.domain?(s=e.accountId,l=e.domain,g=!(!e.initialConf||void 0===e.initialConf.isFetchEnabled)&&JSON.parse(e.initialConf.isFetchEnabled),d=e.initialConf&&e.initialConf.fetchCacheMode):u.error("init: no configuration given",p),{getSettings:function n(o){var t,e,i=0<lpTag.events.hasFired("*","requestedAccountSettings").length&&!c,a=g?lpTag.taglets.fetch:lpTag.taglets.jsonp,r=(u.info("_getSettings",p),"https://"+l+"/api/account/"+s+"/configuration/setting/accountproperties"+(g?"":"/"));i?(window.lpTag&&lpTag.log&&lpTag.log("getSettings - Account settings network call already in progress","DEBUG",p),t=o,i=lpTag.events.hasFired("*","receivedAccountSettings"),e=lpTag.events.hasFired("*","receivedAccountSettingsFailed"),i.length<1?lpTag.events.once({appName:"*",eventName:"receivedAccountSettings",func:function(e){m(e,!1,t)}}):m(i[0].data,!1,t),e.length<1?lpTag.events.once({appName:"*",eventName:"receivedAccountSettingsFailed",func:function(){f(!1,t)}}):f(!1,t)):(lpTag.events.trigger({appName:"*",eventName:"requestedAccountSettings",data:{}}),c=!1,a.issueCall({url:r,timeout:5e3,retries:0,callbackName:"accountSettingsCB",credentials:g?"omit":void 0,cache:g&&d?d:void 0,success:function(e){m(g?e&&e.body:e,!0,o)}.bind(this),error:function(e){e&&e.cspOrNetworkError?(c=!(g=!1),n(o)):f(!0,o)}.bind(this)}))}}},window.lpTag=window.lpTag||{},lpTag.unifiedWindow=lpTag.unifiedWindow||{},lpTag.unifiedWindow.AppConfigurationManager=lpTag.unifiedWindow.AppConfigurationManager||function(e){var s,l,t,i,a,d=0,c=1,p=2,r={DESKTOP:180,MOBILE:180,TABLET:180},u="-lpuw-chat",g="-lpuw-unauthMessaging",m="-lpuw-authMessaging",f="-lpuw",n=[u,g,m,f],o={};function w(e,n,o){var t={accountId:e.subscription&&e.subscription.conversationowneraccountid||n.accountId,env:n.env,clickedChannel:n.clickedChannel};if(n.connectorsSfConfig&&(t.connectorsSfConfig="object"==typeof n.connectorsSfConfig),o)o=e,i=n,(a=t).poppedOut=!0,a.sessionId=i.sessionId,a.supportBlockCCPattern=i.supportBlockCCPattern,a.scp=i.scp,a.engConf={lewid:o.lewid};else{var i=t,a=e,o=n,e=a.connector;if(void 0!==s.getPropertyFromObject(e,"configuration.acrValues")&&delete e.configuration.acrValues,a.connector&&a.connector.configuration&&!a.async&&((e=s.clone(a.connector)).configuration.authorizationEndpoint&&(e.configuration.authorizationEndpoint=encodeURIComponent(e.configuration.authorizationEndpoint)),e.configuration.tokenEndpoint)&&(e.configuration.tokenEndpoint=encodeURIComponent(e.configuration.tokenEndpoint)),i.external=!0,i.chatSessionTimeout=o.chatSessionTimeout,i.supportBlockCCPattern=o.supportBlockCCPattern,i.scp=o.scp,i.secureStorageType=o.secureStorageType,i.vars=o.vars,i.originationUrl=o.originationUrl,i.engConf={async:a.async,scid:a.scid,cid:a.cid,eid:a.eid,lang:a.lang,svid:a.svid,ssid:a.ssid,lewid:a.lewid,connector:e,allowUnauthMsg:a.allowUnauthMsg,availabilityPolicy:a.availabilityPolicy,subscription:a.subscription},a.isOffline&&(i.engConf.isOffline=!0),h()&&(i.useRecaptcha=!0),o.sessionTimeout&&(i.sessionTimeout=o.sessionTimeout),o.chatReconnectTimeout&&(i.chatReconnectTimeout=o.chatReconnectTimeout),v(a)&&(i.engConf.authConnId=a.connector.id),a.skill&&(i.engConf.skill=a.skill),a.skillId&&(i.engConf.skillId=a.skillId),a.preChatLines&&(i.engConf.preChatLines=(function(e){var n,o={},t=0;for(n in e){if(o[n]=e[n],1500<=t)break;t+=n.length+e[n].length}return o})(a.preChatLines)),a.subscription&&(i.engConf.subscription=a.subscription,a.subscription.conversationownerSettings))try{var r=JSON.parse(a.subscription.conversationownerSettings);a.subscription.conversationownerSettings=JSON.stringify(r.filter(function(e){return 0<=e.id.indexOf("account.profile.")}))}catch(e){a.subscription.conversationownerSettings="[]"}a.externalTargets&&(i.engConf.externalTargets=a.externalTargets),i.engConf.connector&&i.engConf.connector.configuration&&delete i.engConf.connector.configuration.jwtPublicKey}return t}function v(e){return e.connector&&0===e.connector.type}function h(){return void 0!==l.taglets.lpUnifiedWindowRecaptcha}function b(e){return e.channelPriority||n}function _(e,n){var o=t.getDeviceFamilyName().toLowerCase(),e=e&&e[n]&&e[n][o]?e[n][o]:(function(){var e;e=t.isMobile()?r.MOBILE:t.isTablet()?r.TABLET:r.DESKTOP;return e})();return e}function k(e){return i&&i.lpDebug&&(e.lpDebug=i.lpDebug),i&&i.lpVersion&&(e.lpVersion=i.lpVersion),e}function E(e){var n=document.createElement("a");return n.href=e,{search:n.search,port:n.port,protocol:n.protocol,hostname:n.hostname,pathname:0===(e=n.pathname).indexOf("/")?e:"/"+e}}function C(o,t,e){var n="",i=window.lpTag.identities&&l.identities.safeIdentities||[],a=e.connectors,r=i.filter(function(e){var e=e.acr,n=parseInt(e,10);return 1!==e.length||0!==n});return t.connector?(a&&a.length&&a.forEach(function(n){!(function(e){e=e&&e.configuration;return"lpTag.taglets.unAuthMessaging"===e.jsContext&&"lpTag.taglets.unAuthMessaging.lpUnauthFunction"===e.jsMethodName})(n)&&r.forEach(function(e){n.configuration.issuer===e.iss&&(t.connector=n,o.engConf)&&(o.engConf.connector=n)})}),t.connector.type===d?n=(function(e,n,o){n=E(n.connector.configuration.genKeyUrl);return o=k(o={rt:"redir",redirect:encodeURIComponent(o.codeRepository+(e.resource||"/index.html")),lpUnifiedWindowConfig:encodeURIComponent(s.stringify(e))}),n.search=s.addQueryParams(n.search,o),n.protocol+"//"+n.hostname+(n.port?":"+n.port:"")+n.pathname+n.search})(o,t,e):t.connector.type!==c&&t.connector.type!==p||(n=(function(e,n,o){{var t,i,a,r;n.connector=n.connector||{},r=o.useOAuth2Standard||n.connector.configuration&&n.connector.configuration.rfcCompliance,r=(function(e){return e.configuration=e.configuration||{},e.configuration.authorizationEndpoint&&e.type})(n.connector)?(a=n.connector.type===c?r?"id_token":"token":"code",t=y(o,!0,e),i=T(e,!0,r),a={response_type:a},void 0!==n.connector.configuration.clientId&&(a.client_id=n.connector.configuration.clientId),r?(n&&n.connector&&n.connector.configuration&&n.connector.configuration.rfcCompliance&&(r=E(n.connector.configuration.authorizationEndpoint),r=l.taglets.lpUtil.getURLParams(r.search),l.taglets.lpUtil.isEmpty(r)||r&&!r.scope)&&(a.scope=encodeURIComponent("openid")),a.redirect_uri=t,a.state=i):a.redirect_uri=t+i,s.addQueryParams(n.connector.configuration.authorizationEndpoint,a)):(e.invalidAuthConnector=!0,S(e,o))}return r})(o,t,e))):n=S(o,e),n}function S(e,n,o){return y(n,o,e)+T(e,o)}function y(e,n,o){e=E(e.staticCodeRepository+(o.resource||"/index.html")),o=e.protocol+"//"+e.hostname+(e.port?":"+e.port:"")+e.pathname;return n?encodeURIComponent(o):o}function T(e,n,o){var t,o=o?(t={lpUnifiedWindowConfig:e},a&&(t.pkce_reauthentication=1),t=k(t),s.stringify(t)):(t={lpUnifiedWindowConfig:encodeURIComponent(s.stringify(e))},a&&(t.pkce_reauthentication=1),t=k(t),s.addQueryParams("?",t));return n?encodeURIComponent(o):o}return s=e.utils,l=e.lpTag,t=e.deviceDetector,i=e.queryParams,{createExternalConfiguration:w,isRecaptchaEnabled:h,isAuthenticatedEnabled:v,getExternalResourceURL:function(e,n,o,t){return o=w(e,n,o),t&&(a=!0),t=C(o,e,n),a=!1,t},getFeatureById:function(e){var n;return n=l.features&&"function"==typeof l.features.getFeature?l.features.getFeature(e):n},getUWDir:function(e,n){var o=i&&i.lpVersion;return o&&e.debug&&"dev"!==e.env?"/"+o:n?"/"+n:""},openExternal:function(e,n){var o=h()?"menubar=no, location=no, resizable=1, scrollbars=no, status=yes, width=320px, height=450px, modal=true":"menubar=no, location=no, resizable=1, scrollbars=no, status=yes, width=280px, height=400px, modal=true";return window.open(n,e.target+"POP",o)},getChannels:function(e){var n;return s.isEmpty(o)&&b(n=e).forEach(function(e){o[e]={sessionKey:e,sessionTimeout:(function(e,n){var o;switch(e){case u:case f:o=_(n,"chatSessionTimeout");break;case g:o=_(n,"unauthenticatedMessagingSessionTimeout");break;case m:o=_(n,"messagingSessionTimeout")}return o})(e,n)}}),o},getChannelsPriority:b,getClickedChannel:function(e,n){return e.async?e.allowUnauthMsg?g:m:n?f:u},getEngagementTypeByChannel:function(e){switch(e){case u:case f:return l.unifiedWindow.consts.engagementTypes.CHAT_ENGAGEMENT;case m:case g:return l.unifiedWindow.consts.engagementTypes.MESSAGING_ENGAGEMENT}},getSMSClientLaunchResourceURL:function(e,n,o){var t=w(e,n,!1);return t.smsClientLaunch=!0,t.smsConf={smsAPI:o.smsAPI},t.smsConf.launchProperties={phoneNumber:o.launchProperties.phoneNumber,message:o.launchProperties.message},t.resource="/taptotextv2.html",C(t,e,n)},getURLBreakdownInfo:E,getQueryString:function(e){return 1<(e=e.split("#")[0].split("?")).length?"?"+e[1]:""}}},window.lpTag=window.lpTag||{},lpTag.unifiedWindow=lpTag.unifiedWindow||{},lpTag.unifiedWindow.BrowserStateManager=lpTag.unifiedWindow.BrowserStateManager||function(e){var n,o,i,a,t,r,s,l,d,c=lpTag.unifiedWindow.log,p="BrowserStateManager",u={RESIZE_START:"resizeStart",ORIENTATION_CHANGE:"orientationChange",RESIZE:"resize",FOCUS_CHANGE:"focusChange",VISIBILITY_CHANGE:"visibilityChange"},g={},m=!0,f=lpTag.taglets.lpUtil;function w(){var e;return void 0!==window.orientation?90===(e=window.orientation)||-90===e:window.innerWidth>window.screen.availHeight}function v(){for(var e in g)g[e]&&g[e].constructor===Array&&(g[e].length=0),g[e]=null,delete g[e]}function h(){if(m=!0,void 0!==g[u.FOCUS_CHANGE])for(var e=0;e<g[u.FOCUS_CHANGE].length;e++)f.runCallback(g[u.FOCUS_CHANGE][e].callback,g[u.FOCUS_CHANGE][e].context,{focus:m});c.info("_onFocus: trigger window focus event",p)}function b(){if(void 0!==g[u.VISIBILITY_CHANGE])for(var e=0;e<g[u.VISIBILITY_CHANGE].length;e++)f.runCallback(g[u.VISIBILITY_CHANGE][e].callback,g[u.VISIBILITY_CHANGE][e].context,{visible:!document[t]});c.info("_onVisibilityChange: trigger visibility change event",p)}function _(){if(m=!1,void 0!==g[u.FOCUS_CHANGE])for(var e=0;e<g[u.FOCUS_CHANGE].length;e++)f.runCallback(g[u.FOCUS_CHANGE][e].callback,g[u.FOCUS_CHANGE][e].context,{focus:m});c.info("_onBlur: trigger window blur event",p)}function k(e){s&&clearTimeout(s);var n=300;l.isAndroid()&&(n=i===window.innerWidth?900:400),s=setTimeout(E,n)}function E(){var e=w(),n=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth||0,o=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight||0;if(e!==a&&void 0!==g[u.ORIENTATION_CHANGE]){for(var t=0;t<g[u.ORIENTATION_CHANGE].length;t++)f.runCallback(g[u.ORIENTATION_CHANGE][t].callback,g[u.ORIENTATION_CHANGE][t].context,{landscape:e,height:o,width:n}),a=e;c.info("_triggerOrientationChange: trigger orientation changed event. landscape: "+a,p)}i=window.innerWidth}function C(){if(r)clearTimeout(r);else if(void 0!==g[u.RESIZE_START])for(var e=0;e<g[u.RESIZE_START].length;e++)f.runCallback(g[u.RESIZE_START][e].callback,g[u.RESIZE_START][e].context);r=setTimeout(function(){var e=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth||0,n={height:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight||0,width:e};if(void 0!==g[u.RESIZE])for(var o=0;o<g[u.RESIZE].length;o++)f.runCallback(g[u.RESIZE][o].callback,g[u.RESIZE][o].context,n);r=null},300)}return n="boolean"==typeof navigator.onLine,o=!n||navigator.onLine,l=e,a=w(),i=window.innerWidth,d=l.isAndroid()||l.isIOS()?"orientationchange":"resize",e=(function(){var e,n;void 0!==document.webkitHidden?(e="webkitHidden",n="webkitvisibilitychange"):void 0!==document.mozHidden?(e="mozHidden",n="mozvisibilitychange"):void 0!==document.msHidden?(e="msHidden",n="msvisibilitychange"):void 0!==document.hidden&&(e="hidden",n="visibilitychange");return{hiddenAttr:e,visibilityChange:n}})(),t=e.hiddenAttr,e=e.visibilityChange,d&&f.registerEvent(window,d,k),f.registerEvent(window,"resize",C),f.registerEvent(window,"focus",h),f.registerEvent(window,"blur",_),f.registerEvent(document,e,b),{EVENT_NAME:u,on:function(e,n,o){g[e]=g[e]||[],g[e].push({callback:n,context:o})},off:function(e,n){var o=n,t=g[e];if(t){for(var i=[],a=0;a<t.length;a++)t[a].callback!==o&&i.push(t[a]);t.length=0,g[e]=i}},visibilitySupported:function(){return!!t},isConnected:function(){return o=n?navigator.onLine:o},isHidden:function(){return document[t]},isFocus:function(){return m},isLandscape:w,unregisterAllEvents:v,dispose:function(){v(),d&&f.unregisterEvent(window,d,k),f.unregisterEvent(window,"resize",C),f.unregisterEvent(window,"focus",h),f.unregisterEvent(window,"blur",_)}}},window.lpTag=window.lpTag||{},lpTag.unifiedWindow=lpTag.unifiedWindow||{},lpTag.unifiedWindow.defaultDictionary=lpTag.unifiedWindow.defaultDictionary||{error:"Error",couldNotConnect:"Oops - unable to connect.",tryAgain:"Try again",loadingOnMinimize:"Loading",loading:"Loading",unableToConnect:"Unable to connect",reconnect:"Trying to reconnect",chatEndedOnExternalWindow:"Close window in order to start new chat",externalWindowOpen:"You have an ongoing chat. Return to that window to continue the chat.",unsupportedBrowserMode:"Your browser may be in incognito mode, or it may be blocking third party cookies. Please open a regular browser session to chat, or check your browser privacy settings",cannotResumeChat:"Resume chat from the tab where the interaction began",crossDomainError:"Cannot resume conversation, please return to previous page to continue.",chatAuthError:"Go back to the previous page or log in to continue your conversation.",confirmMessage:"Closing the conversation means that you wont be able to continue even if you go back or log in. Are you sure you want to proceed?",startConversationError:"Please refresh the page and start a new conversation.",connectionUnavailable:"Connection unavailable",sessionExpired:"Session expired",sessionError:"Your session has expired. Please close this window and start a new conversation in order to resume.",sharkSessionExpired:"Please refresh the page and start a new conversation.",toMoveThisWindowPressAltPlusArrowKey:"To move this window, press alt plus arrowkey",tooltip_Close:"Close",tooltip_Minimize:"Minimize",tooltip_open_widgets:"Open widgets",tooltip_close_widgets:"Close widgets",tooltip_refresh_slider:"Refresh",closeWindowOkBtn:"OK",closeWindowCancelBtn:"Cancel",windowRegionLabel:"Chat window",pkceAuthTitle:"Authorisation",pkceAuthStarted:"Authorisation process started",DownloadTranscriptAction:"Download\ntranscript",logoAltText:"Logo",defaultTextBoxTextHarmony:"Send a message",addEmojiButtonText:"Add Emojis",addAttachmentButtonText:"Add Photo or Video","de-DE":{error:"Fehler",couldNotConnect:"Leider kann die Verbindung nicht hergestellt werden",tryAgain:"Versuchen Sie es erneut",loadingOnMinimize:"System ldt",loading:"Chat ldt",unableToConnect:"Verbindung kann nicht hergestellt werden",reconnect:"Wiederhole Verbindungsaufbau",chatEndedOnExternalWindow:"Schlieen Sie das Fenster, um einen neuen Chat zu starten",externalWindowOpen:"Sie befinden sich derzeit in einem Chatgesprch. Kehren Sie zu diesem Fenster zurck, um den Chat fortzusetzen.",unsupportedBrowserMode:"Ihr Browser ist mglicherweise im Incognito-Modus, oder er blockiert Cookies von Drittanbietern. Bitte starten Sie eine regulre Browsersitzung, oder berprfen Sie die Privatsphreeinstellungen Ihres Browsers.",cannotResumeChat:"Chat vom Tab fortfhren, auf dem der Chat begonnen hat",crossDomainError:"Gesprch kann nicht wieder aufgenommen werden. Wechseln Sie zur vorherigen Seite, um fortzufahren.",chatAuthError:"Gehen Sie zurck zur vorherigen Seite oder melden Sie sich an, um das Gesprch fortzufhren.",confirmMessage:"Wenn Sie das Gesprch schlieen, knnen Sie es nicht fortsetzen, auch wenn Sie zurck auf die vorherige Seite gehen oder sich anmelden. Mchten Sie wirklich fortfahren?",startConversationError:"Aktualisieren Sie die Seite und starten Sie ein neues Gesprch.",connectionUnavailable:"Verbindung nicht verfgbar",sessionExpired:"Sitzung abgelaufen",sessionError:"Die Sitzung ist abgelaufen. Schlieen Sie dieses Fenster und starten Sie ein neues Gesprchs, um die Unterhaltung fortzusetzen.",sharkSessionExpired:"Aktualisieren Sie die Seite und starten Sie ein neues Gesprch.",logoAltText:"Logo",windowRegionLabel:"Chatfenster"},"da-DK":{error:"Fejl",couldNotConnect:"Hov- kan ikke oprette forbindelse",tryAgain:"Prv igen",loadingOnMinimize:"Indlser",loading:"Indlser",unableToConnect:"Kan ikke oprette forbindelse",reconnect:"Prver at oprette forbindelse igen",chatEndedOnExternalWindow:"Luk vinduet for at starte ny chat",externalWindowOpen:"Du har en igangvrende chat. Vend tilbage til vinduet for at fortstte chatten.",unsupportedBrowserMode:"Din browser er i incognito-funktion eller blokerer eksterne cookies. bn en almindelig browser for at chatte eller kontroller browserens indstillinger",cannotResumeChat:"Fortst chat fra fanen, hvor interaktionen startede",crossDomainError:"Kan ikke fortstte samtalen, g tilbage til forrige side for at fortstte.",chatAuthError:"G tilbage til forrige side eller p og fortst samtalen.",confirmMessage:"Lukker du samtalen, kan du ikke fortstte, selvom du gr tilbage eller logger ind. Er du sikker p du vil g videre?",startConversationError:"Opdater siden og start ny samtale.",connectionUnavailable:"Ingen forbindelse",sessionExpired:"Session udlbet",sessionError:"Din session er udlbet. Luk vinduet og start ny samtale for at fortstte.",sharkSessionExpired:"Opdater siden og start ny samtale.",logoAltText:"Logo",windowRegionLabel:"Chatvindue"},"es-ES":{error:"Error",couldNotConnect:"Vaya, no hemos podido conectar",tryAgain:"Intntelo de nuevo",loadingOnMinimize:"Cargando",loading:"Cargando",unableToConnect:"No se ha podido conectar",reconnect:"Intentando reconectar",chatEndedOnExternalWindow:"Cierre la ventana para iniciar un nuevo chat",externalWindowOpen:"Tiene un chat en proceso Vuelva a esa ventana para continuar el chat.",unsupportedBrowserMode:"Su navegador puede estar en modo incgnito, o quiz est bloqueando cookies de terceros. Por favor, abra una sesin de navegador normal para charlar, o compruebe los ajustes de privacidad de su navegador",cannotResumeChat:"Reanudar el chat desde la pestaa donde comenz la interaccin",crossDomainError:"No se puede reanudar la conversacin; por favor, vuelva a la pgina anterior para continuar.",chatAuthError:"Vuelva a la pgina anterior o inicie sesin para continuar su conversacin.",confirmMessage:"Cerrar la conversacin significa que no podr continuar incluso si vuelve o inicia sesin. Seguro que desea continuar?",startConversationError:"Por favor, actualice la pgina e inicie una nueva conversacin.",connectionUnavailable:"Conexin no disponible",sessionExpired:"Sesin caducada",sessionError:"Su sesin ha caducado. Por favor cierre esta ventana e inicie una nueva conversacin para reanudar.",sharkSessionExpired:"Por favor, actualice la pgina e inicie una nueva conversacin.",logoAltText:"Logotipo",windowRegionLabel:"Ventana de chat"},"fi-FI":{error:"Virhe",couldNotConnect:"Oho - yhteys ei onnistunut",tryAgain:"Yrit uudelleen",loadingOnMinimize:"Lataa",loading:"Lataa",unableToConnect:"Yhteys ei onnistunut",reconnect:"Yhdist uudelleen",chatEndedOnExternalWindow:"Sulje ikkuna aloittaaksesi uuden keskustelun",externalWindowOpen:"Sinulla on meneilln keskustelu. Palaa takaisin kyseiseen ikkunaan jatkaaksesi keskustelua.",unsupportedBrowserMode:"Selaimesi saattaa olla incognito-tilassa tai se saattaa est kolmannen osapuolen evsteet. Avaa normaali selainistunto keskustellaksesi tai tarkista selaimesi yksityisyysasetukset",cannotResumeChat:"Jatka keskustelua vlilehdest, josta aloitit sen.",crossDomainError:"Keskustelua ei voitu jatkaa, palaa edelliselle sivulle.",chatAuthError:"Mene takaisin edelliselle sivulle tai kirjaudu sisn jatkaaksesi keskustelua.",confirmMessage:"Keskustelun sulkeminen tarkoittaa sit, ettet voi jatkaa sit, vaikka palaisitkin takaisin tai kirjautuisit sisn. Haluatko varmasti jatkaa?",startConversationError:"Pivit tm sivu ja aloita uusi keskustelu.",connectionUnavailable:"Ei yhteytt",sessionExpired:"Istunto umpeutui",sessionError:"Istuntosi on umpeutunut. Sulje tm ikkuna ja aloita uusi keskustelu jatkaaksesi",sharkSessionExpired:"Pivit tm sivu ja aloita uusi keskustelu.",logoAltText:"Logo",windowRegionLabel:"Keskusteluikkuna"},"fr-FR":{error:"Erreur",couldNotConnect:"Oops - connexion impossible.",tryAgain:"Ressayer",loadingOnMinimize:"Chargement",loading:"Chargement",unableToConnect:"Impossible de se connecter",reconnect:"Tentative de reconnexion en cours",chatEndedOnExternalWindow:"Fermer la fentre pour dmarrer une nouvelle conversation",externalWindowOpen:"Vous avez une conversation en cours. Revenir  cette fentre pour continuer la conversation.",unsupportedBrowserMode:"Votre navigateur est peut-tre en mode incognito ou bloque peut-tre les cookies en provenance de tierce partie. Veuillez ouvrir une session de navigateur ordinaire pour dmarrer une conversation ou vrifiez les paramtres de confidentialit de votre navigateur",cannotResumeChat:"Reprenez la conversation sur longlet ou la communication a commenc",crossDomainError:"Impossible de reprendre la conversation. Veuillez retourner  la page prcdente pour continuer.",chatAuthError:"Retournez  la page prcdente ou connectez-vous pour continuer votre conversation.",confirmMessage:"Si vous fermez la conversation, vous ne pourrez pas continuer celle-ci mme si vous retournez en arrire ou si vous vous connectez. tes-vous sr de vouloir continuer?",startConversationError:"Veuillez rafrachir la page et dmarrer une nouvelle discussion.",connectionUnavailable:"Connexion indisponible",sessionExpired:"Session expire",sessionError:"Votre session a expir. Veuillez fermer cette fentre et dmarrer une nouvelle conversation pour continuer.",sharkSessionExpired:"Veuillez rafrachir la page et dmarrer une nouvelle discussion.",logoAltText:"Logo",windowRegionLabel:"Fentre de tchat"},"it-IT":{error:"Errore",couldNotConnect:"Oops - impossibile connettere",tryAgain:"Riprova",loadingOnMinimize:"Caricamento..",loading:"Caricamento..",unableToConnect:"Impossibile connettere.",reconnect:"Tentativo di riconnessione",chatEndedOnExternalWindow:"Chiudi la finestra per iniziare una nuova chat",externalWindowOpen:"Hai una chat in corso. Torna alla finestra per continuare la chat.",unsupportedBrowserMode:"Il tuo browser potrebbe essere in modalit private o bloccare i cookie di terze parti. Apri una sessione di browser regolare oppure controlla le impostazioni di bel browser",cannotResumeChat:"Ripristina la chat dalla scheda in cui  stata avviata l'interazione",crossDomainError:"Impossibile riprendere la conversazione, tornare alla pagina precedente per continuare.",chatAuthError:"Torna alla pagina precedente o accedi per proseguire la conversazione.",confirmMessage:"Se chiuderai la conversazione non potrai proseguirla, nemmeno tornando indietro o effettuando lacceso. Continuare?",startConversationError:"Aggiorna la pagina e avvia una nuova conversazione.",connectionUnavailable:"Connessione non disponibile",sessionExpired:"Sessione scaduta",sessionError:"Sessione scaduta. Chiudere questa finestra e avviare una nuova conversazione per riprendere.",sharkSessionExpired:"Aggiorna la pagina e avvia una nuova conversazione.",logoAltText:"Logo",windowRegionLabel:"Finestra di chat"},"ja-JP":{error:"",couldNotConnect:"",tryAgain:"",loadingOnMinimize:"",loading:"",unableToConnect:"",reconnect:"",chatEndedOnExternalWindow:"",externalWindowOpen:"",unsupportedBrowserMode:" ",cannotResumeChat:"",crossDomainError:"",chatAuthError:"",confirmMessage:"?",startConversationError:"",connectionUnavailable:"",sessionExpired:"",sessionError:"",sharkSessionExpired:"",logoAltText:"",windowRegionLabel:""},"ko-KR":{error:"",couldNotConnect:" -   ",tryAgain:" ",loadingOnMinimize:" ",loading:" ",unableToConnect:"  ",reconnect:"   ",chatEndedOnExternalWindow:"    ",externalWindowOpen:"   .      .",unsupportedBrowserMode:"      .          ",cannotResumeChat:"     ",crossDomainError:"    .     .",chatAuthError:"     .",confirmMessage:"        .  ?",startConversationError:"     .",connectionUnavailable:"   ",sessionExpired:" ",sessionError:" .        .",sharkSessionExpired:"     .",logoAltText:"",windowRegionLabel:" ",__config__:{timeOrder:"mdt"}},"nl-NL":{error:"Fout",couldNotConnect:"Oeps, we kunnen geen verbinding maken.",tryAgain:"Probeer het opnieuw",loadingOnMinimize:"Bezig met openen...",loading:"Bezig met openen...",unableToConnect:"Er kan geen verbinding tot stand worden gebracht",reconnect:"Er wordt opnieuw geprobeerd verbinding te maken",chatEndedOnExternalWindow:"Sluit het venster om een nieuw chatgesprek te starten.",externalWindowOpen:"Er is een chatgesprek actief. Ga terug naar het venster om het chatgesprek voort te zetten.",unsupportedBrowserMode:"Uw browser is wellicht in incognitomodus of blokkeert cookies van externe partijen. Start een gewone browsersessie om te chatten of controleer de privacy-instellingen van uw browser",cannotResumeChat:"Hervat de chatsessie op het tabblad waar de interactie begon",crossDomainError:"Het gesprek kan niet worden hervat. Ga terug naar de vorige pagina om verder te gaan.",chatAuthError:"Ga terug naar de vorige pagina of meld u aan om uw gesprek te vervolgen.",confirmMessage:"Als u het gesprek beindigt, kunt u het niet vervolgen  ook al zou u teruggaan of u opnieuw aanmelden.      Weet u zeker dat u verder wilt gaan?",startConversationError:"Vernieuw de pagina en start een nieuw gesprek.",connectionUnavailable:"Verbinding niet beschikbaar",sessionExpired:"Sessie verlopen",sessionError:"Uw sessie is verlopen. Sluit dit venster en start een nieuw gesprek om te hervatten.",sharkSessionExpired:"Vernieuw de pagina en start een nieuw gesprek.",logoAltText:"Logo",windowRegionLabel:"Chatvenster"},"ru-RU":{error:"",couldNotConnect:"   ",tryAgain:"  ",loadingOnMinimize:"...",loading:"...",unableToConnect:"   ",reconnect:"  ",chatEndedOnExternalWindow:"      .",externalWindowOpen:"    .         .",unsupportedBrowserMode:"      ;     -. ,           ",cannotResumeChat:"  ,   ,     .",crossDomainError:"  . ,    .",chatAuthError:"          .",confirmMessage:"    ,               . ?",startConversationError:"     .",connectionUnavailable:" ",sessionExpired:" ",sessionError:" .          .",sharkSessionExpired:"     .",logoAltText:"",windowRegionLabel:" "},"pt-BR":{error:"Erro",couldNotConnect:"Ops  impossvel conectar.",tryAgain:"Tente novamente",loadingOnMinimize:"Carregando",loading:"Carregando",unableToConnect:"Impossvel conectar",reconnect:"Tentando reconectar",chatEndedOnExternalWindow:"Fechar a janela para iniciar um novo chat",externalWindowOpen:"Voc tem um chat em andamento. Volte para a janela para continuar o chat.",unsupportedBrowserMode:"Seu navegador poder estar no modo annimo ou estar bloqueando cookies de terceiros. Abra uma sesso regular do navegador para conversar por chat ou verifique as configuraes de privacidade do navegador",cannotResumeChat:"Continuar o chat na guia onde a interao comeou",crossDomainError:"No possvel continuar a conversa. Volte para a pgina anterior para continuar.",chatAuthError:"Volte para a pgina anterior ou faa login para continuar sua conversa.",confirmMessage:"Fechar a conversa significa que voc no poder continuar mesmo de voltar ou fizer login. Tem certeza de que deseja continuar?",startConversationError:"Atualize a pgina e inicie uma nova conversa.",connectionUnavailable:"Conexo no disponvel.",sessionExpired:"Sesso expirada",sessionError:"Sua sesso expirou. Feche esta janela e inicie uma nova conversa para continuar.",sharkSessionExpired:"Atualize a pgina e inicie uma nova conversa.",logoAltText:"Logotipo",windowRegionLabel:"Janela de chat"},"sk-SK":{error:"Chyba",couldNotConnect:"Uff  pripojenie nie je mon",tryAgain:"Skste znova",loadingOnMinimize:"Natavanie",loading:"Natavanie",unableToConnect:"Pripojenie nie je mon",reconnect:"Poka sa ooptovn pripojenie",chatEndedOnExternalWindow:"Ak chcete zaa nov konverzciu, zavrite okno",externalWindowOpen:"Momentlne prebieha konverzcia. Ak chcete pokraova vkonverzcii, vrte sa do prslunho okna.",unsupportedBrowserMode:"Prehliada me by spusten vanonymnom reime alebo me blokova sbory cookie tretch strn. Ak chcete konverzova, otvorte prehliada vtandardnom reime alebo skontrolujte nastavenia ochrany osobnch dajov prehliadaa",cannotResumeChat:"Obnovte diskusiu z karty, na ktorej sa zaala interakcia",crossDomainError:"Konverzciu nemono obnovi; pokraujte nvratom na predchdzajcu strnku.",chatAuthError:"Ak chcete pokraova vkonverzcii, vrte sa na predchdzajcu strnku alebo sa prihlste.",confirmMessage:"Zavretie konverzcie znamen, e nebudete mc pokraova, ani ak sa vrtite alebo prihlsite. Naozaj chcete pokraova?",startConversationError:"Obnovte strnku a zanite nov konverzciu.",connectionUnavailable:"Pripojenie je nedostupn",sessionExpired:"Platnos relcie uplynula",sessionError:"Platnos vaej relcie uplynula. Ak chcete pokraova, zavrite toto okno azanite nov konverzciu.",sharkSessionExpired:"Obnovte strnku a zanite nov konverzciu.",logoAltText:"Logo",windowRegionLabel:"Okno diskusie"},"tr-TR":{error:"Hata",couldNotConnect:"Ne yazk ki, balanlamyor",tryAgain:"Tekrar dene",loadingOnMinimize:"Ykleniyor",loading:"Ykleniyor",unableToConnect:"Balanlamyor",reconnect:"Yeniden balanmaya allyor",chatEndedOnExternalWindow:"Yeni sohbet balatmak iin pencereyi kapatn",externalWindowOpen:"Devam eden bir sohbetiniz var. Sohbete devam etmek iin o pencereye geri dnn.",unsupportedBrowserMode:"Taraycnz gizli modda olabilir veya nc parti tanmlama bilgilerini bloke ediyor olabilir. Ltfen sohbet etmek iin normal bir tarayc oturumu an veya taraycnzn kiisel gizlilik ayarlarn kontrol edin",cannotResumeChat:"Etkileimin balad sekmeden sohbeti srdrn",crossDomainError:"Grme srdrlemiyor, ltfen devam etmek iin nceki sayfaya geri dnn.",chatAuthError:"Konumaya devam etmek iin ltfen nceki sayfaya dnn veya tekrar giri yapn.",confirmMessage:"Bu sohbeti kapatrsanz, tekrar giri yapsanz veya nceki sayfaya dnseniz bile, daha sonra devam edemezsiniz. Devam etmek istediinizden emin misiniz?",startConversationError:"Ltfen sayfay yenileyin ve yeni bir grme balatn.",connectionUnavailable:"Balant yok",sessionExpired:"Oturum sresi doldu",sessionError:"Oturumunuzun sresi doldu. Devam etmek iin ltfen bu pencereyi kapatn ve yeni bir grme balatn.",sharkSessionExpired:"Ltfen sayfay yenileyin ve yeni bir grme balatn.",logoAltText:"Logo",windowRegionLabel:"Sohbet penceresi"},"en-US":{error:"Error",couldNotConnect:"Oops - unable to connect",tryAgain:"Try again",loadingOnMinimize:"Loading",loading:"Loading",unableToConnect:"Unable to connect",reconnect:"Trying to reconnect",chatEndedOnExternalWindow:"Close window in order to start new chat",externalWindowOpen:"You have an ongoing chat. Return to that window to continue the chat.",unsupportedBrowserMode:"Your browser may be in incognito mode, or it may be blocking third party cookies. Please open a regular browser session to chat, or check your browser privacy settings",cannotResumeChat:"Resume chat from the tab where the interaction began",crossDomainError:"Cannot resume conversation, please return to previous page to continue.",chatAuthError:"Go back to the previous page or log in to continue your conversation.",confirmMessage:"Closing the conversation means that you wont be able to continue even if you go back or log in. Are you sure you want to proceed?",startConversationError:"Please refresh the page and start a new conversation.",connectionUnavailable:"Connection unavailable",sessionExpired:"Session expired",sessionError:"Your session has expired. Please close this window and start a new conversation in order to resume.",sharkSessionExpired:"Please refresh the page and start a new conversation.",logoAltText:"Logo",windowRegionLabel:"Chat window"},"zh-CN":{error:"",couldNotConnect:"",tryAgain:"",loadingOnMinimize:"",loading:"",unableToConnect:"",reconnect:"",chatEndedOnExternalWindow:"",externalWindowOpen:"",unsupportedBrowserMode:" cookie",cannotResumeChat:"",crossDomainError:"",chatAuthError:"",confirmMessage:"",startConversationError:"",connectionUnavailable:"",sessionExpired:"",sessionError:"",sharkSessionExpired:"",logoAltText:"",windowRegionLabel:""},"ro-RO":{error:"Eroare",couldNotConnect:"Oops - nu se poate conecta",tryAgain:"ncercai din nou",loadingOnMinimize:"Se ncarc",loading:"Se ncarc",unableToConnect:"Nu se poate conecta",reconnect:"Se ncearc reconectarea",chatEndedOnExternalWindow:"nchidei fereastra pentru a ncepe un nou chat",externalWindowOpen:"Avei un chat n desfurare. Revenii la fereastra respectiv pentru a continua chatul.",unsupportedBrowserMode:"Este posibil ca browserul dv. s fie n modul incognito sau s blocheze cookie-urile de la teri. V rugm deschidei o sesiune ordinar de browser sau verificai setrile de confidenialitate.",cannotResumeChat:"Reluai conversaia de pe fila unde a nceput interaciunea.",crossDomainError:"Conversaia nu poate fi reluat. Pentru a continua, v rugm s revenii la pagina anterioar.",chatAuthError:"Mergei la pagina anterioar sau autentificai-v pentru a continua conversaia.",confirmMessage:"Dac nchidei conversaia, nu o mai putei continua chiar dac mergei la pagina anterioar sau v autentificai. Suntei sigur() c dorii s continuai?",startConversationError:"V rugm actualizai pagina i ncepei o nou conversaie.",connectionUnavailable:"Conexiune indisponibil",sessionExpired:"Sesiune expirat",sessionError:"Sesiunea dv. a expirat. Pentru a continua, v rugm nchidei fereastra i ncepei o nou conversaie.",sharkSessionExpired:"V rugm actualizai pagina i ncepei o nou conversaie.",logoAltText:"Logo",windowRegionLabel:"Fereastr chat"},"uk-UA":{error:"",couldNotConnect:".   ",tryAgain:"  ",loadingOnMinimize:" ",loading:" ",unableToConnect:"  ",reconnect:"   ",chatEndedOnExternalWindow:" ,    ",externalWindowOpen:"    .    ,   .",unsupportedBrowserMode:",            cookies            ",cannotResumeChat:"   ,     ",crossDomainError:"  .      .",chatAuthError:"      ,   .",confirmMessage:"   ,    ,       .  ?",startConversationError:"     .",connectionUnavailable:" ",sessionExpired:"   ",sessionError:"   .        .",sharkSessionExpired:"     .",logoAltText:"",windowRegionLabel:" "},"ar-AE":{error:"",couldNotConnect:" -  ",tryAgain:" ",loadingOnMinimize:"",loading:"",unableToConnect:" ",reconnect:"  ",chatEndedOnExternalWindow:"       ",externalWindowOpen:"  .       .",unsupportedBrowserMode:"              .              .",cannotResumeChat:"        ",crossDomainError:"  .      .",chatAuthError:"         .",confirmMessage:"              .      ",startConversationError:"     .",connectionUnavailable:"   ",sessionExpired:"  ",sessionError:"  .          .",sharkSessionExpired:"     .",logoAltText:"",windowRegionLabel:" "},"hr-HR":{error:"Greka",couldNotConnect:"Ups - povezivanje nije uspjelo",tryAgain:"Pokuajte ponovno",loadingOnMinimize:"Uitavanje",loading:"Uitavanje",unableToConnect:"Nije se mogue povezati",reconnect:"Ponovno se pokuava uspostaviti veza",chatEndedOnExternalWindow:"Zatvorite prozor kako biste zapoeli novo avrljanje",externalWindowOpen:"Imate aktivno avrljanje Vratite se u taj prozor ako elite nastaviti avrljati.",unsupportedBrowserMode:"Va preglednik moda je u inkognito nainu rada ili blokira kolaie tree strane. Ako elite avrljati, zaponite sesiju u obinom pregledniku ili provjerite postavke privatnosti u vaem pregledniku",cannotResumeChat:"avrljanje ete nastaviti u kartici u kojoj ste zapoeli interakciju",crossDomainError:"Nije mogue nastaviti razgovor, molimo vratite se na prethodnu stranicu kako biste nastavili.",chatAuthError:"Vratite se natrag na prethodnu stranicu ili se prijavite da nastavite razgovor.",confirmMessage:"Ako zatvorite razgovor neete moi nastaviti ak i ako se vratite natrag ili se prijavite. Jeste li sigurni da elite nastaviti?",startConversationError:"Molimo osvjeite stranicu i zaponite novi razgovor.",connectionUnavailable:"Veza je nedostupna.",sessionExpired:"Sesija je istekla",sessionError:"Vaa sesija je istekla. Ako elite nastaviti, zatvorite ovaj prozor i pokrenite novi razgovor.",sharkSessionExpired:"Molimo osvjeite stranicu i zaponite novi razgovor.",logoAltText:"Logotip",windowRegionLabel:"Prozor avrljanja"},"lt-LT":{error:"Klaida",couldNotConnect:"Atsipraome, prisijungti nepavyko",tryAgain:"Bandyti vl",loadingOnMinimize:"keliama",loading:"keliama",unableToConnect:"Nepavyksta prisijungti",reconnect:"Bandoma prisijungti pakartotinai",chatEndedOnExternalWindow:"Uverkite lang, jei norite pradti nauj pokalb",externalWindowOpen:"iuo metu turite vykstant pokalb. Grkite  t lang, kad galtumte tsti pokalb.",unsupportedBrowserMode:"Galbt js narykl veikia incognito reimu, arba blokuoja treij ali slapukus. Atverkite prast narykls seans, kad galtumte pradti pokalb, arba patikrinkite savo narykls privatumo nuostatas",cannotResumeChat:"Pratskite pokalb i kortels, kurioje pradjote bendrauti",crossDomainError:"Pokalbio tsti negalima, praome grti  ankstesn puslap ir tsti i ten.",chatAuthError:"Grkite  ankstesn puslap arba prisijunkite, kad galtumte tsti panekes.",confirmMessage:"Jei uversite panekes, nebegalsite tsti, net jei grite atgal arba prisijungsite. Ar tikrai norite tsti?",startConversationError:"Atnaujinkite puslap ir pradkite nauj pokalb.",connectionUnavailable:"Yra ryys",sessionExpired:"Seansas baigsi",sessionError:"Js seansas baigsi. Nordami tsti, uverkite  lang ir pradkite nauj pokalb.",sharkSessionExpired:"Atnaujinkite puslap ir pradkite nauj pokalb.",logoAltText:"Logotipas",windowRegionLabel:"Pokalbio langas"},"hu-HU":{error:"Hiba",couldNotConnect:"Kapcsolds sikertelen",tryAgain:"Krjk, hogy prbld meg jra!",loadingOnMinimize:"Betlts",loading:"Betlts",unableToConnect:"Kapcsolds sikertelen",reconnect:"jrakapcsolds folyamatban",chatEndedOnExternalWindow:"Ablak bezrsa j csevegs indtshoz",externalWindowOpen:"Folyamatban lv csevegse van. Visszatrs ahhoz az ablakhoz a csevegs folytatshoz.",unsupportedBrowserMode:"A bngsz inkognt mdban lehet, vagy harmadik fl stijt (cookie) blokkolja. Krem, nyisson meg egy hagyomnyos bngsz ablakot vagy csevegst, vagy ellenrizze a bngsz adatvdelmi belltsait",cannotResumeChat:"Hiba trtnt! Krjk, hogy folytasd a beszlgetst arrl a flrl, ahol a chat kezddtt",crossDomainError:"A beszlgets nem folytathat. Krem, lpjen vissza az elz oldalra a folytatshoz.",chatAuthError:"A beszlgets folytatshoz lpj vissza az elz oldalra, vagy jelentkezz be.",confirmMessage:"A beszlgets bezrsa esetn akkor sem fogod tudni folytatni, ha visszalpsz vagy bejelentkezel. Biztosan folytatod?",startConversationError:"Nyisson j oldalt s kezdjen j beszlgetst.",connectionUnavailable:"A kapcsolat nem rhet el",sessionExpired:"A munkamenet lejrt",sessionError:"Az lse lejrt. Krem, zrja be az ablakot s az jrakezdshez indtson j beszlgetst.",sharkSessionExpired:"Nyisson j oldalt s kezdjen j beszlgetst.",logoAltText:"log",windowRegionLabel:"Chat ablak"},"fr-CA":{error:"Erreur",couldNotConnect:"Oops - connexion impossible.",tryAgain:"Ressayer",loadingOnMinimize:"Chargement",loading:"Chargement",unableToConnect:"Impossible de se connecter",reconnect:"Tentative de reconnexion en cours",chatEndedOnExternalWindow:"Fermer la fentre pour dmarrer une nouvelle conversation",externalWindowOpen:"Vous avez une conversation en cours. Revenir  cette fentre pour continuer la conversation.",unsupportedBrowserMode:"Votre navigateur est peut-tre en mode incognito ou bloque peut-tre les cookies en provenance de tierce partie. Veuillez ouvrir une session de navigateur ordinaire pour dmarrer une conversation ou vrifiez les paramtres de confidentialit de votre navigateur",cannotResumeChat:"Reprenez la conversation sur longlet ou la communication a commenc",crossDomainError:"Impossible de reprendre la conversation. Veuillez retourner  la page prcdente pour continuer.",chatAuthError:"Retournez  la page prcdente ou connectez-vous pour continuer votre conversation.",confirmMessage:"Si vous fermez la conversation, vous ne pourrez pas continuer celle-ci mme si vous retournez en arrire ou si vous vous connectez. tes-vous sr(e) de vouloir continuer?",startConversationError:"Veuillez rafrachir la page et dmarrer une nouvelle discussion.",connectionUnavailable:"Connexion indisponible",sessionExpired:"Session expire",sessionError:"Votre session a expir. Veuillez fermer cette fentre et dmarrer une nouvelle conversation pour continuer.",sharkSessionExpired:"Veuillez rafrachir la page et dmarrer une nouvelle discussion.",logoAltText:"Logo",windowRegionLabel:"Fentre de tchat"},"bg-BG":{error:"",couldNotConnect:"      ",tryAgain:" ",loadingOnMinimize:"",loading:"",unableToConnect:"    ",reconnect:"     ",chatEndedOnExternalWindow:" ,     ",externalWindowOpen:"  .     ,    .",unsupportedBrowserMode:"               . ,     ,   ,       ",cannotResumeChat:"   ,     ",crossDomainError:"     . ,     ,   .",chatAuthError:"      ,     .",confirmMessage:"   ,      ,        .   ,    ?",startConversationError:",      .",connectionUnavailable:"  ",sessionExpired:" ",sessionError:"   . ,       ,  .",sharkSessionExpired:",      .",logoAltText:"",windowRegionLabel:"  "},"zh-TW":{error:"",couldNotConnect:"",tryAgain:"",loadingOnMinimize:"",loading:"",unableToConnect:"",reconnect:"",chatEndedOnExternalWindow:"",externalWindowOpen:"",unsupportedBrowserMode:" Cookie",cannotResumeChat:"",crossDomainError:"",chatAuthError:"",confirmMessage:"",startConversationError:"",connectionUnavailable:"",sessionExpired:"",sessionError:"",sharkSessionExpired:"",logoAltText:"",windowRegionLabel:""},"el-GR":{error:"",couldNotConnect:" -     ",tryAgain:" ",loadingOnMinimize:"",loading:"",unableToConnect:"    ",reconnect:"  ",chatEndedOnExternalWindow:"        ",externalWindowOpen:"    .         .",unsupportedBrowserMode:"               cookies  .                 ",cannotResumeChat:"         ",crossDomainError:"      ,       .",chatAuthError:"           .",confirmMessage:"   ,            .          ;",startConversationError:"        .",connectionUnavailable:"  ",sessionExpired:"    ",sessionError:"    .   ,         .",sharkSessionExpired:"        .",logoAltText:"",windowRegionLabel:" "},"sl-SL":{error:"Napaka",couldNotConnect:"Ups  povezave ni mogoe vzpostaviti",tryAgain:"Poskusi znova",loadingOnMinimize:"Nalagam",loading:"Nalagam",unableToConnect:"Povezave ni mogoe vzpostaviti",reconnect:"Poskuam znova vzpostaviti povezavo",chatEndedOnExternalWindow:"Zapri okno za zaetek novega klepeta",externalWindowOpen:"Odprt imate aktivni klepet. Za nadaljevanje pogovora se vrnite na to okno.",unsupportedBrowserMode:"Va brskalnik je morda v nainu brez beleenja zgodovine ali pa morda blokira pikotke tretjih oseb. Za klepet odprite obiajno sejo brskalnika ali pa preverite njegove nastavitve zasebnosti.",cannotResumeChat:"Nadaljujte s klepetom na zavihku, v katerem ste zaeli s komunikacijo",crossDomainError:"S pogovorom ni mono nadaljevati, za nadaljevanje se vrnite na prejnjo stran.",chatAuthError:"Pojdite na prejnjo stran ali se prijavite in nadaljujte s pogovorom.",confirmMessage:"e zaprete pogovor, bo to pomenilo, da ne boste mogli nadaljevati, etudi se ponovno prijavite. Ali ste prepriani, da elite nadaljevati?",startConversationError:"Osveite stran in zanite nov pogovor",connectionUnavailable:"Povezava ni na voljo",sessionExpired:"Seja je potekla",sessionError:"Vaa seja je potekla. Za nadaljevanje zaprite to okno in zanite nov pogovor.",sharkSessionExpired:"Osveite stran in zanite nov pogovor"},"en-UK":{couldNotConnect:"Oops - unable to connect",tryAgain:"Try again",loadingOnMinimize:"Loading",unableToConnect:"Unable to connect",reconnect:"Trying to reconnect",startConversationError:"Please refresh the page and start a new conversation.",logoAltText:"Logo"},"pl-PL":{error:"Bd",couldNotConnect:"Niestety, nie mona si poczy.",tryAgain:"Sprbuj ponownie",loadingOnMinimize:"adowanie",loading:"adowanie",unableToConnect:"Nie mona si poczy",reconnect:"Prba ponownego poczenia",chatEndedOnExternalWindow:"Zamknij okno, aby rozpocz now rozmow",externalWindowOpen:"Masz biec rozmow. Wr do tego okna, aby kontynuowa rozmow.",unsupportedBrowserMode:"Twoja przegldarka moe by uruchomiona w trybie incognito lub moe blokowa pliki cookie innych firm. Otwrz regularn sesj przegldarki, aby porozmawia lub sprawd ustawienia prywatnoci przegldarki.",cannotResumeChat:"Wznw rozmow na karcie, na ktrej rozpocza si interakcja",crossDomainError:"Nie mona wznowi rozmowy; aby kontynuowa, wr do poprzedniej strony.",chatAuthError:"Wr do poprzedniej strony lub zaloguj si, aby kontynuowa rozmow.",confirmMessage:"Zamknicie rozmowy bdzie oznacza, e kontynuowanie nie bdzie moliwe, nawet jeeli wrcisz do poprzedniej strony lub si zalogujesz. Czy na pewno chcesz kontynuowa?",startConversationError:"Prosimy odwiey stron i rozpocz now rozmow.",connectionUnavailable:"Poczenie niedostpne",sessionExpired:"Sesja wygasa",sessionError:"Twoja sesja wygasa. Zamknij to okno i rozpocznij now konwersacj, aby wznowi.",sharkSessionExpired:"Prosimy odwiey stron i rozpocz now rozmow.",logoAltText:"Logo",windowRegionLabel:"Okno rozmowy"},"zh-HK":{error:"",couldNotConnect:"  ",tryAgain:"",loadingOnMinimize:"",loading:"",unableToConnect:"",reconnect:"",chatEndedOnExternalWindow:"",externalWindowOpen:"",unsupportedBrowserMode:" Cookie",cannotResumeChat:"",crossDomainError:"",chatAuthError:"",confirmMessage:"",startConversationError:"",connectionUnavailable:"",sessionExpired:"",sessionError:"",sharkSessionExpired:"",logoAltText:"",windowRegionLabel:""},"et-EE":{error:"Trge",couldNotConnect:"Oih! hendamine ei nnestu",tryAgain:"Proovige uuesti",loadingOnMinimize:"Laadimine",loading:"Laadimine",unableToConnect:"Ei suuda luua hendust",reconnect:"Pame uuesti hendada",chatEndedOnExternalWindow:"Uue vestluse alustamiseks sulgege aken",externalWindowOpen:"Teil on avatud vestlus. Minge vestluse jtkamiseks tagasi aknasse.",unsupportedBrowserMode:"Teie brauser vib olla inkognito reiimis vi blokeeritud kolmanda poole kpsiste poolt. Avage palun vestluseks tavaline brauseri sessioon vi kontrollige oma privaatsusseadeid.",cannotResumeChat:"Jtkake vestlust vahelehelt, kus koost algas",crossDomainError:"Ei saa vestlust lpetada, jtkamiseks minge tagasi eelmisele lehekljele.",chatAuthError:"Vestluse jtkamiseks naaske eelmisele lehele vi logige sisse.",confirmMessage:"Kui see vestlus suletakse, ei saa te seda hiljem uuesti kivitada (isegi kui logite uuesti sisse). Olete kindel, et soovite vestluse lpetada?",startConversationError:"Vrskendage leheklge ja alustage uut vestlust.",connectionUnavailable:"henduse loomine ei ole vimalik",sessionExpired:"Sessioon aegus",sessionError:"Teie sessioon on aegunud. Sulgege palun see aken ja alustage jtkamiseks uut vestlust.",sharkSessionExpired:"Vrskendage leheklge ja alustage uut vestlust.",logoAltText:"Logo",windowRegionLabel:"Vestlusaken"},"mk-MK":{error:"",couldNotConnect:"  ",tryAgain:"  ",loadingOnMinimize:"",loading:"",unableToConnect:"  .",reconnect:"    ",chatEndedOnExternalWindow:"       ",externalWindowOpen:"  .          .",unsupportedBrowserMode:"            .               ",cannotResumeChat:"       ",crossDomainError:"     .        .",chatAuthError:"            .",confirmMessage:"    ,       ,      .        ?",startConversationError:"      .",connectionUnavailable:" ",sessionExpired:"  ",sessionError:" .          .",sharkSessionExpired:"      .",logoAltText:"",windowRegionLabel:"  "},"lv-LV":{error:"Kda",couldNotConnect:"Dieml neizdevs izveidot savienojumu",tryAgain:"Miniet vlreiz",loadingOnMinimize:"Notiek ielde",loading:"Notiek ielde",unableToConnect:"Neizdevs izveidot savienojumu",reconnect:"Mina vlreiz izveidot savienojumu",chatEndedOnExternalWindow:"Aizveriet logu, lai sktu jaunu trzanu",externalWindowOpen:"Jums ir atvrta trzanas sesija. Atgriezieties attiecgaj log, lai turpintu trzanu.",unsupportedBrowserMode:"Jsu prlkprogramma var bt inkognito rem vai blo treo puu skfailus. Ldzu, atveriet parastu prlkprogrammas sesiju, lai trztu, vai prbaudiet savas prlkprogrammas privtuma iestatjumus",cannotResumeChat:"Turpiniet atu no cilnes, kur sazia sks.",crossDomainError:"Nevar turpint sarunu; ldzu, atgriezties iepriekj lap, lai turpintu.",chatAuthError:"Dodieties atpaka uz iepriekjo lapu vai piesakieties, lai turpintu savu sarunu.",confirmMessage:"Sarunas aizvrana nozm, ka js nevarsit turpint, pat ja atgriezsities vai pieteiksieties. Vai tiem vlaties to dart?",startConversationError:"Ldzu, atsvaidziniet o lapu un sciet jaunu sarunu.",connectionUnavailable:"Savienojums nav pieejams",sessionExpired:"Sesijas dergums beidzies",sessionError:"Jsu sesijas dergums ir beidzies. Ldzu, aizveriet o logu un sciet jaunu sarunu, lai turpintu.",sharkSessionExpired:"Ldzu, atsvaidziniet o lapu un sciet jaunu sarunu.",logoAltText:"Logotips",windowRegionLabel:"Trzanas logs"},"nb-NO":{error:"Feil",couldNotConnect:"Obs - kunne ikke koble til",tryAgain:"Prv p nytt",loadingOnMinimize:"Laster inn",loading:"Laster inn",unableToConnect:"Kunne ikke koble til",reconnect:"Prver  koble til p nytt",chatEndedOnExternalWindow:"Lukk vinduet for  starte en ny chat",externalWindowOpen:"Du er allerede i en aktiv chat. Dra tilbake til vinduet for  fortsette chatten.",unsupportedBrowserMode:"Det er mulig at din nettleser er i inkognitomodus eller at den blokkeres av informasjonskapsler fra en tredjepart. Vennligst start en vanlig nettleserside for  chatte eller bruk nettleserens historikk",cannotResumeChat:"Gjenoppta chaten fra fanen hvor kommunikasjonen begynte",crossDomainError:"Kunne ikke opprettholde samtalen. G tilbake til forrige side for  fortsette.",chatAuthError:"G tilbake til forrige side eller logg inn og fortsett samtalen.",confirmMessage:"Hvis du lukker denne samtalen, kan du ikke fortsette p den, selv om du kommer tilbake senere eller logger inn igjen. Er du sikker p at du vil fortsette?",startConversationError:"Vennligst oppdater siden og start en ny samtale.",connectionUnavailable:"Tilkobling ikke tilgjengelig",sessionExpired:"kt utlpt",sessionError:"kten din er utlpt. Vennligst lukk vinduet og start en ny samtale for  fortsette.",sharkSessionExpired:"Vennligst oppdater siden og start en ny samtale.",logoAltText:"Logo",windowRegionLabel:"Chatvindu"},"cs-CZ":{error:"Chyba",couldNotConnect:"Chyba! Pipojen se nezdailo.",tryAgain:"Zkuste to znovu",loadingOnMinimize:"Nahrvn",loading:"Nahrvn",unableToConnect:"Pipojen nelze navzat.",reconnect:"Pokus o optovn pipojen",chatEndedOnExternalWindow:"Zavete okno, abyste mohli zat nov chat",externalWindowOpen:"V chat pokrauje. Vrate se koknu, abyste mohli vchatu pokraovat.",unsupportedBrowserMode:"V prohle me bt vreimu inkognito, nebo me blokovat cookies tetch stran. Chcete-li chatovat, otevete bnou relaci prohlee, nebo zkontrolujte nastaven soukrom svho prohlee",cannotResumeChat:"Pokraujte v konverzaci ze zloky, kde interakce zaala",crossDomainError:"Nen mono znovu zat konverzaci; chcete-li pokraovat, vrate se na pedchoz strnku.",chatAuthError:"Vrate se na pedchoz strnku nebo se pihlaste, chcete-li pokraovat v konverzaci.",confirmMessage:"Pokud ukonte konverzaci, nebudete ji moci obnovit. Opravdu chcete zavt tuto konverzaci?",startConversationError:"Obnovte prosm strnku a zahajte novou konverzaci.",connectionUnavailable:"Spojen nen dostupn",sessionExpired:"Relace vyprela",sessionError:"Vae relace vyprela. Abyste mohli pokraovat, zavete toto okno a zante novou konverzaci.",sharkSessionExpired:"Obnovte prosm strnku a zahajte novou konverzaci.",logoAltText:"Logo",windowRegionLabel:"Okno konverzace"},"pt-PT":{error:"Erro",couldNotConnect:"Ups, no foi possvel estabelecer ligao",tryAgain:"Tente novamente",loadingOnMinimize:"A carregar",loading:"A carregar",unableToConnect:"No foi possvel estabelecer ligao",reconnect:"A tentar estabelecer de novo a ligao",chatEndedOnExternalWindow:"Fechar janela para iniciar uma nova conversa",externalWindowOpen:"Tem uma conversa em curso. Volte para essa janela para continuar a conversa.",unsupportedBrowserMode:"O browser pode estar no modo de navegao annima ou a bloquear cookies de terceiros. Abra uma sesso normal com o browser para conversar ou verifique as definies de privacidade do browser",cannotResumeChat:"Retome a conversa a partir do separador onde teve incio a interaco",crossDomainError:"No  possvel retomar a conversao, volte  pgina anterior para continuar",chatAuthError:"Volte para a pgina anterior ou inicie sesso para continuar a sua conversa.",confirmMessage:"Se fechar a conversa, no a poder continuar mesmo que volte ou que inicie sesso. Tem a certeza de que pretende continuar?",startConversationError:"Atualize a pgina e inicie uma nova conversa.",connectionUnavailable:"Ligao no disponvel",sessionExpired:"Sesso expirada",sessionError:"A sua sesso expirou. Por favor, feche esta janela e inicie uma nova conversa a fim de retomar.",sharkSessionExpired:"Atualize a pgina e inicie uma nova conversa.",logoAltText:"Logtipo",windowRegionLabel:"Janela de chat"},"es-419":{error:"Error",couldNotConnect:"Vaya, no pudimos conectar",tryAgain:"Intntelo de nuevo",loadingOnMinimize:"Cargando",loading:"Cargando",unableToConnect:"No se pudo conectar",reconnect:"Intentando reconectar",chatEndedOnExternalWindow:"Cierre la ventana para iniciar un nuevo chat.",externalWindowOpen:"Tiene un chat en curso. Vuelva a esa ventana para continuar el chat.",unsupportedBrowserMode:"Puede que su navegador est en modo incgnito, o quiz est bloqueando cookies de terceros. Abra una sesin de navegador normal para charlar, o revise los ajustes de privacidad de su navegador.",cannotResumeChat:"Reanudar el chat desde la pestaa donde comenz la interaccin",crossDomainError:"No se puede reanudar la conversacin. Para continuar, vuelva a la pgina anterior.",chatAuthError:"Vaya a la pgina anterior o inicie sesin para continuar su conversacin",confirmMessage:"Cerrar la conversacin significa que no podr continuar, incluso si va a la pgina anterior o si inicia sesin. Seguro que desea proceder?",startConversationError:"Actualice la pgina y comience una nueva conversacin.",connectionUnavailable:"Conexin no disponible",sessionExpired:"Sesin expirada",sessionError:"Su sesin ha expirado. Para reanudar, cierre esta ventana e inicie una nueva conversacin.",sharkSessionExpired:"Actualice la pgina y comience una nueva conversacin.",logoAltText:"Logotipo",windowRegionLabel:"Ventana del chat"},"th-TH":{error:"",couldNotConnect:"  ",tryAgain:"",loadingOnMinimize:"",loading:"",unableToConnect:"",reconnect:"",chatEndedOnExternalWindow:"",externalWindowOpen:" ",unsupportedBrowserMode:"   ",cannotResumeChat:"",crossDomainError:" ",chatAuthError:" ",confirmMessage:"  ?",startConversationError:"",connectionUnavailable:"",sessionExpired:"",sessionError:"  ",sharkSessionExpired:"",logoAltText:"",windowRegionLabel:""},"ms-MY":{error:"Ralat",couldNotConnect:"Alamak - tidak dapat menyambung",tryAgain:"Cuba lagi",loadingOnMinimize:"Memuat",loading:"Memuat",unableToConnect:"Tidak boleh sambung semula",reconnect:"Sedang cuba menyambung semula",chatEndedOnExternalWindow:"Tutup tetingkap untuk memulakan sembang baru",externalWindowOpen:"Anda ada sembang berjalan sekarang. Kembali ke tetingkap tersebut untuk terus bersembang.",unsupportedBrowserMode:"Pelayar anda mungkin dalam mod inkognito, atau ia mungkin menyekat kuki pihak ketiga. Sila buka sesi pelayar biasa untuk bersembang, atau periksa tetapan privasi pelayar anda",cannotResumeChat:"Sambung sembang dari tab yang memulakan interaksi.",crossDomainError:"Tidak boleh teruskan sembang, sila kembali ke laman terdahulu untuk meneruskan.",chatAuthError:"Kembali ke laman sebelumnya atau log masuk untuk meneruskan perbualan anda.",confirmMessage:"Menutup perbualan bermakna anda tidak akan dapat meneruskan walaupun jika anda kembali atau log masuk. Adakah anda pasti ingin teruskan?",startConversationError:"Sila muat semula halaman dan mulakan perbualan baru.",connectionUnavailable:"Sambungan tidak tersedia",sessionExpired:"Sesi sudah luput",sessionError:"Sesi anda telah tamat. Sila tutup tetingkap ini dan mulakan perbualan baru untuk meneruskan.",sharkSessionExpired:"Sila muat semula halaman dan mulakan perbualan baru.",logoAltText:"Logo",windowRegionLabel:"Tetingkap sembang"},"id-ID":{error:"Kesalahan",couldNotConnect:"ups - tidak bisa tersambung",tryAgain:"Coba lagi",loadingOnMinimize:"Sedang memuat",loading:"Sedang memuat",unableToConnect:"Tidak bisa tersambung",reconnect:"Sedang mencoba menyambung ulang",chatEndedOnExternalWindow:"Tutup jendela untuk memulai obrolan baru",externalWindowOpen:"Anda masih memiliki obrolan aktif. Kembali ke jendela tersebut untuk melanjutkan obrolan.",unsupportedBrowserMode:"Peramban Anda mungkin dalam modus incognito (penyamaran), atau mungkin peramban Anda memblokir cookie pihak ketiga. Harap buka sesi peramban biasa untuk mengobrol, atau cek pengaturan privasi peramban Anda",cannotResumeChat:"Lanjutkan obrolan dari tab di mana interaksi dimulai",crossDomainError:"Tidak bisa melanjutkan percakapan, harap kembali ke halaman sebelumnya untuk melanjutkan.",chatAuthError:"Kembali ke halaman sebelumnya atau masuk untuk melanjutkan percakapan Anda.",confirmMessage:"Menutup percakapan berarti Anda tidak akan dapat melanjutkan sekalipun Anda kembali atau masuk. Anda yakin ingin melanjutkan?",startConversationError:"Harap segarkan halaman dan mulailah percakapan baru.",connectionUnavailable:"Koneksi tidak tersedia",sessionExpired:"Sesi telah berakhir",sessionError:"Sesi Anda telah berakhir. Harap tutup jendela ini dan mulailah percakapan baru untuk melanjutkan.",sharkSessionExpired:"Harap segarkan halaman dan mulailah percakapan baru.",logoAltText:"Logo",windowRegionLabel:"Jendela obrolan"},"Cy-sr-SP":{error:"Greka",couldNotConnect:"Ups - nismo uspeli da se poveemo",tryAgain:"Pokuaj ponovo",loadingOnMinimize:"Uitavanje",loading:"Uitavanje",unableToConnect:"Povezivanje nije uspelo",reconnect:"Pokuava se ponovno povezivanje",chatEndedOnExternalWindow:"Zatvorite prozor da biste zapoeli novo askanje",externalWindowOpen:"Ve je u toku drugo askanje. Vratite se u taj prozor da biste nastavili askanje.",unsupportedBrowserMode:"Va pregleda je moda u inkognito reimu ili blokira kolaie treih strana. Otvorite standardnu sesiju u pregledau da biste askali ili proverite postavke privatnosti pregledaa",cannotResumeChat:"Nastavite askanje sa kartice gde je interakcija poela",crossDomainError:"Nije mogue nastaviti razgovor, vratite se na prethodnu stranicu da biste nastavili.",chatAuthError:"Vratite se nazad na prethodnu stranicu ili se prijavite da nastavite razgovor.",confirmMessage:"Ako zatvorite razgovor neete moi da nastavite ak i ako se vratite nazad ili se prijavite. elite li zaista da nastavite?",startConversationError:"Osveite stranicu i zaponite nov razgovor.",connectionUnavailable:"Veza nije dostupna",sessionExpired:"Sesija je istekla",sessionError:"Vaa sesija je istekla. Da biste nastavili, zatvorite ovaj prozor i zaponite nov razgovor.",sharkSessionExpired:"Osveite stranicu i zaponite nov razgovor.",logoAltText:"Logotip",windowRegionLabel:"Prozor za askanje"},"vi-VN":{couldNotConnect:"I - khng th kt ni",tryAgain:"Th li",loadingOnMinimize:"ang ti",unableToConnect:"Khng th kt ni",reconnect:"C gng kt ni li",startConversationError:"Vui lng lm mi trang v bt u mt cuc hi thoi mi.",logoAltText:"Logo",windowRegionLabel:"Ca s tr chuyn"},"sv-SV":{error:"Fel",couldNotConnect:"Oj - det gr inte att ansluta",tryAgain:"Frsk igen",loadingOnMinimize:"Laddar",loading:"Laddar",unableToConnect:"Det gr inte att ansluta",reconnect:"Frsker att teransluta",chatEndedOnExternalWindow:"Stng fnstret fr att starta en ny chatt",externalWindowOpen:"Du har en pgende chatt. G tillbaka till det fnstret fr att fortstta chatten.",unsupportedBrowserMode:"Din webblsare kan vara i inkognitolge, eller den kan blockera cookies frn tredje part. ppna en vanlig webblsarsession fr att chatta, eller kontrollera din webblsares sekretessinstllningar",cannotResumeChat:"teruppta chatt frn fliken dr interaktionen brjade",crossDomainError:"Kan ej teruppta konversation, terg till fregende sida fr att fortstta.",chatAuthError:"G tillbaks till fregende sida eller logga in fr att fortstta din konversation.",confirmMessage:"Att stnga konversationen innebr att du inte kan fortstta ven om du gr tillbaks eller loggar in. r du sker du vill fortstta?",startConversationError:"Uppdatera sidan och starta en ny konversation.",connectionUnavailable:"Ingen anslutning tillgnglig",sessionExpired:"Session slut",sessionError:"Din session har gtt ut. Stng detta fnster och starta en ny konversation fr att teruppta.",sharkSessionExpired:"Uppdatera sidan och starta en ny konversation."},"hi-IN":{error:"",couldNotConnect:"  -    ",tryAgain:"  ",loadingOnMinimize:"   ",loading:"   ",unableToConnect:"   ",reconnect:"      ",chatEndedOnExternalWindow:"          ",externalWindowOpen:"                ",unsupportedBrowserMode:"   ( incognito)                                    ",cannotResumeChat:"           ",crossDomainError:"        ,          ",chatAuthError:"              ",confirmMessage:"                        ?",startConversationError:"         ",connectionUnavailable:" ",sessionExpired:"   ",sessionError:"                      ",sharkSessionExpired:"         ",logoAltText:"",windowRegionLabel:" "},"he-IL":{couldNotConnect:"   ",tryAgain:" ",loadingOnMinimize:"",unableToConnect:" ",reconnect:"  ",startConversationError:"     .",logoAltText:"",windowRegionLabel:" "},"pa-IN":{error:"",couldNotConnect:"-    ",tryAgain:"  ",loadingOnMinimize:"  ",loading:"  ",unableToConnect:"   ",reconnect:"      ",chatEndedOnExternalWindow:"       ",externalWindowOpen:"           ",unsupportedBrowserMode:"                   .                ",cannotResumeChat:"          ",crossDomainError:"    ,        .",chatAuthError:"             ",confirmMessage:"                            ?",startConversationError:"        .",connectionUnavailable:"   ",sessionExpired:"   ",sessionError:"     .              .",sharkSessionExpired:"        .",logoAltText:"",windowRegionLabel:" "},"ta-IN":{error:"",couldNotConnect:" -  ",tryAgain:" ",loadingOnMinimize:"",loading:"",unableToConnect:" ",reconnect:"  ",chatEndedOnExternalWindow:"    ",externalWindowOpen:"    .  ,   .",unsupportedBrowserMode:"    ,      .     ,      ",cannotResumeChat:"  -   ",crossDomainError:"  ,    .",chatAuthError:"       .",confirmMessage:" ,         .   ?",startConversationError:"    .",connectionUnavailable:" ",sessionExpired:" ",sessionError:"  .         .",sharkSessionExpired:"    .",logoAltText:"",windowRegionLabel:" "},"te-IN":{error:"",couldNotConnect:" -    ",tryAgain:" ",loadingOnMinimize:" ",loading:" ",unableToConnect:" ",reconnect:"   ",chatEndedOnExternalWindow:"     ",externalWindowOpen:"    .      .",unsupportedBrowserMode:"           . ,             ",cannotResumeChat:"      ",crossDomainError:"   ,       .",chatAuthError:"         .",confirmMessage:"  ,           .   ?",startConversationError:",       .",connectionUnavailable:"  ",sessionExpired:" ",sessionError:"   . ,        .",sharkSessionExpired:",       .",logoAltText:"",windowRegionLabel:" "},"bn-IN":{error:"",couldNotConnect:" -    ",tryAgain:"  ",loadingOnMinimize:" ",loading:" ",unableToConnect:"   ",reconnect:"     ",chatEndedOnExternalWindow:"      ",externalWindowOpen:"          ",unsupportedBrowserMode:"     ,                 ,       ",cannotResumeChat:"          ",crossDomainError:"     ,       ",chatAuthError:"          ",confirmMessage:"                          ?",startConversationError:"         ",connectionUnavailable:"  ",sessionExpired:"   ",sessionError:"                   ",sharkSessionExpired:"         ",logoAltText:"",windowRegionLabel:" "},"gu-IN":{error:"",couldNotConnect:" -   ",tryAgain:"  ",loadingOnMinimize:"   ",loading:"   ",unableToConnect:"  ",reconnect:"      ",chatEndedOnExternalWindow:"       ",externalWindowOpen:"    .         .",unsupportedBrowserMode:"      ,           .         ,      ",cannotResumeChat:"          ",crossDomainError:"     ,          .",chatAuthError:"             .",confirmMessage:"                     .       ?",startConversationError:"         .",connectionUnavailable:" ",sessionExpired:"  ",sessionError:"     .               .",sharkSessionExpired:"         .",logoAltText:"",windowRegionLabel:" "},"kn-IN":{error:"",couldNotConnect:" -  ",tryAgain:" ",loadingOnMinimize:" ",loading:" ",unableToConnect:" ",reconnect:" ",chatEndedOnExternalWindow:"    ",externalWindowOpen:"        .",unsupportedBrowserMode:"         .             ",cannotResumeChat:"     ",crossDomainError:" ,     .",chatAuthError:"         .",confirmMessage:"           .    ?",startConversationError:"       .",connectionUnavailable:" ",sessionExpired:"  ",sessionError:"   .         .",sharkSessionExpired:"       .",logoAltText:"",windowRegionLabel:" "},"ml-IN":{error:"",couldNotConnect:" -   ",tryAgain:" ",loadingOnMinimize:" ",loading:" ",unableToConnect:"  ",reconnect:"   ",chatEndedOnExternalWindow:"    ",externalWindowOpen:"         .",unsupportedBrowserMode:"    ,      .       ,      ",cannotResumeChat:"     ",crossDomainError:" ,    .",chatAuthError:"        .",confirmMessage:"          .   ?",startConversationError:"     .",connectionUnavailable:" ",sessionExpired:" ",sessionError:"  .        .",sharkSessionExpired:"     .",logoAltText:"",windowRegionLabel:" "},"mr-IN":{error:"",couldNotConnect:" -    ",tryAgain:"  ",loadingOnMinimize:"  ",loading:"  ",unableToConnect:"   ",reconnect:"     ",chatEndedOnExternalWindow:"      ",externalWindowOpen:"    .       .",unsupportedBrowserMode:"             .            ",cannotResumeChat:"         ",crossDomainError:"     ,       .",chatAuthError:"           .",confirmMessage:"               .      ?",startConversationError:"        .",connectionUnavailable:"  ",sessionExpired:"  ",sessionError:"    .              .",sharkSessionExpired:"        .",logoAltText:"",windowRegionLabel:" "},bho:{error:"",couldNotConnect:" -    ",tryAgain:"   ",loadingOnMinimize:"   ",loading:"   ",unableToConnect:"   ",reconnect:"      ",chatEndedOnExternalWindow:"       ",externalWindowOpen:"    .        .",unsupportedBrowserMode:"        ,           .          ,         ",cannotResumeChat:"         ",crossDomainError:"    ,        .",chatAuthError:"             .",confirmMessage:"                 .      ?",startConversationError:"        .",connectionUnavailable:"  ",sessionExpired:"     ",sessionError:"      .              .",sharkSessionExpired:"        .",logoAltText:"",windowRegionLabel:" "}},window.lpTag=window.lpTag||{},lpTag.taglets=lpTag.taglets||{},lpTag.unifiedWindow=lpTag.unifiedWindow||{},lpTag.unifiedWindow.DeviceDetector=lpTag.unifiedWindow.DeviceDetector||function(){var e,n,o,t,i,a=lpTag.unifiedWindow.log,r=lpTag.taglets.lpUtil,s=lpTag.device,l=navigator.userAgent,d=navigator.appName,c=navigator.appVersion,p=s.os(),u=s.family(),g=s.browser(),m=(function(){var e;if("function"==typeof s.osVersion&&(e=s.osVersion()))return e;k()?e=l.match(/Android (\d+)\.(\d+)(?:\.(\d+))?;+/i):_()&&(e=l.match(/OS (\d+)_(\d+)(?:_(\d+))?\s+/i));return e})(),f=(function(){if("function"==typeof s.browserVersion)return s.browserVersion();var e;if(C())if(S())e=11;else{var n=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");try{null!=n.exec(l)&&(e=parseFloat(RegExp.$1))}catch(e){a.error("_detectBrowserVersion: Could not detect IE version","DeviceDetector")}}else{var o;y()&&-1<(n=l.indexOf("Safari"))&&(o=l.substring(n+7),n=l.indexOf("Version"),-1<(n=(o=-1<(n=(o=-1<n?l.substring(n+8):o).indexOf(";"))?o.substring(0,n):o).indexOf(" "))&&(o=o.substring(0,n)),n=parseInt(""+o,10),isNaN(n)&&(n=parseInt(c,10)),e=n)}return e})(),w=(function(){var e=document.getElementsByName("viewport");if(0<e.length)for(var n=0;n<e.length;n++)if("device-width"===(function(e){for(var n,o=e.split(","),t={},i=0;i<o.length;i++)n=o[i].split("="),t[r.trimAndLower(n[0])]=r.trimAndLower(n[1]);return t})(e[n].content).width)return!0;return!1})(),v=(i=document.createElement("DIV"),(n=T(i,"AnimationName")).supported&&(e=!0),i);function h(){return u===s.familyEnum.mobile}function b(){return u===s.familyEnum.tablet}function _(){return p===s.osEnum.iOS}function k(){return p===s.osEnum.android}function E(){return g===s.browserEnum.chrome}function C(){return"Microsoft Internet Explorer"===d||S()}function S(){return l.match(/Trident.*rv[ :]*11\./)}function y(){return s.browser()===s.browserEnum.safari}function T(e,n){var o,t={Webkit:"-webkit-",Moz:"-moz-",O:"-o-",ms:"-ms-",Khtml:"-khtml-"},i=!1,a=n?n.substring(0,1).toLowerCase()+n.substr(1):"",r=a,s=n;if(a&&void 0!==e.style[a]&&(i=!0,o=""),!i)for(var l in t)if(n&&t.hasOwnProperty(l)&&void 0!==e.style[l+n]){r=(o=t[l])+a,s=l+n,i=!0;break}return{supported:i,preFix:i?o:"",propertyName:i?s:"",cssPropertyName:i?r:""}}function x(){if("function"==typeof s.osVersion){var e=s.osVersion();if(e)return isNaN(e)?e:Number(e)}return Number(m[1])}return(o=T(v,"Transition")).supported&&(t=!0),i=null,{isDesktop:function(){return u===s.familyEnum.desktop},isMobile:h,isTablet:b,isMobileOptimized:function(){return w},isAnimationSupported:function(){return e},getAnimationData:function(){return n},isTransitionSupported:function(){return t},isAudioSupported:function(){var n=!0;try{new Audio}catch(e){n=!1}return n},getTransitionData:function(){return o},isAndroid:k,isIPad:function(){return b()&&_()||/ iPad/i.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&"ontouchend"in document},isNativeAndroid:function(){return k()&&!E()},isIOS:_,isWindows:function(){return p===s.osEnum.windows},isMacOS:function(){return p===s.osEnum.mac},getDeviceFamilyName:function(){return s.familyName()},osVersion:function(){return m},browserVersion:function(){return f},isIOS6:function(){if(_())return x()<=6||!1},isIOS7:function(){if(_())return x()<=7||!1},isIOS13:function(){if(_())return 13===x()||!1},isIOS15:function(){var e;if(_())return e=(e=l.match(/Version\/(.+?)\s/))&&0<e.length?e[1]:null,15<=parseInt(e,10)},isOldIOS15:function(){var e;if(_())return e=(e=l.match(/Version\/(.+?)\s/))&&0<e.length?e[1]:null,15===parseFloat(e,10)||15.1===parseFloat(e,10)},isIOS8OrAbove:function(){if(_())return 8<=x()||!1},isIE:C,canAttemptSMSClientLaunch:function(){return h()&&!b()&&!C()},isEdge:function(){return g===s.browserEnum.edge},isSafari:y,isAndroidChrome:function(){return k()&&E()},isIpadChrome:function(){return g===s.browserEnum.chromeios&&b()&&_()}}},window.lpTag=window.lpTag||{},lpTag.unifiedWindow=lpTag.unifiedWindow||{},lpTag.unifiedWindow.Events=lpTag.unifiedWindow.Events||function(e){var s,l,d;function n(e,n,o){s(e,n,o);var t,i,a=e;if(d=d||l.getPropertyFromObject(lpTag,"unifiedWindow.publicEvents"),n=(a="object"==typeof a?a:null)&&d&&d[a.appName]&&d[a.appName][a.eventName],lpTag.events&&a&&(a.global||n)&&(a.global&&(a.passDataByRef=!1,a.aSync=!0,lpTag.events.trigger(a)),n)){t=Array.isArray(n)?n:[n];for(var r=0;r<t.length;r++)i=(function(e,n){n=l.clone(n);return n.passDataByRef=!1,n.aSync=!0,n.data=(function(e,n){var o={};if("object"==typeof n)for(var t in n)o[t]=l.getPropertyFromObject(e,n[t]);else o=l.getPropertyFromObject(e,n);return o})(e,n.data),n})(a,t[r]),lpTag.events.trigger(i)}}return e=new lpTag.Events(e),s=e.trigger,e.trigger=n,l=lpTag.taglets.lpUtil,e},window.lpTag=window.lpTag||{},lpTag.unifiedWindow.language=lpTag.unifiedWindow.language||new(function(){var t,o={},i={},a=window.lpTag.unifiedWindow.log,r=lpTag.taglets.lpUtil,s="en-US",n={"he-IL":!0,"ar-AE":!0};return{getString:function(e){var n=(function(e){var n,o;if(i&&i.translationOverrides)try{i.translationOverrides.hasOwnProperty(t)&&(o=i.translationOverrides[t])&&o.hasOwnProperty(e)&&(n=o[e])}catch(e){n=void 0,((a=a||window.lpTag.unifiedWindow.log)&&a.error?a:window.console).error("Language ERROR : "+e.message)}return n})(e);return n&&"string"==typeof n||"string"==typeof(n=o[t]&&o[t][e])?n:(n=e,((e=lpTag.unifiedWindow.defaultDictionary)[t]&&e[t][n]?e[t]:e)[n]||"")},getLocaleConfig:function(){var e,n=t||s;if(n)return(
e=lpTag.unifiedWindow.defaultDictionary)&&e[n]&&e[n].__config__},isRTL:function(e){return!0===n[e]},add:function(e,n){"object"==typeof e&&e&&(o[(n=n||{}).locale]=o[n.locale]||{},r.cloneExtend(e,o[n.locale]),n.locale===s)&&r.cloneExtend(e,lpTag.unifiedWindow.defaultDictionary)},setLocale:function(e){t=e||s},getLocale:function(){return t},setConfig:function(e){i=e}}}),lpTag.unifiedWindow.addLanguage=function(e,n){lpTag.unifiedWindow.language.add(e,n)},window.lpTag=window.lpTag||{},lpTag.taglets=lpTag.taglets||{},lpTag.unifiedWindow=lpTag.unifiedWindow||{},lpTag.unifiedWindow.log=lpTag.unifiedWindow.log||(function(){var i,t="UnifiedWindowLogger",a={ERROR:1,INFO:2,DEBUG:3},r=["lp_SMT","lp_monitoringSDK","LP_OFFER"],s=a.ERROR,l={isEnabled:!1},d={level:0},c="",p=[],n={APP_STARTED:"appStarted",APP_ENDED:"appEnded"},u=!1;function g(e,n){o(e,"ERROR",n||t)}function m(e){a[e]&&(s=a[e])}function f(){var e,n,o;0<d.level&&d.queueSubmissionIntervalMilliseconds&&!isNaN(d.queueSubmissionIntervalMilliseconds)&&(e=this,0<(n=p.splice(0,d.queueSubmissionMaximum||p.length)).length?((o=new XMLHttpRequest).open("POST",c,!0),o.setRequestHeader("Content-Type","application/json"),o.onreadystatechange=function(){4===o.readyState&&(200!==o.status&&(p=p.concat(n),g("There was an error sending logs to Loggos: "+o.statusText,t)),setTimeout(function(){f.call(e)},d.queueSubmissionIntervalMilliseconds))},o.send(JSON.stringify(n))):setTimeout(function(){f.call(e)},d.queueSubmissionIntervalMilliseconds))}function o(e,n,o){window.lpTag&&lpTag.log&&e&&lpTag.log(e,n,o||t)}return{init:function(e){i=lpTag.taglets.lpUtil,d=i.cloneExtend(e.loggosLogging||{},d,!0),c="https://"+lpTag.csds.getDomain("loggos")+"/api/loggos/log/";var n=i.getURLParams(window.location.search),o=n.lpDebug;o?(l.isEnabled=!0,"2"===o&&"true"===n.debugLevel?m("DEBUG"):m(Object.keys(a).reduce(function(e,n){return e=a[n]===+o?n:e},s))):e.debug?(l.isEnabled=!0,m("INFO")):(l.isEnabled=!0,m("ERROR")),window.lpTaglogListeners=window.lpTaglogListeners||[],l.isEnabled&&window.lpTaglogListeners.push(function(e,n,o){var t;window.console&&n&&a[n]<=s&&-1===i.indexOf(r,o)&&console.log((t=new Date).getHours()+":"+(t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes())+":"+(t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds())+" "+o+" : "+e+" LEVEL: "+n)}),0<d.level&&(d.inSample=!d.samplingPercentage||1e3*d.samplingPercentage>(new Date).getMilliseconds(),d.inSample)&&(window.lpTaglogListeners.push(function(e,n,o){var t;n&&a[n]<=d.level&&u&&-1===i.indexOf(r,o)&&(t=n,t={accountId:lpTag.site,appVersion:lpTag.taglets.lpUnifiedWindow.v,context:"webMessaging",immediate:!0,logLevel:n,msg:n+" : "+o+" : "+e,time:(new Date).toISOString(),trace:!1,url:window.location.href},p.push(t))}),f())},error:g,info:function(e,n){o(e,"INFO",n||t)},debug:function(e,n){o(e,"DEBUG",n||t)},setLogLevel:m,logLevels:a,events:n,triggerEvent:function(e){switch(e){case n.APP_STARTED:u=!0;break;case n.APP_ENDED:u=!1}},loggosLogging:d,loggosLogQueue:p}})(),window.lpTag=window.lpTag||{},lpTag.unifiedWindow=lpTag.unifiedWindow||{},lpTag.unifiedWindow.PKCEManager=lpTag.unifiedWindow.PKCEManager||function(){var r,s,l=lpTag.unifiedWindow.log,d="PKCEManager",a=64,c="pkceData";function e(e,n){var o=lpTag.unifiedWindow.apps.AUTHENTICATION;window.lpTag.taglets.lpSecureStorage.getValue({key:c,site:lpTag&&lpTag.site,app:o,appName:o,domain:p(s),success:e,error:n,firstParty:!0})}function t(e,n,o,t){var i=lpTag.unifiedWindow.apps.AUTHENTICATION,a=r&&r.conf&&r.conf.unifiedConf&&r.conf.unifiedConf.pkceTtl,a=parseInt(a,10)||12e4;window.lpTag.taglets.lpSecureStorage.setValue({key:c,site:lpTag&&lpTag.site,app:i,appName:i,domain:p(s),success:function(){"function"==typeof o&&o()},error:function(e){l.error("Error when setting PKCE code_verifier - "+e,d),"function"==typeof t&&t()},value:{engConfig:n,code_verifier:e.code_verifier},ttl:a,firstParty:!0})}function i(i){var n,e;n=function(t){t?window.lpTag.pkce.importJWK(t,"RSA-OAEP").then(function(o){window.lpTag.pkce.getPkce(a,function(e,n){e?(l.error("PKCE: generatePKCE: PKCE creation failed "+(e&&e.message),d),i(null)):(l.info("PKCE: generatePKCE: PKCE successfully generated",d),e=JSON.stringify({code_verifier:n.verifier}),e=(new TextEncoder).encode(e),new lpTag.pkce.CompactEncrypt(e).setProtectedHeader({alg:"RSA-OAEP",enc:"A256GCM",kid:t.kid}).encrypt(o).then(function(e){e={code_challenge:n.challenge,code_verifier:e,code_challenge_method:"S256"};l.info("PKCE: JWE created successfully "+JSON.stringify(e),d),i&&i(e)},function(e){var n="";e&&(n=JSON.stringify(e)),l.error("PKCE: JWE creation failed "+n,d),i(null)}))})},function(e){var n="";e&&(n=JSON.stringify(e)),l.error("PKCE: Key import failed "+n,d),i(null)}):(l.error("PKCE: generatePKCE: No key returned from IDP / Server error",d),i(null))},(e=lpTag&&lpTag.csds&&lpTag.csds.getDomain("idp"))?lpTag.taglets.fetch.issueCall({url:"https://"+e+"/well-known/jwks",method:"GET",success:function(e){e=e&&e.body,e=e&&e.keys||[];e.length&&n(e[0])},error:function(){l.error("PKCE: _getIDPPublicKey: Failed to get keys from IDP",d),n(null)}}):(l.error("PKCE: _getIDPPublicKey: CSDS does not have IDP domain",d),n(null))}function p(e){var n=window.lpTag.taglets.lpSecureStorage.v;return"https://"+e+"/le_secure_storage/"+(n||"")}return{init:function(){s=lpTag&&lpTag.csds&&lpTag.csds.getDomain("leCdnDomain")},setAppContext:function(e){r=e},getPKCEFromSecureStorage:e,setPKCEToSecureStorage:t,removePKCEFromSecureStorage:function(e,n){var o=lpTag.unifiedWindow.apps.AUTHENTICATION;window.lpTag.taglets.lpSecureStorage.removeValue({key:c,site:lpTag&&lpTag.site,app:o,appName:o,domain:p(s),success:function(){"function"==typeof e&&e()},error:function(){"function"==typeof n&&n()},firstParty:!0})},runPKCE:function(n,o){e(function(e){(e=!e&&r.conf.unifiedConf.external?localStorage.getItem("cv"):e)?(l.debug("Successfully retrieved PKCE value from secure storage"),o()):i(function(e){e?(n.code_challenge=e.code_challenge,r.conf.unifiedConf.external&&localStorage.setItem("cv",e.code_verifier),t(e,r.conf.engConf,function(){o()},function(){o()})):o()})},function(){l.error("getPKCEFromSecureStorage: PKCE not available in secure storage",d),o()})},generatePKCE:i,getExternalWindowURLForPKCE:function(e){var n=(e=r?r:e).conf.engConf,o=e.conf.unifiedConf,n=e.appConfigurationManager.getExternalResourceURL(n,o,!1,!0),o=encodeURIComponent(n),e=e.appConfigurationManager.getQueryString(n);return new window.URLSearchParams(e).get("redirect_uri")+"?originalURL="+o}}},window.lpTag=window.lpTag||{},lpTag.unifiedWindow=lpTag.unifiedWindow||{},lpTag.unifiedWindow.SessionManager=lpTag.unifiedWindow.SessionManager||function(e){var i,a,n,o,t,r,s,l,d,c,p,u,g,m="SessionManager",f="SessionState",w=lpTag.taglets.lpUtil,v=lpTag.unifiedWindow.log,h=lpTag.taglets.lpSecureStorage,b=!1,_=lpTag.unifiedWindow.apps.UNIFIED_WINDOW,k="STORAGE_SELECTED";function E(e,n){v.info("getSessionId - Current session: "+(p?p.sessionKey:"no session"),m),h.getValues({keys:a,site:r,app:_,success:function(e,n,o){var t;(o=(function(e){var n,o,t;if(e&&"object"==typeof e){for(var i=0;i<a.length;i++)if(o=a[i],t=A(r+o),e[o]||t){n=e[o]||t;break}}else n=e;return{session:n,sessionKey:o}})(o)).session&&(p=i[o.sessionKey],t=o.session.timestamp||"null",s=s||o.session.sid);o.session||c?(function(e,n,o,t){u=u||(function(e){return g||e&&e.sessionTimeout&&parseInt(e.sessionTimeout,10)||p.sessionTimeout})(e);s&&"null"!==s||(s=w.getUID());l?w.runCallback(o,null,s):(e={sid:s,timestamp:n||"null",sessionTimeout:u||"null"},x()&&window.localStorage.setItem(r+p.sessionKey,JSON.stringify(e)),h.setValue({key:p.sessionKey,site:r,app:_,value:e,ttl:1e3*p.sessionTimeout,success:function(){w.runCallback(o,null,s),w.runCallback(t)},error:function(e){v.error("_setSession - setValue - ERROR: "+e,m)},appName:f,domain:d,firstParty:!0}))})(o.session,t,e,n):(w.runCallback(e,null),w.runCallback(n))}.bind(this,e,n),error:function(e){v.error("getSessionId - ERROR: "+e,m),t.trigger({appName:lpTag.taglets.lpUnifiedWindow.name,eventName:k,global:!0})},appName:f,domain:d,firstParty:!0})}function C(e){c=i[e],p=c&&i[c.sessionKey]}function S(e){e.chatTimeout&&(v.info("_updateChatTimeout : echoed chatTimeout = "+e.chatTimeout,m),u=e.chatTimeout)}function y(){var e;v.info("_refreshSession : disposed = "+b,m),n&&clearTimeout(n),b||l||(e=(new Date).getTime(),v.info("Refresh Session: timestamp = "+e,m),h.touchValue({key:p.sessionKey,site:r,ttl:1e3*p.sessionTimeout,success:function(){n=setTimeout(y,o)},error:function(e){v.error("_refreshSession - touchValue - ERROR: "+e,m),b=!0},app:_,appName:f,domain:d,firstParty:!0}))}function T(){}function x(){var e=window.lpTag.device,n=e&&e.os&&e.os(),e=e&&e.browser&&e.browser();return 3===n&&2===e}function A(e){var n;if(x())try{n=(n=window.localStorage.getItem(e))&&JSON.parse(n)}catch(e){v.error("Error parsing session from local storage",m)}return n}return"object"==typeof(e=e)&&e.accountId&&e.secureStorageLocation&&"string"==typeof e.accountId?(r=e.accountId,s=e.sessionId,t=e.events,l=e.external,d=e.secureStorageLocation,o=e.sessionRefreshTimeout||5e3,g=e.echoedSessionTimeout,i=e.sessions,a=e.sessionsPriority,C(e.clickedSession)):v.error("init: no conf was provided",m),t.bind({appName:"ChatStateManager",eventName:"startChatInfo",func:S}),{dispose:function(e){clearTimeout(n),t.unbind({appName:"ChatStateManager",eventName:"startChatInfo",func:S}),(b=!(s=null))===e||l||(x()&&window.localStorage.removeItem(r+p.sessionKey),h.removeValue({key:p.sessionKey,site:r,app:_,appName:f,success:T,error:T,domain:d,firstParty:!0}))},refresh:function(e){l?w.runCallback(e):(b=!1,E(y,e))},getCurrentSessionKey:function(){return p.sessionKey},setClickedSession:C,getSessionId:E,getSessionTime:function(n){var o,t=A(r+p.sessionKey);h.getValue({key:p.sessionKey,site:r,app:_,success:function(e){e?o=e.timestamp:t&&(o=t.timestamp),w.runCallback(n,null,o)},error:function(e){v.error("getSessionTime - ERROR: "+e,m)},appName:f,domain:d,firstParty:!0})},getSession:function(n){var o=A(r+p.sessionKey);h.getValue({key:p.sessionKey,app:_,site:r,success:function(e){(e||o)&&w.runCallback(n,null,e||o)},error:function(e){v.error("getSession - ERROR: "+e,m)},appName:f,domain:d,firstParty:!0})},getSessionTimeout:function(){return u}}},window.lpTag=window.lpTag||{},window.lpTag.unifiedWindow=window.lpTag.unifiedWindow||{},lpTag.unifiedWindow.settingsIDs=lpTag.unifiedWindow.settingsIDs||{FILE_SHARING_ENALBED:"messaging.file.sharing.enabled",BLUR_THUMBNAILS:"messaging.file.sharing.blurThumbnails",FILE_SHARING_IMAGE_RESIZE_SIZE:"messaging.agent.photo.size",BLOCK_CONSUMER:"unauth.messaging.block.consumer.history",EXTERNAL_FALLBACK:"unified.window.fallback.to.external",COBROWSE_CONTROLLER_BOT_PREFERRED_FOR_SYSTEM_MESSAGES:"le.site.cobrowse.controllerBotPreferredForSystemMessages",HISTORY_LAZYLOAD:"le.campaign.window.history.lazyload",UMS_CONNECTION_TIMEOUT:"le.window.ums.connection.timeout.enabled",OTK_RETRIES:"le.site.otk.number.of.uses",OTK_DURATION:"le.site.otk.duration",CONTACT_INFO:"le.site.account.contactInfo",BLOCK_SC_WHEN_NOT_LAST_MSG:"messaging.web.blockSCWhenNotLastMsgDefault",BLOCK_TEXT_INPUT:"messaging.web.blockTextInputDefault"},window.lpTag=window.lpTag||{},lpTag.taglets=lpTag.taglets||{},lpTag.unifiedWindow=lpTag.unifiedWindow||{},lpTag.unifiedWindow.StateAnalyzer=lpTag.unifiedWindow.StateAnalyzer||function(e,n){var i,a,r,s,l,d="StateAnalyzer",c=lpTag.unifiedWindow.log,p=lpTag.taglets.lpUtil,u=lpTag.taglets.lpSecureStorage,g={NOT_STARTED:0,IN_SESSION:1,INVALID:2,EXPIRED:3},m=lpTag.unifiedWindow.apps.UNIFIED_WINDOW;return"object"==typeof(e=e)&&n&&e.storageKey&&e.accountId&&e.secureStorageLocation?(i=n,a=e.storageKey,r=e.accountId,l=!!e.disableSessionTimeout||!1,s=e.secureStorageLocation):c.error("init: no conf was provided",d),{getState:function(e,n){var o,t;c.info("getState",d),u.getValue({key:a,site:r,app:m,success:(t=e,function(e){c.info("_success: data = "+JSON.stringify(e),d),(function(e){var n=(new Date).getTime(),o=1e3*i.getSessionTimeout();i.getSessionTime(function(e,n,o,t,i){t=void 0===i||"null"===i?g.NOT_STARTED:l||n-i<=o?g.IN_SESSION:g.EXPIRED;c.info("_getSessionState: now="+n+" sessionTime="+i+" sessionTimeout="+o+" sessionState="+t,d),e(t)}.bind(this,e,n,o,null))})(function(e,n,o,t){n&&t===g.EXPIRED?o=g.EXPIRED:n&&(function(e){for(var n in e)if(e.hasOwnProperty(n))return 1;return})(n)?o=g.IN_SESSION:t===g.IN_SESSION&&(o=g.INVALID);c.info("_success: data = "+JSON.stringify(n)+" analyzerState="+o,d),p.runCallback(e,null,n,o)}.bind(this,t,e,g.NOT_STARTED))}),error:(o=n,function(e){c.info("_error: data = "+JSON.stringify(e),d),p.runCallback(o,null,e,g.NOT_STARTED)}),appName:"UIState",domain:s,firstParty:!0})},state:p.clone(g)}},window.lpTag=window.lpTag||{},lpTag.unifiedWindow=lpTag.unifiedWindow||{},lpTag.unifiedWindow.WindowConfigurationManager=lpTag.unifiedWindow.WindowConfigurationManager||function(e){var a,n,r,o,s,l,d,c,p,u="WindowConfigurationManager",t="UIConf",g=lpTag.unifiedWindow.log,m=lpTag.taglets.lpUtil,i=lpTag.taglets.lpSecureStorage,f=lpTag.unifiedWindow.apps.UNIFIED_WINDOW;function w(e){g.info("_setConf",u),i.setValue({key:o,site:a,app:f,value:{conf:e,windowId:s},success:v,error:v,appName:t,domain:n,expires:108e5,firstParty:!0})}function v(e){g.info("_setCallback: data="+JSON.stringify(e),u)}function h(n){return function(e){n&&(e?(l=e.conf,s=e.windowId,m.runCallback(n,null,l)):(function n(o){g.info("_getConfiguration",u);var t=d.enableToRequestDefaultWinConfig;var e="/"+s;var i=c?lpTag.taglets.fetch:lpTag.taglets.jsonp;!s&&t&&(e="-default");if(!s&&!t)return g.error("_getConfiguration: No windowId provided, fallback to default configuration",u),void m.runCallback(o,null,{});e="https://"+r+"/api/account/"+a+"/configuration/engagement-window/window-confs"+e;i.issueCall({url:e,timeout:5e3,retries:0,credentials:c?"omit":void 0,cache:c&&p?p:void 0,success:function(e){var n,e=c?e&&e.body:e;if(!s&&t){if(!e||!e.length)return void b(o);e=(0<(n=e.filter(function(e){return!!e.isUserDefault})).length?n:e)[0]}e&&e.json&&!e.error?(g.info("_getConfiguration - got configuration: "+JSON.stringify(e.json),u),l=e.json,m.runCallback(o,null,l),w(l)):b(o)},error:function(e){g.error("_getConfiguration - error getting config from server",u),(e&&e.cspOrNetworkError?(c=!1,n):b)(o)}})})(n))}}function b(e){g.info("_getConfiguration - ERROR FROM SERVER",u),m.runCallback(e)}function _(){}return"object"==typeof(e=e)&&e.storageKey&&e.accountId&&e.secureStorageLocation&&e.domain?(a=e.accountId,n=e.secureStorageLocation,r=e.domain,s=e.windowId,o=e.storageKey+t,d=e.initialConf||{},c=void 0!==d.isFetchEnabled&&JSON.parse(d.isFetchEnabled),p=d.fetchCacheMode):g.error("init: no configuration given",u),{getConf:function(e){g.info("getConf",u),l?m.runCallback(e,null,l):i.getValue({key:o,site:a,app:f,success:h(e),error:h(e),appName:t,domain:n,firstParty:!0})},clear:function(){i.removeValue({key:o,site:a,app:f,appName:t,success:_,error:_,domain:n,firstParty:!0})}}},window.lpTag=window.lpTag||{},lpTag.unifiedWindow=lpTag.unifiedWindow||{},lpTag.unifiedWindow.WrapperWindow=lpTag.unifiedWindow.WrapperWindow||function(j,W,D,n,P){var r,s,U,l,d,i,c,p,u,g,m,V,f,w,v,B,F,K,H,G,h,q,b,J,X,_="WrapperWindow",e=lpTag.unifiedWindow,k={STYLE_TAG_ID:"lpChatStyle",EMBEDDED_STYLE_TAG_ID:"lpStyle",WRAPPER_DIV_ID:"lpChat",WRAPPER_CLASS_NAME:"lp-window-root",WRAPPER_DIV_CSS_CLASS_PREFIX:"lp_",MOBILE_CSS_CLASS:"mobile",TABLET_CSS_CLASS:"tablet",DESKTOP_CSS_CLASS:"desktop",DEVICE_CLASS:"lpdv",ANDROID_CSS_CLASS:"android",IOS_CSS_CLASS:"ios",IOS6_CSS_CLASS:"ios6",IOS8_OR_ABOVE_CSS_CLASS:"ios8_or_above",MAC_OSX_CSS_CLASS:"mac_osx",NATIVE_CSS_CLASS:"native_android",EXTERNAL_CSS_CLASS:"lp_external-window",HIDE_TOP_BAR_CSS_CLASS:"lp_no-top",WEBVIEW_CSS_CLASS:"lp_webview-window",PORTRAIT_CSS_CLASS:"portrait",LANDSCAPE_CSS_CLASS:"landscape",MINIMIZED_VIEW_IFRAME_RENDERING:!1,MAXIMIZED_VIEW_IFRAME_RENDERING:!1,MINIMUM_INNER_WIDTH:372,WAIT_INDICATION_DELAY:250,LARGE:"lp_maximized_large",HARMONY:"lp_maximized_harmony",FLOATING:"lp_floating",MINIMIZED_LARGE:"lp_minimized_large"},E=e.language,C=lpTag.taglets.lpUtil,S=e.log,Y=!1,y=!1,T={isMaximized:!0},o=(e=j,r=W,s=D,X=P,E.setConfig(e),e),j=void 0;if("object"==typeof o)for(var Z in o)T[Z]=o[Z];else T[o]=j;function $(e){var n,o,t;e?(L()||(e.floating&&m.classList.add(k.FLOATING),(o=e.position)&&r.isDesktop()&&0<=o.right&&(t=o.right>document.body.clientWidth?document.body.clientWidth-280:o.right,g.style.right=t+"px",m.style.right=t+"px"),S.debug("_setWindowPosition: offset="+o.right,_),t=e.size,S.info("_setWindowSize"),t=t?t.toUpperCase():"SMALL",k[t]&&(m.classList.add(k[t]),"LARGE"==t)&&g.classList.add(k.MINIMIZED_LARGE)),a(e.maximized),o=e.embedded,e=T.external,n=T.poppedOut,o||e||n||(g.style.display="none",m.style.display="none")):a(T.isMaximized)}function a(e){e?(S.debug("maximizing",_),g.style.display="none",m.style.display="block"):(S.debug("minimizing",_),g.style.display="block",m.style.display="none")}function x(e,n){pe(),n&&te();var o,t,i,a,n=l[e];n&&n!==d&&(e!==c.CONFIRMATION&&(U=e),z(n.error&&!T.connectorsSfConfig),r.isDesktop()&&v.focus(),n.title?A(n.title):n.text&&A(n.text),o=n,e=e,a=(t=lpTag.HtmlSanitizerUtils&&lpTag.HtmlSanitizerUtils.sanitizeHtml)?t(o.text).cleanText:ue(o.text),i=t?t(o.imgUrl).cleanText:ue(o.imgUrl),t=t?t(o.imgAltText).cleanText:ue(o.imgAltText),Q(),ae(),S.info("setting message to: "+e,_),e=(e=(e=(e=(e=(e=R(e=e===c.WAIT?'<div class="lp_message" data-lp-point="message"><div class="lp_skeleton-window-body"><div class="lp_skeleton-header"><div class="lp_skeleton-box"></div></div><div class="lp_skeleton-message lp_skeleton-agent"><div class="lp_skeleton-box"></div></div><div class="lp_skeleton-message lp_skeleton-visitor"><div class="lp_skeleton-box"></div></div><div class="lp_skeleton-input"><div class="lp_skeleton-box"></div></div></div></div>':'<div class="lp_message" data-lp-point="message" aria-labelledby="lp_alert_message"><table class="lp_centralizer"><tbody><tr><td><img src="{{imagesRepository}}/{{imageUrl}}"><div id="lp_alert_message" class="lp_text">{{text}}</div><div class="lp_buttons_area lp_hidden"><button class="lp_cancel_button" data-lp-point="cancel_button" data-lp-cust-id="cancel_button">{{cancel}}</button> <button class="lp_confirm_button" data-lp-point="confirm_button" data-lp-cust-id="button">{{confirm}}</button></div></td></tr></tbody></table></div>')).replace("{{text}}",a)).replace("{{imageUrl}}",i)).replace("{{loading}}",t||"")).replace("{{cancel}}",E.getString("closeWindowCancelBtn"))).replace("{{confirm}}",E.getString("closeWindowOkBtn")),o.showConfirm&&(e=e.replace("lp_hidden","")),o.needConfirmation&&(C.unregisterEvent(v,"click",O),C.registerEvent(v,"click",N)),o.deleteSession&&(C.unregisterEvent(v,"click",O),C.registerEvent(v,"click",I)),w.innerHTML+=e,(a=o.showConfirm)&&(a=m.querySelector(['[data-lp-point="cancel_button"]']),i=m.querySelector(['[data-lp-point="confirm_button"]']),C.registerEvent(a,"click",se),C.registerEvent(i,"click",I)),setTimeout(function(){w.firstChild.setAttribute("role","alert")},0),d=n)}function A(e,n){if(i!==e){S.info('setting title to: "'+e+'"',_);var o=p.querySelectorAll('[data-lp-point="headerText"]');n=n||e;for(var t=0;t<o.length;t++)o[t].innerHTML=lpTag.HtmlSanitizerUtils?lpTag.HtmlSanitizerUtils.sanitizeHtml(n).cleanText:n;i=e}}function Q(){t()&&(S.info("showing",_),p.style.display="block")}function z(e){e?C.removeClass(v,"lp_hidden"):C.addClass(v,"lp_hidden")}function ee(e){e?C.removeClass(h,"lp_hidden"):C.addClass(h,"lp_hidden")}function ne(e){C[e?"removeClass":"addClass"](q,"lp_hidden")}function O(){y||(S.info("disposing",_),S.info("unbinding dom events",_),ie(),s.off(s.EVENT_NAME.ORIENTATION_CHANGE,M),i=d=null,oe(!1),u.remove?u.remove():document.body.removeChild(u),y=!0,C.runCallback(X))}function oe(e){Y=e}function t(){return!0===Y}function te(){S.info("_maximize",_),a(!0)}function ie(){var e=m.querySelector(['[data-lp-point="confirm_button"]']),n=m.querySelector(['[data-lp-point="cancel_button"]']);C.unregisterEvent(g,"click",te),C.unregisterEvent(v,"click",O),n&&C.unregisterEvent(n,"click",se),e&&C.unregisterEvent(e,"click",O)}function ae(e){pe(),S.info("removing current message",_);var n=w.querySelector('[data-lp-point="message"]');n&&(n.remove?n.remove():w.removeChild(n),e||A(""),C.removeClass(w,"lp_centered"))}function re(){return T.iconsRepository}function N(){x(c.CONFIRMATION),C.unregisterEvent(v,"click",N),C.registerEvent(v,"click",I)}function I(){n.trigger({appName:"*",eventName:"knockout"})}function se(){C.unregisterEvent(v,"click",N),C.registerEvent(v,"click",O),x(U)}function R(e){return e=(e=e.replace(/\{\{iconsRepository\}\}/g,re())).replace(/\{\{imagesRepository\}\}/g,T.imagesRepository)}function le(e){e&&E.setLocale(e),l={CONNECTION_UNAVAILABLE:{title:E.getString("couldNotConnect"),imgUrl:"connect-error-dark.png",text:E.getString("connectionUnavailable"),error:!0},RIP:{title:E.getString("error"),imgUrl:"connect-error-dark.png",text:E.getString("chatEndedOnExternalWindow"),error:!0},EXTERNAL_OPEN:{title:E.getString("error"),imgUrl:"connect-error-dark.png",text:E.getString("externalWindowOpen"),error:!0},UNSUPPORTED:{title:E.getString("error"),imgUrl:"connect-error-dark.png",text:E.getString("unsupportedBrowserMode"),error:!0},IN_SESSION:{title:E.getString("error"),imgUrl:"connect-error-dark.png",text:E.getString("cannotResumeChat"),error:!0},AUTH_ERROR:{title:E.getString("error"),imgUrl:"thank-you-dark.png",text:E.getString("chatAuthError"),error:!0,needConfirmation:!1,deleteSession:!0},CONFIRMATION:{title:E.getString("error"),imgUrl:"thank-you-dark.png",text:E.getString("confirmMessage"),error:!0,showConfirm:!0},FAILED_START_CONVERSATION_ERROR:{title:E.getString("error"),imgUrl:"connect-error-dark.png",text:E.getString("startConversationError"),error:!0},SESSION_EXPIRED:{title:E.getString("sessionExpired"),imgUrl:"embedded-error.png",text:E.getString("sessionError"),error:!0},WAIT:{title:E.getString("loading"),imgUrl:"loader_on_warmGray5_75.gif",imgAltText:E.getString("loading")},PKCE_START:{title:E.getString("pkceAuthTitle"),imgUrl:"loader_on_warmGray5_75.gif",text:E.getString("pkceAuthStarted")}},c=C.objectKeys(l)}function de(){var e=E.getString("minimizedChatWindowLabel");document.querySelector('[data-lp-point="maximized"]').setAttribute("aria-label",E.getString("windowRegionLabel")),document.querySelector('[data-lp-point="minimized"]').setAttribute("aria-label",e),document.querySelector('[data-lp-point="header"]').setAttribute("aria-label",E.getString("headerRegionLabel")),document.querySelector('[title="{{tooltip_open_widgets}}"]').title=E.getString("tooltip_open_widgets"),n.unbind({appName:"*",eventName:"translatorReady",func:de})}function L(){return T.poppedOut||T.external}function ce(e){var n=document.createElement("iframe");return e.appendChild(n),n.contentWindow.document}function pe(){clearTimeout(J)}function M(e){var n=k.WRAPPER_DIV_CSS_CLASS_PREFIX;e.landscape?(C.removeClass(u,n+k.PORTRAIT_CSS_CLASS),C.addClass(u,n+k.LANDSCAPE_CSS_CLASS)):(C.removeClass(u,n+k.LANDSCAPE_CSS_CLASS),C.addClass(u,n+k.PORTRAIT_CSS_CLASS))}function ue(e){return e?e.replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;").replace(/&/g,"&amp;"):""}return le(),n.bind({appName:"*",eventName:"translatorReady",func:de}),{render:function(i,a){y=!1,t()?C.runCallback(a):C.waitForBody(function(){var e=i,n=(S.info("rendering",_),e&&e.window),o=e&&e.engConf&&e.engConf.lang,e=e&&e.engConf&&e.engConf.site||lpTag.site,t=(o&&le(o),y=!1,window.outerWidth<window.innerWidth&&window.outerWidth<k.MINIMUM_INNER_WIDTH&&window.resizeTo(k.MINIMUM_INNER_WIDTH,window.outerHeight),e),t=(p=document.createElement("div"),k.WRAPPER_DIV_ID&&(p.id=k.WRAPPER_DIV_ID,C.addClass(p,k.WRAPPER_CLASS_NAME),C.addClass(p,t)),p.setAttribute("role","region"),p.setAttribute("aria-label",E.getString("windowRegionLabel")),(u=document.createElement("div")).appendChild(p),document.body.appendChild(u),'<div class="lp_minimized lpc_window lpc_window_minimized {{deviceClass}}" data-lp-point="minimized" data-lp-cust-id="minimized" role="region"><div class="lp_main" data-lp-point="main"><div class="lp_header lpc_minimized-header {{deviceClass}}" data-lp-point="header" data-lp-cust-id="top"><div class="lp_notification_number lpc_minimized-header__notification-counter {{deviceClass}} lpHide" data-lp-point="notification_counter"><span class="lp_notification_text" role="alert" data-lp-point="notification_text">{{notification_number}}<span class="sr-only">{{notification_number}}</span></span></div><div class="lp_header-content-wrapper"><div class="lp_title lpc_minimized-header__text-wrapper {{deviceClass}}" id="lp-top-heading-minimized" role="heading" aria-level="2"><div class="lp_chatting-with-icon lpc_minimized-header__icon {{deviceClass}} lpHide" data-lp-type="icon" data-lp-point="chattingWithIcon"><img class="lpc_minimized-header__icon-asset {{deviceClass}}" src="{{iconsRepository}}/sprites_v1.png" alt="" data-lp-cust-id="topBarIcon" draggable="false"></div><span data-lp-point="headerText" data-lp-cust-id="top_text" class="lp_top-text lpc_minimized-header__text {{deviceClass}}" data-studio-click="true">{{windowTitle}}</span></div><div class="lp_extended_title lpc_minimized-extended-header__text-wrapper lpHide {{deviceClass}}" role="heading" data-lp-point="maximizedExtendedTitleContainer"><div class="lp_brand-logo lpc_minimized-extended-header__logo-wrapper {{deviceClass}}"><img class="lp_brand-logo-asset lpc_minimized-extended-header__logo-asset {{deviceClass}}" alt="{{logoAltText}}" draggable="false"></div><div class="lp_headers-text-container"><span data-lp-point="titleText" data-lp-cust-id="top_text" class="lp_title-text lpc_minimized-extended-header__title-text {{deviceClass}}" data-studio-click="true">{{windowTitle}}</span> <span data-lp-point="headerText" data-lp-cust-id="sub_text" class="lp_top-text lpc_minimized-extended-header__top-text {{deviceClass}}" data-studio-click="true">{{windowTitle}}</span></div></div><div class="lp_header-buttons-container"><button aria-label="{{tooltip_Maximize}}" class="lp_maximize lpc_minimized-header__maximize-button {{deviceClass}}" id="lp-maximize-button" aria-labelledby="lp-top-heading-minimized lp-maximize-button" data-lp-point="maximize" role="button"><span class="lp_maximize-icon" data-lp-type="icon"><img class="lpc_minimized-header__maximize-button-asset {{deviceClass}}" src="{{iconsRepository}}/sprites_v1.png" aria-hidden="true" draggable="false"></span></button> <button title="{{tooltip_Close}}" class="lp_close lpc_minimized-header__close-button {{deviceClass}}" data-lp-point="close" role="button"><span class="lp_close-icon" data-lp-type="icon"><img class="lpc_minimized-header__close-button-asset {{deviceClass}}" src="{{iconsRepository}}/sprites_v1.png" alt="{{tooltip_Close}}" aria-hidden="true" draggable="false"></span></button></div></div></div></div></div>'),t=(t=(t=(t=(t=R(t)).replace(/\{\{tooltip_Close\}\}/g,E.getString("tooltip_Close"))).replace(/\{\{deviceClass\}\}/g,lpTag.unifiedWindow.customization.deviceClass)).replace(/\{\{logoAltText\}\}/g,E.getString("logoAltText")),p.innerHTML+=t,'<div class="lp_maximized lpmx lpc_window lpc_window_maximized {{deviceClass}}" data-lp-point="maximized" data-lp-cust-id="maximizedWindow" role="dialog" aria-label="{{windowRegionLabel}}"><div class="lp_header lpc_maximized-header {{deviceClass}}" data-lp-point="header" data-lp-cust-id="top" data-studio-click="true"><div class="lp_header-content-wrapper"><button title="{{tooltip_open_widgets}}" class="lp_hidden lp_slider lpc_maximized-header__slider-button {{deviceClass}}" data-lp-point="widget_sdk"><span class="lp-slider-icon" data-lp-type="icon"><img class="lpc_maximized-header__slider-button-asset {{deviceClass}}" src="{{iconsRepository}}/sprites_v1.png" alt="" aria-hidden="true"></span></button><div class="lp_notification_number wsdkNotification lpHide" data-lp-point="widgetNotificationContainer"><span class="lp_notification_text" data-lp-point="widgetNotificationText" role="alert">0</span></div><div class="lp_title lpc_maximized-header__text-wrapper {{deviceClass}}" id="lp-top-heading-maximized" data-lp-point="maximizedTitleContainer"><div class="lp_chatting-with-icon lpc_maximized-header__icon lpc_maximized-header__icon {{deviceClass}} lpHide" data-lp-type="icon" data-lp-point="chattingWithIcon"><img class="lpc_maximized-header__icon-asset {{deviceClass}}" src="{{iconsRepository}}/sprites_v1.png" alt="" aria-hidden="true" data-lp-cust-id="topBarIcon"></div><span data-lp-point="headerText" data-lp-cust-id="top_text" class="lp_top-text lpc_maximized-header__text {{deviceClass}}" data-studio-click="true" aria-atomic="true" role="heading" aria-level="2">{{windowTitle}}</span></div><div class="lp_extended_title lpc_maximized-extended-header__text-wrapper lpHide {{deviceClass}}" data-lp-point="maximizedExtendedTitleContainer"><div class="lp_brand-logo lpc_maximized-extended-header__logo-wrapper {{deviceClass}}"><img class="lp_brand-logo-asset lpc_maximized-extended-header__logo-asset {{deviceClass}}" alt="{{logoAltText}}"></div><div class="lp_headers-text-container"><span data-lp-point="titleText" data-lp-cust-id="top_text" class="lp_title-text lpc_maximized-extended-header__title-text {{deviceClass}}" data-studio-click="true" aria-atomic="true" role="heading" aria-level="2">{{windowTitle}}</span> <span data-lp-point="headerText" data-lp-cust-id="sub_text" class="lp_top-text lpc_maximized-extended-header__top-text {{deviceClass}}" data-studio-click="true" aria-atomic="true" role="heading" aria-level="2">{{windowTitle}}</span></div></div><div class="lp_header-buttons-container"><div tabindex="0" role="button" class="lp_menu-top-btn lpc_maximized-header__menu-button {{deviceClass}}" id="lp-action-button" data-lp-cust-id="top_menu_button" data-lp-point="menu-top-btn" data-studio-click="true" aria-label="{{tooltip_ExpandActionMenu}}"><div class="lp_menu-top-icon" data-lp-type="icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 23 23" class="lpc_maximized-header__menu-button-asset {{deviceClass}}" aria-hidden="true"><g fill="none" fill-rule="evenodd"><path fill="#848586" d="M6.5 11a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm6 0a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm6 0a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"/></g></svg></div></div><div tabindex="0" role="button" title="{{tooltip_Minimize}}" class="lp_minimize lpc_maximized-header__minimize-button {{deviceClass}}" id="lp-minimize-button" aria-label="{{tooltip_Minimize}}" data-lp-point="minimize"><span class="lp_minimize-icon" data-lp-type="icon" data-lp-point="minimize_icon"><img class="lpc_maximized-header__minimize-button-asset {{deviceClass}}" src="{{iconsRepository}}/sprites_v1.png" alt="{{tooltip_Minimize}}" aria-hidden="true" draggable="false"></span></div><div tabindex="0" role="button" title="{{tooltip_Close}}" class="lp_close lpc_maximized-header__close-button {{deviceClass}}" data-lp-point="close"><span class="lp_close-icon" data-lp-type="icon"><img class="lpc_maximized-header__close-button-asset {{deviceClass}}" src="{{iconsRepository}}/sprites_v1.png" alt="{{tooltip_Close}}" aria-hidden="true" draggable="false"></span></div></div></div></div><div class="lp_main lpc_body {{deviceClass}}" data-lp-point="main" data-lp-cust-id="mainArea"></div></div><div data-lp-point="buffer-strip" class="lp_buffer-strip"><div class="lp_buffer-strip-container" data-lp-cust-id="mainArea"></div></div>'),t=(t=(t=(t=(t=(t=(t=R(t)).replace(/\{\{tooltip_Close\}\}/g,E.getString("tooltip_Close"))).replace(/\{\{deviceClass\}\}/g,lpTag.unifiedWindow.customization.deviceClass)).replace(/\{\{windowRegionLabel\}\}/g,E.getString("windowRegionLabel"))).replace(/\{\{headerRegionLabel\}\}/g,E.getString("headerRegionLabel"))).replace(/\{\{logoAltText\}\}/g,E.getString("logoAltText")),p.innerHTML+=t,g=p.querySelector('[data-lp-point="minimized"]'),m=p.querySelector('[data-lp-point="maximized"]'),V=p.querySelector('[data-lp-point="buffer-strip"]'),o=g.querySelector('[data-lp-point="main"]'),C.addClass(g,"lpHide"),k.MINIMIZED_VIEW_IFRAME_RENDERING?(f=ce(o),f=f.body,C.addClass(f,"lp_main")):f=o,e=m.querySelector('[data-lp-point="main"]'),k.MAXIMIZED_VIEW_IFRAME_RENDERING?(b=ce(e),w=b.body,C.addClass(w,"lp_main"),C.addClass(w,"lpc_body")):w=e,B=m.querySelector(['[data-lp-point="widget_sdk"]']),F=m.querySelector(['[data-lp-point="widgetNotificationContainer"]']),K=m.querySelector(['[data-lp-point="widgetNotificationText"]']),H=m.querySelector(['[data-lp-point="maximizedTitleContainer"]']),G=m.querySelector(['[data-lp-point="chattingWithIcon"]']),v=m.querySelector(['[data-lp-point="close"]']),h=m.querySelector(['[data-lp-point="minimize"]']),q=m.querySelector(['[data-lp-point="menu-top-btn"]']),(b=m.querySelector(['[data-lp-point="popicon"]']))&&C.addClass(b,T.poppedOut?"lp_pop-in-icon":"lp_pop-out-icon"),L()&&(C.addClass(m,k.EXTERNAL_CSS_CLASS),T.hideTopBar&&C.addClass(m,k.HIDE_TOP_BAR_CSS_CLASS),(function(e){document.documentElement.setAttribute("lang",e)})(T.engConf.lang),T.NativeSDK)&&C.addClass(m,k.WEBVIEW_CSS_CLASS),ee(!1),z(!1),ne(!1),$(n),S.info("applying style",_),document.getElementById(k.STYLE_TAG_ID)),o=document.getElementById(k.EMBEDDED_STYLE_TAG_ID),e=(t||o||T.enableStrictCspMode||C.addStyleTag('.lp-window-root .lp_close-icon{position:relative;display:inline-block;vertical-align:middle;overflow:hidden}.lp-window-root .lp_close-icon img{top:0;left:-480px;position:absolute}.lp-window-root .lp_menu-top-icon{position:relative;display:inline-block;vertical-align:middle;overflow:hidden}.lp-window-root .lp_menu-top-icon img{top:0;left:-480px}.lp-window-root .lp_minimize-icon{display:none}.lp-window-root .lp_chevron-icon{display:none}.lp_desktop .lp-window-root .lp_close-icon,.lp_desktop .lp-window-root .lp_close{width:24px;height:24px}.lpdv .lp-window-root .lp_close-icon,.lpdv .lp-window-root .lp_close{width:24px;height:24px}.lp-window-root *{-webkit-box-sizing:border-box;box-sizing:border-box;font-weight:normal;letter-spacing:0;font-family:inherit;opacity:1;filter:alpha(opacity=100);max-width:none;direction:inherit;text-align:inherit;outline:none}.lp-window-root *::-moz-focus-inner{border:0}.lp-window-root table,.lp-window-root tbody,.lp-window-root td,.lp-window-root span,.lp-window-root tr,.lp-window-root table,.lp-window-root div,.lp-window-root button,.lp-window-root img{margin:0;padding:0;border:0;background:inherit;background:initial;position:static;position:initial;width:auto;height:auto;text-shadow:none;box-shadow:none;-webkit-box-shadow:initial;line-height:normal}.lp-window-root img{vertical-align:bottom;background:inherit;color:#000}.lp-window-root table,.lp-window-root tbody,.lp-window-root td,.lp-window-root span,.lp-window-root tr,.lp-window-root table,.lp-window-root div,.lp-window-root button{vertical-align:baseline;background:inherit;color:inherit;font-size:inherit}.lp-window-root button{font-size:1em;border-radius:0}.lp-not-selectable{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.lp-not-selectable *{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.lp-window-root{font-family:"Arial"}.lp-window-root .lp_header{background-color:#f0f0f0;border:1px solid #d6d6d6;border-radius:5px 5px 0 0;font-size:1.1em;z-index:2;width:100%;position:absolute}.lp-window-root .lp_main{padding:0;z-index:1;height:100%;width:100%;position:absolute;right:0;bottom:0}.lp-window-root .lp_main .lp_wait{position:absolute;top:0;bottom:0;left:0;right:0}.lp-window-root .lp_main .lp_wait table{height:100%;width:100%}.lp-window-root .lp_main .lp_wait td{text-align:center;vertical-align:middle}.lp-window-root .lp_main>.lp_message{text-align:center;width:100%;height:100%}.lp-window-root .lp_main>.lp_message .lp_text{padding:10px 4px 0 4px;text-align:center}.lp-window-root .lp_main>.lp_message .lp_buttons_area{position:relative;text-align:center;padding:0 5%;height:40px;margin-top:5px}.lp-window-root .lp_main>.lp_message .lp_buttons_area button{padding:9px 6px;width:45%;float:left;font-size:.9em;border:none;text-align:center;cursor:pointer;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.lp-window-root .lp_main>.lp_message .lp_buttons_area .lp_confirm_button{color:#fff;background-color:#0363ad;margin-left:10%;border-radius:2px}.lp-window-root .lp_main>.lp_message .lp_buttons_area .lp_confirm_button:disabled{opacity:.5;cursor:default}.lp-window-root .lp_main>.lp_message .lp_buttons_area .lp_confirm_button:hover,.lp-window-root .lp_main>.lp_message .lp_buttons_area .lp_confirm_button:focus{background-color:#025487}.lp_lpIos .lp-window-root .lp_main>.lp_message .lp_buttons_area .lp_cancel_button:hover,.lp_lpIos .lp-window-root .lp_main>.lp_message .lp_buttons_area .lp_cancel_button:focus{background:#f2f2f2}.lp-window-root .lp_main>.lp_message .lp_buttons_area .lp_cancel_button{background:rgba(0,0,0,0);color:#6d6e70}.lp-window-root .lp_main>.lp_message .lp_buttons_area .lp_single_button{float:none;margin-left:0}.lp-window-root .lp_header-content-wrapper{width:100%;height:100%}.lp-window-root .lp_header-content-wrapper .lp_title,.lp-window-root .lp_header-content-wrapper .lp_subtitle{direction:ltr}.lp-window-root .lp_header-content-wrapper .lp_title>*,.lp-window-root .lp_header-content-wrapper .lp_subtitle>*{vertical-align:middle}.lp-window-root .lp_header-content-wrapper .lp_top-text,.lp-window-root .lp_header-content-wrapper .lp_title-text{overflow:hidden;text-overflow:ellipsis;display:inline-block;margin-left:8px;max-width:150px;white-space:nowrap}.lp-window-root .lp_header-content-wrapper button{background:none;position:absolute;cursor:pointer}.lp-window-root>.lpmx{border-radius:5px 5px 0 0;-webkit-box-shadow:0 0 16px 3px rgba(0,0,0,.2);box-shadow:0 0 16px 3px rgba(0,0,0,.2);color:#000}.lp-window-root>.lpmx>.lp_main{background-color:#fff}.lp-window-root>.lpmx.lp_external-window{border-radius:0;position:fixed;left:0;right:0;bottom:0;top:0;width:100%;height:100%;overflow:hidden}.lp-window-root>.lpmx.lp_external-window.lp_no-top>.lp_header{display:none}.lp-window-root>.lpmx.lp_external-window.lp_no-top>.lp_main{top:0}.lp-window-root button:focus{outline:#3a61d4 solid 2px}.lp-window-root button:focus:not(:focus-visible){outline:none}.lp-window-root .lp_text:empty,.lp-window-root img[src=""]{display:none}.lp-window-root .lpHide,.lp-window-root .lp_hidden{display:none !important}.lp-window-root .lp_disable_select{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.lp-window-root table.lp_centralizer{height:100%;width:100%}.lp-window-root table.lp_centralizer td{text-align:center;vertical-align:middle}.lp-window-root .lp_rotator-container{position:relative;display:inline-block;width:100px;height:100px}.lp-window-root .lp_rotator-container-bg{position:absolute;top:0;right:0;bottom:0;left:0;background-color:rgba(0,0,0,0);opacity:.92;border-radius:10px}.lp-window-root .lp_rotator{padding-top:12px;text-align:center;position:absolute;top:0;right:0;bottom:0;left:0}.lp-window-root .lp_skeleton-window-body{width:100%;height:100%;display:block}.lp-window-root .lp_skeleton-header{width:90%;height:94px;border-radius:12px;margin:6% auto 0 auto}.lp-window-root .lp_skeleton-message{width:30%;height:36px;margin-top:10%}.lp-window-root .lp_skeleton-agent{width:44%;margin-left:10%;border-radius:14px 14px 14px 0px}.lp-window-root .lp_skeleton-visitor{margin-left:61%;border-radius:14px 14px 0px 14px}.lp-window-root .lp_skeleton-input{position:absolute;bottom:2%;left:3%;width:94%;height:38px;border-radius:12px}.lp-window-root .lp_skeleton-box{display:inline-block;width:100%;height:100%;position:relative;overflow:hidden;background-color:#dddbdd;border-radius:inherit}.lp-window-root .lp_skeleton-box::after{position:absolute;top:0;right:0;bottom:0;left:0;-webkit-transform:translateX(-100%);transform:translateX(-100%);background-image:-webkit-gradient(linear, left top, right top, color-stop(0, rgba(255, 255, 255, 0)), color-stop(20%, rgba(255, 255, 255, 0.2)), color-stop(60%, rgba(255, 255, 255, 0.5)), to(rgba(255, 255, 255, 0)));background-image:linear-gradient(90deg, rgba(255, 255, 255, 0) 0, rgba(255, 255, 255, 0.2) 20%, rgba(255, 255, 255, 0.5) 60%, rgba(255, 255, 255, 0));-webkit-animation:shimmer 2s infinite;animation:shimmer 2s infinite;content:""}@-webkit-keyframes shimmer{100%{-webkit-transform:translateX(100%);transform:translateX(100%)}}@keyframes shimmer{100%{-webkit-transform:translateX(100%);transform:translateX(100%)}}.lp_desktop .lp-window-root{font-size:13px}.lp_desktop .lp-window-root>*{width:280px;z-index:99999999;position:fixed;right:20px;bottom:0}.lp_desktop .lp-window-root>* .lp_header{height:36px;padding:0 5px}.lp_desktop .lp-window-root>* .lp_header button,.lp_desktop .lp-window-root>* .lp_header div[role=button]{z-index:99999999;top:6px}.lp_desktop .lp-window-root>* .lp_header button:focus,.lp_desktop .lp-window-root>* .lp_header div[role=button]:focus{outline:#fff solid 2px}.lp_desktop .lp-window-root>* .lp_header button:focus:not(:focus-visible),.lp_desktop .lp-window-root>* .lp_header div[role=button]:focus:not(:focus-visible){outline:none}.lp_desktop .lp-window-root.window_studio_harmony_preview>.lpmx{height:653px;width:390px}.lp_desktop .lp-window-root.window_studio_harmony_preview .lp_bottom_area.lp_menu_top.lp_emoji_supported.lp_attachment_icon .lpc_composer__file-attachment-button,.lp_desktop .lp-window-root.window_studio_harmony_preview .lp_bottom_area.lp_menu_top.lp_emoji_supported.lp_attachment_icon .lpc_composer__emoji-button{display:none !important}.lp_desktop .lp-window-root.window_studio_harmony_preview .lp_bottom_area.lp_menu_top.lp_emoji_supported.lp_attachment_icon .lp_vertical_menu{display:block !important}.lp_desktop .lp-window-root.window_studio_harmony_preview .lp_bottom_area.lp_menu_top.lp_emoji_supported.lp_attachment_icon .lp_vertical_menu.lphide{display:block}.lp_desktop .lp-window-root.window_studio_harmony_preview .lp_bottom_area.lp_menu_top.lp_emoji_supported.lp_attachment_icon .lp_transcript_menu_buttons{display:-webkit-box;display:-ms-flexbox;display:flex;left:16px;bottom:68px}.lp_desktop .lp-window-root.window_studio_harmony_preview .lp_bottom_area:not(.lp_menu_top) .lp_vertical_menu,.lp_desktop .lp-window-root.window_studio_harmony_preview .lp_bottom_area:not(.lp_menu_top) .lp_transcript_menu_buttons,.lp_desktop .lp-window-root.window_studio_harmony_preview .lp_bottom_area:not(.lp_emoji_supported) .lp_vertical_menu,.lp_desktop .lp-window-root.window_studio_harmony_preview .lp_bottom_area:not(.lp_emoji_supported) .lp_transcript_menu_buttons,.lp_desktop .lp-window-root.window_studio_harmony_preview .lp_bottom_area:not(.lp_attachment_icon) .lp_vertical_menu,.lp_desktop .lp-window-root.window_studio_harmony_preview .lp_bottom_area:not(.lp_attachment_icon) .lp_transcript_menu_buttons{display:none !important}.lp_desktop .lp-window-root>.lpmx{height:400px;max-height:100%}.lp_desktop .lp-window-root>.lpmx>.lp_header .lp_title{float:left;padding-top:9px;padding-left:3px}.lp_desktop .lp-window-root>.lpmx>.lp_main{height:auto;top:36px}.lp_desktop .lp-window-root>.lpmx .lp_header-content-wrapper .lp_header-buttons-container{float:right;direction:ltr;font-size:0}.lp_desktop .lp-window-root>.lpmx .lp_header-content-wrapper button{position:relative;display:inline-block}.lp_desktop .lp-window-root>.lpmx .lp_header-content-wrapper button:focus{outline:#fff solid 2px}.lp_desktop .lp-window-root>.lpmx .lp_header-content-wrapper button:focus:not(:focus-visible){outline:none}.lp_desktop .lp-window-root>.lpmx .lp_header-content-wrapper .lp_cancel_button:hover,.lp_desktop .lp-window-root>.lpmx .lp_header-content-wrapper .lp_cancel_button:focus{background:#f2f2f2}.lp_desktop .lp-window-root>.lp_maximized_large{width:340px;height:580px;max-height:100%}.lp_desktop .lp-window-root>.lp_maximized_harmony{width:390px;height:700px;max-height:100%;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.lp_desktop .lp-window-root>.lp_minimized_large{width:340px;max-width:100%}.lp_desktop .lp-window-root>.lp_floating{margin-bottom:20px;max-height:calc(100% - 20px)}.lpdv .lp-window-root .lp_header-content-wrapper{text-align:center;display:table;border-collapse:collapse}.lpdv .lp-window-root .lp_header-content-wrapper>*{vertical-align:middle;display:table-cell}.lpdv .lp-window-root .lp_header-content-wrapper .lp_header-buttons-container{display:table}.lpdv .lp-window-root>.lpmx{z-index:99999999;opacity:.95;position:fixed;top:0;right:0;bottom:0;left:0;border-radius:0}.lpdv .lp-window-root>.lpmx>.lp_header{direction:ltr;height:8%;min-height:40px}.lpdv .lp-window-root>.lpmx>.lp_header .lp_title{width:100%;text-align:center}.lpdv .lp-window-root>.lpmx>.lp_header .lp_top-text{text-align:center}.lpdv .lp-window-root>.lpmx>.lp_header button{top:0;right:0;height:100%;width:40px;text-align:center;position:absolute}.lpdv .lp-window-root>.lpmx>.lp_header .lp_close{right:0}.lpdv .lp-window-root>.lpmx>.lp_main{height:92%}.lpdv .lp-window-root>.lpmx>.lp_main .lp_buttons_area{margin-top:3%}.lpdv .lp-window-root>.lpmx>.lp_main .lp_buttons_area button{font-size:1.2em}.lpdv .lp-window-root.lp_landscape .lp-window-root>.lpmx .lp_header{display:none}.lpdv .lp-window-root.lp_landscape .lp-window-root>.lpmx>.lp_main{padding-top:0;top:0;height:100%}.lp_mobile .lp-window-root{font-size:14px}.lp_mobile .lp-window-root.window_studio_harmony_preview .lp_bottom_area.lp_menu_top.lp_emoji_supported.lp_attachment_icon .lpc_composer__file-attachment-button,.lp_mobile .lp-window-root.window_studio_harmony_preview .lp_bottom_area.lp_menu_top.lp_emoji_supported.lp_attachment_icon .lpc_composer__menu-button,.lp_mobile .lp-window-root.window_studio_harmony_preview .lp_bottom_area.lp_menu_top.lp_emoji_supported.lp_attachment_icon .lpc_composer__emoji-button{display:none !important}.lp_mobile .lp-window-root.window_studio_harmony_preview .lp_bottom_area.lp_menu_top.lp_emoji_supported.lp_attachment_icon .lp_vertical_menu{display:block !important}.lp_mobile .lp-window-root.window_studio_harmony_preview .lp_bottom_area.lp_menu_top.lp_emoji_supported.lp_attachment_icon .lp_vertical_menu.lphide{display:block}.lp_mobile .lp-window-root.window_studio_harmony_preview .lp_bottom_area.lp_menu_top.lp_emoji_supported.lp_attachment_icon .lp_transcript_menu_buttons{display:-webkit-box;display:-ms-flexbox;display:flex;left:16px;bottom:68px}.lp_mobile .lp-window-root.window_studio_harmony_preview .lp_bottom_area:not(.lp_menu_top) .lp_vertical_menu,.lp_mobile .lp-window-root.window_studio_harmony_preview .lp_bottom_area:not(.lp_menu_top) .lp_transcript_menu_buttons,.lp_mobile .lp-window-root.window_studio_harmony_preview .lp_bottom_area:not(.lp_emoji_supported) .lp_vertical_menu,.lp_mobile .lp-window-root.window_studio_harmony_preview .lp_bottom_area:not(.lp_emoji_supported) .lp_transcript_menu_buttons,.lp_mobile .lp-window-root.window_studio_harmony_preview .lp_bottom_area:not(.lp_attachment_icon) .lp_vertical_menu,.lp_mobile .lp-window-root.window_studio_harmony_preview .lp_bottom_area:not(.lp_attachment_icon) .lp_transcript_menu_buttons{display:none !important}.lp_tablet .lp-window-root{font-size:18px}.lp_tablet .lp-window-root>.lpmx .lp_header-content-wrapper .lp_title .lp_top-text{max-width:250px}.lp_prevent_body_scroll{position:fixed;overflow:hidden;right:0;left:0;top:0;bottom:0}',{id:k.STYLE_TAG_ID}),J=setTimeout(function(){x(c.WAIT)},k.WAIT_INDICATION_DELAY),oe(!0),k.WRAPPER_DIV_CSS_CLASS_PREFIX);r.isMobile()?(e+=k.MOBILE_CSS_CLASS,C.addClass(u,k.DEVICE_CLASS)):r.isTablet()?(e+=k.TABLET_CSS_CLASS,C.addClass(u,k.DEVICE_CLASS)):e+=k.DESKTOP_CSS_CLASS,C.addClass(u,e),(function(){r.isNativeAndroid()&&C.addClass(u,k.WRAPPER_DIV_CSS_CLASS_PREFIX+k.NATIVE_CSS_CLASS);var e=k.WRAPPER_DIV_CSS_CLASS_PREFIX;if(r.isIE())e+="ie"+r.browserVersion();else if(r.isIOS())e+=k.IOS_CSS_CLASS,r.isIOS6()?e+=" "+k.IOS6_CSS_CLASS:r.isIOS8OrAbove()&&(e+=" "+k.WRAPPER_DIV_CSS_CLASS_PREFIX+k.IOS8_OR_ABOVE_CSS_CLASS);else if(r.isAndroid())e+=k.ANDROID_CSS_CLASS;else{if(!r.isMacOS())return;e+=k.MAC_OSX_CSS_CLASS}C.addClass(u,e)})(),(r.isMobile()||r.isTablet())&&(M({landscape:s.isLandscape()}),s.on(s.EVENT_NAME.ORIENTATION_CHANGE,M)),C.registerEvent(v,"click",O),C.runCallback(a)})},show:Q,hide:function(){t()&&(S.info("hiding",_),p.style.display="none")},message:x,removeMessage:ae,unbindDomEvents:ie,setTitle:A,Messages:c,getMinimizedElement:function(){return g},getBufferStripElement:function(){return V},getMaximizedElement:function(){return m},getMainWindowElement:function(){return p},getChatWrapperElement:function(){return u},getSliderButton:function(){return B},getWidgetNotificationContainer:function(){return F},getWidgetNotificationText:function(){return K},getTitleDiv:function(){return H},getChattingWIthIcon:function(){return G},dispose:O,showClose:z,showMinimized:ee,showTopMenu:ne,getIconRepository:re,adjustConfigStyle:function(e){var n,o,t,i;S.info("applyConfigStyle",_),e&&(n=(o=e).getStyle("top","border-radius"),o=o.getStyle("input","border-radius"),n&&o?(t=n.split(" ").slice(0,2),i=o.split(" ").slice(2),t=t[0]+" "+t[1]+" "+i[0]+" "+i[1],g.style.borderRadius=n,m.style.borderRadius=t):!n&&o?m.style.borderRadius=o:(g.style.borderRadius=n,m.style.borderRadius=n),!r.isMobile()&&!r.isTablet()||L()||(i=(i=e).getStyle("mobileOpacity","text"))&&"true"===i&&(m.style.opacity=1))},getWrapperElementId:function(){return k.WRAPPER_DIV_ID}}},window.lpTag=window.lpTag||{},lpTag.taglets=lpTag.taglets||{},lpTag.unifiedWindow=lpTag.unifiedWindow||{},lpTag.unifiedWindow.apps=lpTag.unifiedWindow.apps||{UNIFIED_WINDOW:"lpUnifiedWindow"},lpTag.unifiedWindow.staticConfig=lpTag.unifiedWindow.staticConfig||{secureForms:{isDesktopSupported:!0},passSiteSettings:!0},lpTag.unifiedWindow.customization=lpTag.unifiedWindow.customization||{deviceClass:null},lpTag.engagementClickEventsSeen=lpTag.engagementClickEventsSeen||0,lpTag.taglets.lpUnifiedWindow=lpTag.taglets.lpUnifiedWindow||(function(){var r,s,t,l,d,c,p,u,g,m,f,D,w,i,P,U,a,V,v,B,F={stepUpInWaitingState:{appName:"stepUpInWaitingState",storageKey:"-stepUpDataInWaitingState"}},h="lpUnifiedWindow",K="10.44.1-release_2012042702",b=lpTag.unifiedWindow,_=b.log,k=lpTag.taglets.lpUtil,n=lpTag.unifiedWindow.settingsIDs,E="?version="+(K||(new Date).getTime().toString()),H={window:{maximized:!0,position:{right:"20px",bottom:0},sound:!0,notificationCount:0,actionsVisible:!1,emojisVisible:!1,embedded:!0}},G=3,C={},S=[],q=!1,J=null,X=!1,Y=5e3,Z="applicationEnded",y={ADMIN_AREA:"adminArea",ALL:"ALL",LECDN:"leCdnDomain",ACCDN:"acCdnDomain",ACCDN_CONSUMER_SDK:"acCdnDomainConsumerSdk",ASYNC_MESSAGING:"asyncMessagingEnt",MESSAGING_HISTORY:"msgHist",IDP:"idp",SMS_API:"smsConnector",SHIFT_STATUS:"shiftstatus"},$={LECDN:["lpsnmedia.net","liveperson.net","liveperson.com","lprnd.net"],ACCDN:["lpsnmedia.net","liveperson.net","liveperson.com","lprnd.net"]},o=b.apps.UNIFIED_WINDOW,Q={UMSClientAPI:!1,lpChatV3:!1},T=k.getURLParams(window.location.search),x=null,ee=null,ne=null,oe=T&&T.parentWindowOrigin&&""!==T.parentWindowOrigin?T.parentWindowOrigin:null,A=!1,te=Je,ie="STORAGE_SELECTED",ae={POPOUT:"popout",TAP_TO_TEXT:"tapToText"},re={SMS:0},se={ON_EXTERNAL_LAUNCH:"ON_EXTERNAL_LAUNCH"},le=!1,de=!1,ce=!1,pe=3,ue=0,ge=!1,z=!1,me=!1,fe=!1,O=!1,we=(lpTag.taglets.lp_monitoringSDK,{NAMESPACE:"lpc",MOBILE_CSS_CLASS:"mobile",TABLET_CSS_CLASS:"tablet",DESKTOP_CSS_CLASS:"desktop"});function ve(){var e={debug:C.debug};e[o]={site:C.accountId,env:C.env,app:o,url:C.secureStorageLocation,firstParty:!0,disableFirstPartyGlobalConfig:C.disableFirstPartyGlobalConfig,chosenStorageHandler:he},s.configure(e)}function he(e){_.info("storage configured: "+JSON.stringify(e),h),be(e,function(e){"object"!=typeof e?C.secureStorageType=e:e&&e.error&&(C.browserModeUnSupported=!0);C.popoutSupported=C.secureStorageType&&C.secureStorageType!==s.storageTypes.SESSIONSTORAGE&&p.visibilitySupported(),C.embeddedSupported=!!C.secureStorageType,r.trigger({appName:h,eventName:ie,global:!0}),_.info("_manage",h),(function(n,e){s.getValue({key:F.stepUpInWaitingState.storageKey,site:lpTag.site,app:o,success:function(e){n(e)},error:function(){e()},appName:F.stepUpInWaitingState.appName,domain:C.secureStorageLocation,firstParty:!0})})(function(e){e&&(C.wasAuthConnectorAppliedForStepUp=e.wasAuthConnectorAppliedForStepUp,C.isConvoSteppedUp=e.isConvoSteppedUp)}),t?t.getState(Te,Te):an(!1)}.bind(this,e))}function N(e){var n,o,t,i;_.info("clicked: "+JSON.stringify(e),h),(e=Ze(e))&&e.preChatLines&&(e.preChatLines=(o=e.preChatLines,t=0,i={},o.forEach(function(e){i["msg"+ ++t]=e}),i)),C.clickedChannel=l.getClickedChannel(e),e.accountSettings&&(S=e.accountSettings),C.isStepUpDuringWaitingStateEnabled&&(z||A||(C.isConvoSteppedUp=!1,on({wasAuthConnectorAppliedForStepUp:C.wasAuthConnectorAppliedForStepUp=!1,isConvoSteppedUp:!1}),me=!1),z=!1),A&&!a.engConf.externalFailed?(o=!a||!a.window||a.window.maximized,b.Application&&k.getPropertyFromObject(w,"methods.isDisposed")&&!w.methods.isDisposed()&&o&&r.trigger({appName:h,eventName:"maximize"}),n=g.getCurrentSessionKey(),C.clickedChannel!==n&&(n=l.getEngagementTypeByChannel(n),r.trigger({appName:h,eventName:lpTag.unifiedWindow.events.chat.MULTIPLE_CHANNELS_REQUESTED,data:{channelType:n}}))):p.isConnected()?(k.getPropertyFromObject(w,"methods.isDisposed")&&w.methods.isDisposed()&&W(),(n=(function(e){if(e.externalTargets){var n=e.externalTargets[re.SMS];if(n&&n.brandIdentifier&&u.canAttemptSMSClientLaunch()&&n.deflectionTargetProperties&&n.deflectionTargetProperties.tapToText)return{type:ae.TAP_TO_TEXT,target:n}}if(Ee(e))return{type:ae.POPOUT,target:e}})(e))?(function(e,n){e.windowConf,n.type===ae.TAP_TO_TEXT?(function(e,n){_.info("_openWindowForSMSClientLaunch",h);var o="",n={launchProperties:(function(e){var n={};n.phoneNumber=e.brandIdentifier,e.deflectionTargetProperties&&"string"==typeof e.deflectionTargetProperties.message&&""!==e.deflectionTargetProperties.message?(e=decodeURIComponent(e.deflectionTargetProperties.message),u.isIOS()?u.isIOS8OrAbove()?n.message="&body="+e:n.message=";body="+e:n.message="?body="+e):n.message="";return n})(n),smsAPI:lpTag.csds.getDomain(y.SMS_API)};o=l.getSMSClientLaunchResourceURL(e,C,n),V={url:o},C.openedExternal=window.open(o,e.target+"POP","menubar=no, location=no, resizable=false, scrollbars=no, status=yes, width=280px, height=400px, modal=true")})(e,n.target):(ae.POPOUT,ke(e));!C.openedExternal&&C.showMinimizedIfExternalBlocked?(e.minimiseOnStart=!0,e.externalFailed=!0,e.externalConfIfFailed=V,R(),I(xe.bind(this,e))):(e.externalFailed=!1,lpTag.hooks&&lpTag.hooks.exec&&lpTag.hooks.exec({name:se.ON_EXTERNAL_LAUNCH,data:{type:n.type,engConf:e,externalTarget:n}}))})(e,n):C.browserModeUnSupported?(R(),J=c.Messages.UNSUPPORTED,I(Ae.bind(this,e))):(R(),I(xe.bind(this,e)))):(R(),J=c.Messages.CONNECTION_UNAVAILABLE,I(Ae.bind(this,e)))}function I(e,n){n&&R(),be(null,function(){t.getState(e,e)})}function R(){c||(c=new b.WrapperWindow(C,u,p,r,qe),C.wrapperElementId=c.getWrapperElementId())}function be(e,n){g=g||_e(),C.clickedChannel&&g.setClickedSession(C.clickedChannel),g.getSessionId(function(e,n,o){o?(C.sessionId=o,t=t||new b.StateAnalyzer({storageKey:C.sessionId,accountId:C.accountId,disableSessionTimeout:C.disableSessionTimeout,secureStorageLocation:C.secureStorageLocation},g)):!L()&&d&&d.getPKCEFromSecureStorage(function(e){e&&e.code_verifier&&e.engConfig&&(_.debug("Successfully retrieved PKCE value from secure storage"),N(e.engConfig))});k.runCallback(n,null,e)}.bind(this,e,n))}function _e(){return new b.SessionManager({accountId:C.accountId,sessionId:C.sessionId,external:C.external,events:r,sessionsPriority:l.getChannelsPriority(C),sessions:l.getChannels(C),clickedSession:C.clickedChannel,secureStorageLocation:C.secureStorageLocation,echoedSessionTimeout:C.sessionTimeout})}function ke(e){_.info("_openWindow",h);try{var n=C.staticCodeRepository+(e.resource||"/index.html"),o=l.getURLBreakdownInfo(n),t=l.getURLBreakdownInfo(window.location.href);ee="https://"+o.hostname+(o&&o.port&&""!==o.port?":"+o.port:""),ne="https://"+t.hostname+(t&&t.port&&""!==t.port?":"+t.port:"")}catch(e){_.error("_openWindow","Error while getting externalWindowOrigin continuing")}e.redirect||Se()&&Ce()?window.location.href=l.getExternalResourceURL(e,C,!1):(n=l.getExternalResourceURL(e,C,!1)+(ne&&""!==ne?"&parentWindowOrigin="+ne:""),V={url:n},e.connector&&e.connector.configuration&&e.connector.configuration.pkceEnabled?(o=encodeURIComponent(n),t=l.getQueryString(n),t=new window.URLSearchParams(t).get("redirect_uri"),C.openedExternal=l.openExternal(e,t+"?originalURL="+o)):C.openedExternal=l.openExternal(e,n))}function Ee(e){return!C.embeddedSupported||e.isPopOut||Ce()||l.isRecaptchaEnabled()||s.getStorageType(C.secureStorageLocation)[o]===s.storageTypes.SESSIONSTORAGE&&(function(n,e,o){var t=S&&S.filter(function(e){return e.id===n});return t&&0<t.length&&k.getPropertyFromObject(t[0],"propertyValue.value",o)===e})(n.EXTERNAL_FALLBACK,"true","false")&&u.isDesktop()}function L(){return C.poppedOut||C.external}function Ce(){return!u.isMobileOptimized()&&!u.isDesktop()}function Se(){return C.startedEngConf}function ye(e,n,o){if((function(){if(C.openedExternal){if(!C.openedExternal.closed)return 1;C.openedExternal=void 0,delete C.openedExternal}return})())_.info("_clickStateCallback: external / popped out window is open",h),M(c.Messages.EXTERNAL_OPEN,!0);else{switch(C.poppedOut&&(n=t.state.IN_SESSION),P=n){case t.state.INVALID:return _.info("_clickStateCallback: is INVALID state, nothing to do",h),void j();case t.state.IN_SESSION:return{uiState:e};case t.state.NOT_STARTED:return o?{engConf:o}:void 0;case t.state.EXPIRED:return j(),null}_.error("_resolveProperStates: BUG - undefined state",h)}}function Te(e,n){_.info("_startStateCallback",h);e=ye(e,n);C.external?(e&&e.uiState&&e.uiState.chat&&e.uiState.chat.state===Z&&(e.uiState={engConf:e.uiState.engConf}),Re(e||C)):e?(me=!0,!C.engConf&&e&&e.uiState&&e.uiState.engConf&&(C.clickedChannel=l.getClickedChannel(e.uiState.engConf,!0)),p.isConnected()?Re(e):M(c.Messages.CONNECTION_UNAVAILABLE)):Se()?N(C.startedEngConf):(!L()&&d&&d.getPKCEFromSecureStorage(function(e){e&&e.code_verifier&&e.engConfig&&(_.debug("Successfully retrieved PKCE value from secure storage"),N(e.engConfig))}),an(!1))}function xe(e,n,o){_.info("_clickStateCallback",h);n=ye(n,o,e);n?Re(n):an(!1)}function Ae(e,n,o){_.info("_clickStateCallbackError",h);n=ye(n,o,e);n&&Re(n,!0,J)}function ze(e){a=e,f&&S&&!0===X&&q&&!w?(e={window:f,unified:C,uiState:e,accountSettings:S},_.info("_loadingCompleted, config: "+JSON.stringify(e),h),g.refresh(function(n){je(function(){{var o,t;(function(e){var n;return fe&&(n=e&&e.uiState&&e.uiState.chat&&"waiting"===e.uiState.chat.state,e=e.uiState&&e.uiState.engConf&&e.uiState.engConf.connector,n=me&&n||v||C.isConvoSteppedUp,e=e&&!nn(e),fe)&&n&&e&&(en()||C.wasAuthConnectorAppliedForStepUp)})(e=n)?(v=!1,o=e,t=function(){Oe(e)},$e(function(e){var n;(n=e&&e.length?(function(e){e=e.filter(nn);if(e&&e.length)return e[0]})(e):n)&&o.uiState.engConf&&(o.uiState.engConf.connector=n,on({wasAuthConnectorAppliedForStepUp:C.wasAuthConnectorAppliedForStepUp=!0,isConvoSteppedUp:C.isConvoSteppedUp})),t()})):Oe(e)}var e})}.bind(this,e))):_.info("_loadingCompleted: still missing data/files",h)}function Oe(e){w=b.Application(e,{appConfigurationManager:l,pkceManager:d,browserStateManager:p,sessionManager:g,deviceDetector:u,wrapperWindow:c,events:r})}function Ne(e,n,o){_.info("_windowConfigLoaded",h),!o||o.error?(M(c.Messages.CONNECTION_UNAVAILABLE),_.error("_windowConfigLoaded: Cannot load configuration",h)):((f=o).windowSize&&(e.window.size=f.windowSize),f.floatingWindow&&(e.window.floating=f.floatingWindow),n(e))}function Ie(e,n){_.info("_accountSettingsLoaded",h),S=n,ze(e)}function Re(e,n,o,t){if(_.info("_startApplication",h),!A){A=!0,_.triggerEvent(_.events.APP_STARTED),f=e&&e.engConf&&e.engConf.windowConf,S=e&&e.engConf&&e.engConf.accountSettings,Array.isArray(S)&&0<S.length?delete e.engConf.accountSettings:S=null;var i={storageKey:C.sessionId,accountId:C.accountId,secureStorageLocation:C.secureStorageLocation,domain:O?C.acCdnDomainConsumerSdk:C.acCdnDomain,initialConf:C},e=(e.uiState?((r=e.uiState).engConf.sessionKey=g.getCurrentSessionKey(),r.engConf&&void 0!==r.engConf.lewid&&(i.windowId=r.engConf.lewid,r.engConf.subscription)&&r.engConf.subscription.provideraccountid&&(i.accountId=r.engConf.subscription.provideraccountid),(m=new b.WindowConfigurationManager(i)).getConf(Ne.bind(this,r,ze)),Le.call(this,r,n,o,t)):((r=k.cloneExtend(H)).engConf=e.engConf,r.engConf.sessionKey=g.getCurrentSessionKey(),r.engConf&&void 0!==r.engConf.lewid&&(i.windowId=r.engConf.lewid,r.engConf.subscription)&&r.engConf.subscription.provideraccountid&&(i.accountId=r.engConf.subscription.provideraccountid),e.engConf&&e.engConf.minimiseOnStart&&(r.window.maximized=!1),m=new b.WindowConfigurationManager(i),f?(delete e.engConf.windowConf,f.windowSize&&(r.window.size=f.windowSize),f.floatingWindow&&(r.window.floating=f.floatingWindow),Ne.call(this,r,ze,f),Le.call(this,r,n,o,t)):(r.engConf&&void 0!==r.engConf.lewid&&(i.windowId=r.engConf.lewid),m.getConf(Ne.bind(this,r,function(e){Le.call(this,e,n,o,t)})))),D=new b.AccountSettingsManager(i),S?Ie.call(this,r,S):D.getSettings(Ie.bind(this,r)),function(e,n){_.info("_appLoaded",h),n?(M(c.Messages.CONNECTION_UNAVAILABLE),j(),_.error("_appLoaded: Cannot load application",h)):(X=!0,ze(e))}.bind(this,r)),i=r;if(_.info("_loadFramework",h),i=(function(e){C.isMessaging=!!e.async;var n={},o=C.isMessaging?"UMSClientAPI":"lpChatV3";{var t;b.Application?w||Q[o]||(n=C.loadObj||{api:C.codeRepository+"/"+o+".min.js"+E}):((n=C.loadObj||{}).api=C.codeRepository+"/"+o+".min.js"+E,tn()&&(t=u.getDeviceFamilyName().toLowerCase(),n.framework=C.codeRepository+"/ui-framework.js"+E,n.surveyLogic=C.codeRepository+"/surveylogicinstance.min.js"+E,n.unified={dependency:["framework","api","surveyLogic"],url:C.codeRepository+"/"+t+"Embedded.js"+E}),Q[o]=!0)}L()&&(U="function"==typeof lpTag.getTagDomain&&lpTag.getTagDomain(C.env),lpTag.ovr=lpTag.ovr||{domain:U},lpTag.debug=C.debug?"2":"1");e&&e.lang&&"en-us"!==e.lang.toLowerCase()&&(n.lang=C.langRepository+"/"+e.lang+".js"+E);!Ee(e)&&l.isAuthenticatedEnabled(e)&&(n.xhr=C.codeRepository+"/xhr.js"+E);C.widgetSDK&&(n.widgetSDK="https://"+C.leCdnDomain+"/unifiedwindow/widgetSDK.min.js"+E);return n})(i.engConf),!le){var a,r=u.getDeviceFamilyName().toLowerCase();C.enableStrictCspMode?((a=document.createElement("link")).setAttribute("rel","stylesheet"),a.setAttribute("id","lpStyle"),a.setAttribute("href",C.codeRepository+"/resources/css/"+r+"EmbeddedStyle.css"+E)):((a=document.createElement("script")).setAttribute("charset","utf-8"),a.setAttribute("id","lpStylesLoader"),a.setAttribute("src",C.codeRepository+"/resources/js/"+r+"EmbeddedStyle.js"+E));a.addEventListener("load",function(){ce=!0},!1),document.getElementsByTagName("head").item(0).appendChild(a),le=!0}(lpTag.tagletsPrecomputed||!lpTag.loadTaglets||L()?lpTag.tagletsPrecomputed&&lpTag.load&&!L()?function(e,n){var o=lpTag.protocol+"//"+(lpTag.ovr&&lpTag.ovr.domain?lpTag.ovr.domain:"cdn.lpsnmedia.net")+"/api/account/"+lpTag.site+"/taglets/scopes/unifiedwindow/onwindowload";try{lpTag.load(o,"UTF-8",lpTag.cfg.scriptPrefix+lpTag.cfg.count),_.info("_loadFramework: Precomputed taglets loaded from CDN",h),Me(e,n)}catch(e){_.error("_loadFramework: Error Loading taglets"+JSON.stringify(e),h),k.runCallback(n,null,e||{})}}:Me:function(e,n){lpTag.loadTaglets({scp:C.scp,excludeWhitelist:!0,success:function(){_.info("_loadFramework: Taglets loaded from LPTag service",h),Me(e,n)},error:function(e){_.error("_loadFramework: Error Loading taglets"+JSON.stringify(e),h),k.runCallback(n,null,e||{})}})})(i,e)}}function Le(e,n,o,t){n?c.render(e,function(){c.message(o,!0)},!0):c.render(e,function(){q=!0,c.message(c.Messages.WAIT),ze(e)},!0),!n||t||L()||(i=setTimeout(function(){c&&c.dispose()},Y))}function Me(e,n){_.info("_startLoadFramework, loading: "+JSON.stringify(e),h),k.isEmpty(e)?(_.info("_startLoadFramework: Application exists, starting",h),k.runCallback(n)):(_.info("_startLoadFramework: Loading files",h),lpTag.taglets.jsLoader.loadJS({loadObj:e,success:function(){_.info("_startLoadFramework: Files loaded",h),je(function(){k.runCallback(n)})},error:function(e){_.error("_startLoadFramework: Error Loading files "+JSON.stringify(e),h),je(function(){k.runCallback(n,null,e||{})})}}))}function je(e){var n;(tn()||ue===pe)&&ce?e():n=setInterval(function(){(ue===pe||tn())&&ce&&(clearInterval(n),e())},50)}function We(e,n){var o;document.getElementById("#"+n)||((o=document.createElement("script")).async=!0,o.id=n,o.src=e,o.setAttribute("charset","utf-8"),document.querySelector("head").appendChild(o),o.onload=function(){var e;ue++,"lp-ui-framework"===n&&(e=u.getDeviceFamilyName().toLowerCase(),We(C.codeRepository+"/"+e+"Embedded.js"+E,"lp-uw-embedded"))},o.onerror=function(){ue++})}function De(n,e){try{if(!n||0===n.length)return;0!==n.indexOf("https://")&&(n="https://"+n);var o=new URL(n).hostname.split(".").slice(-2).join(".");if((e||[]).indexOf(o)<0)return void _.info("Configured domain '"+n+"' is not in whitelist.",h)}catch(e){return void _.error("Error checking if configured domain '"+n+"' is in whitelist. Error message: "+e,h)}return 1}function M(e,n){i&&clearTimeout(i),c.render(null,function(){c.message(e,!0)}),n||L()||(i=setTimeout(function(){c&&c.dispose()},Y))}function Pe(e){e.chatTimeout&&(_.info("_updateChatTimeout : updating configuration with echoed chatTimeout = "+e.chatTimeout,h),C.sessionTimeout=e.chatTimeout)}function Ue(e){M(c.Messages[e&&e.errorType]||c.Messages.CONNECTION_UNAVAILABLE,e&&e.keepError)}function Ve(e){te=e&&e.errorType===lpTag.unifiedWindow.consts.errorTypes.AUTH_ERROR?W:te}function Be(e){e.focus&&P===G&&((g=g||_e()).setClickedSession(C.clickedChannel),g.getSession(Fe))}function Fe(e){e&&e.sid&&"null"!==e.sid&&I(He,!(g=null))}function Ke(){_.info("_analyzeStateOnSessionChanged",h),g&&g.getSession(e)}function e(e){e&&e.sid&&"null"!==e.sid?(j(!0),R(),I(He)):j()}function He(e,n){switch(P=n){case t.state.INVALID:_.info("_clickStateCallback: is INVALID state, nothing to do",h),M(c.Messages.IN_SESSION);break;case t.state.IN_SESSION:Ge(e.engConf);break;case t.state.NOT_STARTED:W()}}function Ge(e,n){W(n),z=!0,N(e)}function qe(){_.info("_onWindowClose",h),x&&oe&&(x.postMessage("LPExternalWindowClosed",oe),x=null),C.clickedChannel=null,k.runCallback(te)}function Je(){_.info("_seppuku",h),ge||(j(),W())}function j(e){A=!1,_.triggerEvent(_.events.APP_ENDED),i&&clearTimeout(i),P=G,g&&(g.dispose(e),g=null),f=null,m&&(m.clear(),m=null),D=D&&null,C.sessionId=null,delete C.sessionId,t=null}function Xe(){c&&c.dispose()}function W(e){q=X=!1,w&&(w.methods.end(),w=null,A=!1,_.triggerEvent(_.events.APP_ENDED)),c=null,r.trigger({appName:h,eventName:"windowClosed",global:!0}),e||ge||v||(lpTag.taglets.lpUnifiedWindow.reinitByWindowClose=!0,lpTag.newPage(document.URL))}function Ye(){W(),j()}function Ze(e){return void 0!==k.getPropertyFromObject(e,"connector.configuration.acrValues")&&delete e.connector.configuration.acrValues,e}function $e(n){var e="https://"+(O?C.acCdnDomainConsumerSdk:C.acCdnDomain)+"/api/account/"+C.accountId+"/configuration/le-connectors/all-connectors";(O?lpTag.taglets.fetch:lpTag.taglets.jsonp).issueCall({url:e,timeout:5e3,retries:0,credentials:O?"omit":void 0,cache:O&&B?B:void 0,success:function(e){e=O?e&&e.body:e;n(e)},error:function(e){_.error("_getAllConnectors - ERROR FROM SERVER",h),e&&e.cspOrNetworkError?(O=!1,$e(n)):n()}})}function Qe(e){var n=e.engConf&&e.engConf.async;"chatting"===e.state&&n&&!C.wasAuthConnectorAppliedForStepUp&&(_.info("_gotChatState: Stepping up on SPA",h),lpTag.stepUpShouldStart=!0,z=ge=!0,Ge(e.engConf,!0),ge=!1),fe&&"waiting"===e.state&&n&&(en()&&!C.wasAuthConnectorAppliedForStepUp&&(_.info("_gotChatState: Stepping up on SPA in waiting state",h),z=v=!0,Ge(e.engConf,!0)),!en())&&C.wasAuthConnectorAppliedForStepUp&&(_.info("_gotChatState: Consumer logged out. Restarting the window to show auth error",h),z=v=!0,Ge(e.engConf,!0))}function en(){return(lpTag.identities&&lpTag.identities.length)===(lpTag&&lpTag.taglets&&lpTag.taglets.lp_sms_client_api?3:2)}function nn(e){e=e&&e.configuration;return e&&"lpTag.taglets.unAuthMessaging"!==e.jsContext&&"lpTag.taglets.unAuthMessaging.lpUnauthFunction"!==e.jsMethodName}function on(e){s.setValue({key:F.stepUpInWaitingState.storageKey,site:lpTag.site,app:o,value:e,success:function(e){_.info("_setWaitingStateStepUpData: Data for StepUp in waiting state successfully set - "+JSON.stringify(e),o)},errorTimeout:function(){_.error("_setWaitingStateStepUpData: Error to set data for StepUp in waiting state",o)},appName:F.stepUpInWaitingState.appName,domain:C.secureStorageLocation,firstParty:!0})}function tn(){return C.disableResourcesPreloading}function an(e){lpTag.taglets.lpUnifiedWindow.stepUpChecked={isStepUp:e},lpTag.events.trigger({eventName:"STEPUP_CHECKED",appName:"*",data:{isStepUp:e}})}return window.addEventListener("beforeunload",function(e){x&&oe&&(x.postMessage("LPExternalWindowClosed",oe),x=null)}),{v:K,name:h,init:function(e){var n,o,t,i;if(_.setLogLevel("DEBUG"),lpTag.getExternalConfig&&(C=lpTag.getExternalConfig()),e&&e.constructor===Array){try{k.convertConfig(e,C)}catch(e){_.error("Failed to parse taglet configuration",h)}C.displayShortlyMessage=(function(){var e=C.textCustomization&&C.textCustomization[0]&&C.textCustomization[0].displayShortlyMessage;return!0===e||"true"===e})()}else e&&(C=k.cloneExtend(C,e,!0));e=C,_.info("_setSiteAndDebug: "+JSON.stringify(e),h),e.accountId=""+(e.accountId||lpTag.site),e.domain=lpTag.csds.getDomain(y.ADMIN_AREA)||lpTag.csds.getDomain(y.ALL),e.domain="hc1"===e.domain?"hc1.dev.lprnd.net":e.domain,e.env=e.env||"function"==typeof lpTag.getEnv&&lpTag.getEnv(),e.asyncMessagingDomain=lpTag.csds.getDomain(y.ASYNC_MESSAGING),e.idpDomain=lpTag.csds.getDomain(y.IDP),e.shiftStatusDomain=lpTag.csds.getDomain(y.SHIFT_STATUS),e.messagingHistoryDomain=lpTag.csds.getDomain(y.MESSAGING_HISTORY),e.debug=C.debug||C.accountId&&(0===C.accountId.indexOf("qa")||0===C.accountId.indexOf("le"))||C.domain&&0===C.domain.indexOf("hc1"),_.init({debug:C.debug,loggosLogging:C.loggosLogging}),_.info("init",h),(s=window.lpTag.taglets.lpSecureStorage).isStepUpEnabled=C&&C.isStepUpEnabled,u=new b.DeviceDetector,window&&window.opener&&(x=window.opener),C&&(fe=C.isStepUpDuringWaitingStateEnabled,O=void 0!==C.isFetchEnabled&&JSON.parse(C.isFetchEnabled),B=C.fetchCacheMode),window.lpTag.unifiedWindow.customization.deviceClass=(function(e){var n=we.NAMESPACE+"_";e.isMobile()?n+=we.MOBILE_CSS_CLASS:e.isTablet()?n+=we.TABLET_CSS_CLASS:n+=we.DESKTOP_CSS_CLASS;return n})(u),l=new lpTag.unifiedWindow.AppConfigurationManager({lpTag:lpTag,utils:lpTag.taglets.lpUtil,deviceDetector:u,queryParams:T}),(d=new lpTag.unifiedWindow.PKCEManager).init();var e=C,a=H;_.info("_initDefaultValues: "+JSON.stringify({conf:e,data:a}),h),e.leCdnDomain=De(e.leCdnDomain,$.LECDN)?e.leCdnDomain:lpTag.csds.getDomain(y.LECDN),e.acCdnDomain=De(e.acCdnDomain,$.ACCDN)?e.acCdnDomain:lpTag.csds.getDomain(y.ACCDN),e.acCdnDomainConsumerSdk=De(e.acCdnDomainConsumerSdk,$.ACCDN)?e.acCdnDomainConsumerSdk:lpTag.csds.getDomain(y.ACCDN_CONSUMER_SDK),n="https://"+e.leCdnDomain+"/",o=(i="le_unified_window")+l.getUWDir(e,K),t=n+"le_secure_storage/"+(s.v?s.v+"/":""),e.staticCodeRepository=n+(e.codeRepository||i),e.codeRepository=n+(e.codeRepository||o),e.imagesRepository=n+(e.imagesRepository||o+"/resources"),e.iconsRepository=n+(e.iconsRepository||o+"/resources/icons")+"/"+u.getDeviceFamilyName().toLowerCase(),e.audioRepository=n+(e.audioRepository||o+"/resources/audio"),e.langRepository=n+(e.langRepository||o+"/resources/i18n"),e.agentImageRepository=n+(e.agentImageRepository||o+"/resources/agentImages"),e.secureStorageLocation=e.external?s.sessionStorageStaticDomain:e.secureStorageLocation||t,e.jsRepository=n+(e.jsRepository||o+"/resources/js"),(u.isMobile()||u.isTablet())&&(a.position={right:0}),a.window.embedded=!e.external,window.addEventListener("message",function(e){e&&e.data&&"string"==typeof e.data&&-1<e.data.indexOf("LPExternalWindowClosed")&&e.origin&&e.origin===ee&&qe()},!1),a.window.embedded||(e.NativeSDK="1"==T.sdk,e.IOS="1"==T.ios),e.supportBlockCCPattern=!!lpTag.taglets.cleanCCPatterns,e.scp=e.scp||"uw",C.enableStrictCspMode&&!de&&((i=document.createElement("link")).setAttribute("rel","stylesheet"),i.setAttribute("id","lpInitialStyles"),i.setAttribute("href",C.codeRepository+"/resources/css/initialStyles.css"+E),document.querySelector("head").appendChild(i),de=!0),C.engConf&&C.engConf.offsiteEngContext&&(C.clickedChannel=l.getClickedChannel(C.engConf,!0)),p=new b.BrowserStateManager(u),r=new lpTag.unifiedWindow.Events({eventBufferLimit:0,cloneEventData:!1}),_.info("init: initial configuration: "+JSON.stringify(C),h),R(),p.on(p.EVENT_NAME.FOCUS_CHANGE,Be),r.bind({appName:"ChatStateManager",eventName:"ended",func:j}),r.bind({appName:"ConversationManager",eventName:"ended",func:W}),r.bind({appName:"Application",eventName:"appEnded",func:W}),r.bind({appName:"*",eventName:"doHaraKiri(Seppuku)",func:Xe}),r.bind({appName:"SessionManager",eventName:"sessionChanged",func:Ke}),r.bind({appName:"ChatAPIV3",eventName:"error",func:Ue}),r.bind({appName:"API",eventName:"error",func:Ue}),r.bind({appName:"API",eventName:"error",func:Ve}),r.bind({appName:"ChatStateManager",eventName:"startChatInfo",func:Pe}),r.bind({appName:"*",eventName:"forgetMe",func:j}),r.bind({appName:"*",eventName:"knockout",func:Ye}),(t=(function(e){var n;e.invalidAuthConnector?n=c.Messages.SESSION_EXPIRED:e.JsLoadingFailure?n=c.Messages.CONNECTION_UNAVAILABLE:"#RIP"===window.location.hash&&(n=c.Messages.RIP);return n})(C))?M(t,!0):(lpTag.features.getFeature("Common.Multiple_Consumer_IDP")?$e(function(e){e&&e.length&&(C.connectors=e),ve()}):ve(),tn()||(We(C.codeRepository+"/ui-framework.js"+E,"lp-ui-framework"),We(C.codeRepository+"/surveylogicinstance.min.js"+E,"lp-survey-logic")))},reinit:function(){var e=(e=l&&l.getClickedChannel)&&e({async:!0}),n=C.clickedChannel;!n||!e||n!==e&&!C.isConvoSteppedUp||C.poppedOut||C.external?C.isStepUpEnabled&&(C.isSPAStepUpEnabled&&(_.info("resetIfStepUp: checking if step up needed",h),en()||C.wasAuthConnectorAppliedForStepUp)&&w?r.trigger({appName:"*",eventName:"getChatState",data:{gotChatStateCallback:Qe}}):an(!1)):r.trigger({appName:"*",eventName:lpTag.unifiedWindow.events.chat.AUTHENTICATION_ERROR,data:{error:lpTag.unifiedWindow.consts.authErrorsTypes.LOGOUT}})},onBeforeNavigation:function(e){(e=e||{}).dispose&&Je()},startFlow:function(e){e=Ze(e),_.info("started flow: "+JSON.stringify(e),h),z=!0,e.redirect||void 0!==C.embeddedSupported?N(e):(C.startedEngConf=e,C.clickedChannel=l.getClickedChannel(e,!0))},clicked:N,inspect:function(){return _.info("inspect",h),{conf:k.clone(C)}}}})();}catch(e){lpTag.handleGeneralError("lpUnifiedWindow",e);}try{window.lpTag=lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.taglets.SMT=lpTag.taglets.SMT||function(){function a(){}var t="SMT",g="2.21.0";return{v:g,name:t,init:a}}();}catch(e){lpTag.handleGeneralError("SMT",e);}try{"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o};window.lpTag=window.lpTag||{};window.lpTag.taglets=window.lpTag.taglets||{};window.lpTag.taglets.hooks=window.lpTag.taglets.hooks||function(o){function n(){u={};k={};"undefined"!=typeof o.hooks&&o.hooks.length&&t(o.hooks);e()}function e(){o.hooks=o.taglets.hooks}function t(o){o=Array.isArray(o)?o:[o];o.forEach(function(o){if(c(o)){u[o.name]=u[o.name]||[];u[o.name].push(o.callback);o.isAsync&&(k[o.name]=o.callback)}})}function a(o){o=Array.isArray(o)?o:[o];o.forEach(function(o){c(o)&&(k[o.name]=o.callback)})}function c(n){if(!n){o.log("Hook is not defined","ERROR","hooks");return!1}if("string"!=typeof n.name){o.log("Hook name '"+n.name+"' is not a string","ERROR","hooks");return!1}if("function"!=typeof n.callback){o.log("Hook callback for '"+n.name+"' is not a function","ERROR","hooks");return!1}o.log("Hook callback for '"+n.name+"' was added successfully","INFO","hooks");return!0}function i(n){if(n&&n.name){var e=u[n.name]||[];e.forEach(function(e){if("function"==typeof e)try{var t=e(n);if("object"===("undefined"==typeof t?"undefined":_typeof(t))){n=t;o.log("Hook '"+n.name+"' returned data successfully","INFO","hooks")}else o.log("Hook '"+n.name+"' callback didn't return an object","ERROR","hooks")}catch(a){o.log("Hook callback threw an exception: "+a.message,"ERROR","hooks")}})}return n}function s(n,e,t){if(n&&n.name&&"function"==typeof e&&"function"==typeof t){var a=k[n.name];if("function"==typeof a)try{a(n,e,t);o.log("Hook '"+n.name+"' called with asynchronous callback","INFO","hooks")}catch(c){o.log("Hook callback threw an exception: "+c.message,"ERROR","hooks");t(n,c)}}else;}function f(o){return k[o]?!0:!1}var l="hooks",r="0.0.2",u={},k={};return{version:r,name:l,init:n,push:t,exec:i,pushAsync:a,execAsync:s,isHookAsync:f}}(window.lpTag);}catch(e){lpTag.handleGeneralError("hooks",e);}try{window.lpTag=window.lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.taglets.lp_SMT=lpTag.taglets.lp_SMT||function(){function e(e){if(e)for(var t=0;t<e.length;t++){var n=e[t].value;"string"==typeof n&&""!==n&&("["===n.charAt(0)||"{"===n.charAt(0))&&("undefined"!=typeof JSON&&JSON.parse?n=JSON.parse(n):s("unable to parse JSON, no JSON object on page"));b[e[t].id]=n}else l("No cfg were given on init")}function t(){b.active=!0;if(lpTag.taglets.lp_monitoringSDK.inspect().conf.baseUrl===lpTag.getDomain("ALL")){b.active=!1;s("Monitoring set to inactive! smt domain was not found")}lpTag.events.trigger(E,"MONITORING_STATE",{active:b.active});R=lpTag.events.bind("lp_monitoringSDK","SP_SENT",o);O(_.sp)}function n(){clearTimeout(d);lpTag.events.unbind(R);N&&lpTag.events.unbind(N);b.active=!1}function i(t){clearTimeout(d);lpTag.events.unbind(R);N&&lpTag.events.unbind(N);e(t)}function a(){return b.active}function o(){lpTag.isDom?O(_.pl):N=lpTag.events.bind("LPT","DOM_READY",function(){O(_.pl)})}function r(e,t){window.lpTag&&lpTag.log&&lpTag.log(e,t,E)}function s(e){r(e,"ERROR")}function g(e){r(e,"DEBUG")}function l(e){r(e,"INFO")}function p(e){lpTag.events.trigger(E,"MONITORING_REQUEST_SUCCESS",e);l("success call made by smt with the following result: "+("string"!=typeof e?JSON.stringify(e):e))}function c(e){lpTag.events.trigger(E,"MONITORING_REQUEST_ERROR",e);s("error returned to smt callback onError: "+("string"!=typeof e?JSON.stringify(e):e))}function u(e){return e.status===y.ok&&!e.error}function T(e){S(e);v();if(b.keepAliveFreq&&b.active){if(e.reqType===_.pl||e.reqType===_.ip){d=setTimeout(function(){O(_.ip)},1e3*b.keepAliveFreq);g("Next request to be issued in "+b.keepAliveFreq+"sec")}}else lpTag.taglets.lp_monitoringSDK.stop();f(u(e)?p:c,e,"Client onSuccess callback returned an error: ")}function f(e,t,n){try{e(t)}catch(i){s(n+JSON.stringify(i.message))}}function v(){b.active||lpTag.events.trigger(E,"MONITORING_STATE",{active:b.active})}function S(e){if(e.smtConf){for(var t in e.smtConf)b[t]=e.smtConf[t];delete e.smtConf}}function O(e){if(b.active){lpTag.taglets.lp_monitoringSDK[e](function(t){t.status=y.ok;t.reqType=e;T(t)},function(t){t.status=y.err;t.reqType=e;T(t)});g("Sending"+e+"request")}else{lpTag.events.trigger(E,"MONITORING_REQUEST_ERROR",{message:"Monitoring is set to inactive, not sending any requests",status:"ERROR",reqType:e});l("Monitoring is set to inactive, not sending any requests")}}var d,R,N,m="3.6.1",E="lp_SMT",_={sp:"startPage",pl:"pageLoaded",ip:"inPage"},y={err:"ERROR",ok:"OK"},b={keepAliveFreq:10,active:!0};return{v:m,name:E,inspect:function(){return b},init:e,start:t,reinit:i,restart:t,stop:n,isActive:a}}();}catch(e){lpTag.handleGeneralError("lp_SMT",e);}try{window.lpTag=window.lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.taglets.authenticator=lpTag.taglets.authenticator||function(){function t(){lpTag.log("authenticator init called","DEBUG","authenticator")}function e(t,e,i){return t.type===f.OAUTH_IMPLICIT||t.type===f.OAUTH_CODE?n(t,e,i):a(t,e,i)}function n(t,e,n){var a,r,l=o(n),u=i(e,l);t=t||{configuration:{clientId:lpTag.site}};var c={callback:u,clientId:t.configuration.clientId};lpTag.log("_getOAuthSSOKey: "+s,"DEBUG","authenticator");if(t.type&&t.type===f.OAUTH_IMPLICIT&&"lpTag.taglets.unAuthMessaging"===t.configuration.jsContext&&"lpTag.taglets.unAuthMessaging.lpUnauthFunction"===t.configuration.jsMethodName&&lpTag.taglets.unAuthMessaging&&lpTag.taglets.unAuthMessaging.jsMethodExtended)lpTag.taglets.lpUtil.runCallbackByObject(t.configuration,c,l);else if(t.code_challenge){a=lpTag.taglets.lpUtil.getPropertyFromObject(window,t.configuration.jsContext);r=lpTag.taglets.lpUtil.getPropertyFromObject(window,t.configuration.jsMethodName);r.call(a,c.callback,t.code_challenge)}else lpTag.taglets.lpUtil.runCallbackByObject(t.configuration,c.callback,l)}function a(t,e,n){lpTag.log("_getServer2ServerSSOKey"+s,"DEBUG","authenticator");lpTag.taglets.xhr.issueCall({url:t.configuration.genKeyUrl,method:"GET",query:{rt:"json"},retries:p.retries,timeout:p.timeout,success:r(e),error:o(n)})}function i(t,e){return function(n,a){var i=null===a||"undefined"==typeof a;if(i&&n){var o,r;if("object"==typeof n){o=n.ssoKey;r=n.redirect_uri}else o=n;t({ssoKey:o,redirect_uri:r})}else e()}}function o(t){return function(e){c=!0;"function"==typeof t&&t(e)}}function r(t){return function(e){t(e.body||{})}}function l(){return c?!0:!1}function u(){var t={name:s,ssoKeyGenTransport:{timeout:p.timeout,retries:p.retries}};return t}var c,g="0.3.0",s="authenticator",p={timeout:3e4,retries:3,successResponseCode:201},f={S2S:0,OAUTH_IMPLICIT:1,OAUTH_CODE:2};return{v:g,init:t,getSSOKey:e,isErroneous:l,inspect:u}}();}catch(e){lpTag.handleGeneralError("authenticator",e);}try{window.lpTag=window.lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.unifiedWindow=lpTag.unifiedWindow||{};lpTag.taglets.lpUtil=lpTag.taglets.lpUtil||function(){function t(t,e){if("function"==typeof[].indexOf&&"function"==typeof t.indexOf)return t.indexOf(e);if(t.constructor===Array)for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1}function e(t){return"string"!=typeof t?t:t.trim?t.trim():t.replace(/^\s+|\s+$/gm,"")}function n(t){if("string"!=typeof t)return t;var n=e(t);return n.toLowerCase()}function r(t,e){var n=new RegExp(/((?:http|ftp|ws){1}s{0,1}?:\/\/){0,1}([^\/\?\/:]+)(\/?)/gi),r=n.exec(t),o=null;if(r&&r.length>=3&&""!==r[2]){o=r[2].toLowerCase();e&&(o=r[1]+o)}return o}function o(t){var e,n,r={};if("string"==typeof t){e=t.substr(1).split("&");for(var o=0;o<e.length;o++)if(e[o].indexOf("=")>-0){n=e[o].split("=");2==n.length&&(r[decodeURIComponent(n[0])]=decodeURIComponent(n[1]))}}return r}function a(t){t=""+t;var e,n,o=null,a={top:null,country:null};t=r(t);e=t.split(".");if(e.length<3)return t;for(var s=e.length-1,c=s;c>-1;c--){l(e[c],a,c);if(null!==a.country&&null!==a.top)break}if(null!==a.top||null!==a.country){o=a.top;(null===o||null!==a.country&&a.country<o&&o-1===a.country)&&(o=a.country);n=o>0?o-1:o;return i(e.slice(n))}return t}function i(t){return t.join(".")}function l(t,e,n){t=""+t;null===e.top&&(q.topLevelDomain[t]||q.customTopLevelDomain[t])?e.top=n:null===e.country&&q.countryTopLevelDomain[t]&&(e.country=n)}function s(t,e){var n=/(\?|&|\/|\\)$/;if("string"==typeof t&&t.length>0){n.test(t)&&(t=t.substr(0,t.length-1));if(Array.isArray(e))return c(t,e);if(m(e))return u(t,e);if("object"==typeof e)return g(t,e)}return t}function c(t,e){for(var n,r=t,o=0;o<e.length;o++){n=e[o];if(!r||"object"!=typeof n)break;r=u(r,n)}return r}function u(t,e){return p(t,e)?f(t,e.key,e.value):t}function g(t,e){for(var n in e)e.hasOwnProperty(n)&&(t=f(t,n,e[n]));return t}function f(t,e,n){var r=new RegExp("([?&])"+e+"=.*?(&|$)","ig"),o=-1===t.indexOf("?")?"?":"&";if("object"==typeof n)try{n=JSON.stringify(n)}catch(a){}return t.match(r)?t.replace(r,"$1"+e+"="+n+"$2"):t+o+e+"="+n}function p(t,e){return"string"==typeof t&&t.length>0&&m(e)}function m(t){var e=t&&t.key,n=t&&t.value;return t&&"string"==typeof e&&e.length>0&&("number"==typeof n||"string"==typeof n&&n.length>0)}function d(t,e,n){var r;if(!t||"object"!=typeof t)return t;if(!e)return y(t);r=e||t.constructor()||{};for(var o in t)r[o]!==t[o]&&t.hasOwnProperty(o)&&(r[o]=n?d(t[o],void 0,n):t[o]);return r}function y(t){try{return JSON.parse(x(t))}catch(e){lpTag.log("unable to clone object:"+JSON.stringify(e),"ERROR",I);return}}function h(t,e){if("undefined"!=typeof e){if(t)for(var n=0;n<t.length;n++){var r=t[n].value;if("string"==typeof r&&""!==r)if("true"===r)r=!0;else if("false"===r)r=!1;else if("["==r.charAt(0)||"{"==r.charAt(0))try{r=JSON.parse(r)}catch(o){lpTag.log("unable to parse JSON:"+JSON.stringify(o),"ERROR",I)}e[t[n].id]=r}}else lpTag.log("_config is passed as undefined","ERROR",I)}function v(t,e){if(t&&"string"==typeof t){e=e||{};var n,r=e.document||window.document,o=e.id;if("undefined"!=typeof o){n=r.getElementById(o)||r.createElement("style");n.id=o}else n=r.createElement("style");n.type="text/css";r.getElementsByTagName("head")[0].appendChild(n);n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t));return n}}function b(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=n);return e}function w(t,e){function n(){o.body?R(t,r):setTimeout(n,50)}e=e||{};var r=e.context,o=e.document||window.document;n()}function x(t){var e,n;if("function"==typeof Array.prototype.toJSON){n=Array.prototype.toJSON;delete Array.prototype.toJSON;try{e=JSON.stringify(t)}catch(r){Array.prototype.toJSON=n;throw r}Array.prototype.toJSON=n}else e=JSON.stringify(t);return e}function k(){var t="tttttttt-tttt-4ttt-fttt-t7ttttttttttt".replace(/[tf]/g,function(t){var e=16*Math.random()|0,n="t"==t?e:3&e|8;return n.toString(16)});return t+"-"+Math.floor(1e5*Math.random())}function R(t,e){e=e||window;if("function"==typeof t){var n=Array.prototype.slice.call(arguments,2);try{return t.apply(e,n)}catch(r){lpTag.log("Failed to execute callback exc= "+r.message,"ERROR",I)}}}function O(t,e,n){if("function"==typeof C){t=t||{};var r=C(window,t.jsContext),o=C(window,t.jsMethodName);if("function"!=typeof o){lpTag.log("runCallbackByObject err=function "+t.jsMethodName+" was not found","ERROR","utils");n()}else{lpTag.log("runCallbackByObject calling function "+t.jsMethodName,"DEBUG","utils");o.call(r,e)}}else lpTag.log("lpTag.taglets.lpUtil.getPropertyFromObject is not a function","ERROR","utils")}function j(t,e,n){t&&e&&n&&(t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n))}function T(t,e,n){t&&e&&n&&(t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent("on"+e,n))}function E(e,n,r){var o,a;e="string"==typeof e?e:"";o=e.split(" ");a=n&&n.constructor===Array?n:"string"==typeof n?[n]:[];r=r&&r.constructor===Array?r:"string"==typeof r?[r]:[];for(var i=0;i<o.length;i++)t(r,o[i])<0&&t(a,o[i])<0&&a.push(o[i]);return a.join(" ").replace(/$\s/gi,"")}function z(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function C(t,e,n){var r,o=t;if("string"==typeof e){r=e.split(".");for(var a=0;a<r.length;a++){if("undefined"==typeof o||null===o||"undefined"==typeof o[r[a]]||null===o[r[a]]){o="undefined"!=typeof n?n:void 0;break}o=o[r[a]]}}else lpTag.log("Empty path sent to lookup getPropertyFromObject","DEBUG","utils");return o}function N(t,e){if(t.className.indexOf(e)<0){t.className=[t.className,e].join(" ");t.className=S(t.className)}}function A(t,e){t.className=t.className.replace(new RegExp(e,"g"),"");t.className=S(t.className)}function S(t){return e(t.replace(/\s\s*/g," "))}function P(t,e,n){var r={};if(t&&"string"==typeof t){n&&(t=decodeURIComponent(t));for(var o,a=t.split(e),i=0;i<a.length;i++){o=a[i].split("=");r[o[0]]=o[1]}}return r}function U(t){var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return t?t.replace(/[&<>"'`=\/]/g,function(t){return e[t]}):void 0}var I="Utils",q={customTopLevelDomain:{aero:"aero",asia:"asia",bike:"bike",biz:"biz",camera:"camera",cat:"cat",clothing:"clothing",coop:"coop",equipment:"equipment",estate:"estate",eus:"eus",gallery:"gallery",graphics:"graphics",guru:"guru",info:"info","int":"int",holdings:"holdings",jobs:"jobs",lighting:"lighting",mobi:"mobi",museum:"museum",name:"name",photography:"photography",plumbing:"plumbing",post:"post",pro:"pro",singles:"singles",tel:"tel",travel:"travel",ventures:"ventures",xxx:"xxx"},topLevelDomain:{ac:"ac",co:"co",com:"com",edu:"edu",gov:"gov",mil:"mil",net:"net",org:"org"},countryTopLevelDomain:{ac:"ac",ad:"ad",ae:"ae",af:"af",ag:"ag",ai:"ai",al:"al",am:"am",an:"an",ao:"ao",aq:"aq",ar:"ar",as:"as",at:"at",au:"au",aw:"aw",ax:"ax",az:"az",ba:"ba",bb:"bb",bd:"bd",be:"be",bf:"bf",bg:"bg",bh:"bh",bi:"bi",bj:"bj",bm:"bm",bn:"bn",bo:"bo",bq:"bq",br:"br",bs:"bs",bt:"bt",bv:"bv",bw:"bw",by:"by",bz:"bz",bzh:"bzh",ca:"ca",cc:"cc",cd:"cd",cf:"cf",cg:"cg",ch:"ch",ci:"ci",ck:"ck",cl:"cl",cm:"cm",cn:"cn",co:"co",cr:"cr",cs:"cs",cu:"cu",cv:"cv",cw:"cw",cx:"cx",cy:"cy",cz:"cz",dd:"dd",de:"de",dj:"dj",dk:"dk",dm:"dm","do":"do",dz:"dz",ec:"ec",ee:"ee",eg:"eg",eh:"eh",er:"er",es:"es",et:"et",eu:"eu",fi:"fi",fj:"fj",fk:"fk",fm:"fm",fo:"fo",fr:"fr",ga:"ga",gb:"gb",gd:"gd",ge:"ge",gf:"gf",gg:"gg",gh:"gh",gi:"gi",gl:"gl",gm:"gm",gn:"gn",gp:"gp",gq:"gq",gr:"gr",gs:"gs",gt:"gt",gu:"gu",gw:"gw",gy:"gy",hk:"hk",hm:"hm",hn:"hn",hr:"hr",ht:"ht",hu:"hu",id:"id",ie:"ie",il:"il",im:"im","in":"in",io:"io",iq:"iq",ir:"ir",is:"is",it:"it",je:"je",jm:"jm",jo:"jo",jp:"jp",ke:"ke",kg:"kg",kh:"kh",ki:"ki",km:"km",kn:"kn",kp:"kp",kr:"kr","krd:":"krd",kw:"kw",ky:"ky",kz:"kz",la:"la",lb:"lb",lc:"lc",li:"li",lk:"lk",lr:"lr",ls:"ls",lt:"lt",lu:"lu",lv:"lv",ly:"ly",ma:"ma",mc:"mc",md:"md",me:"me",mg:"mg",mh:"mh",mk:"mk",ml:"ml",mm:"mm",mn:"mn",mo:"mo",mp:"mp",mq:"mq",mr:"mr",ms:"ms",mt:"mt",mu:"mu",mv:"mv",mw:"mw",mx:"mx",my:"my",mz:"mz",na:"na",nc:"nc",ne:"ne",nf:"nf",ng:"ng",ni:"ni",nl:"nl",no:"no",np:"np",nr:"nr",nu:"nu",nz:"nz",om:"om",pa:"pa",pe:"pe",pf:"pf",pg:"pg",ph:"ph",pk:"pk",pl:"pl",pm:"pm",pn:"pn",pr:"pr",ps:"ps",pt:"pt",pw:"pw",py:"py",qa:"qa",re:"re",ro:"ro",rs:"rs",ru:"ru",rw:"rw",sa:"sa",sb:"sb",sc:"sc",sd:"sd",se:"se",sg:"sg",sh:"sh",si:"si",sj:"sj",sk:"sk",sl:"sl",sm:"sm",sn:"sn",so:"so",sr:"sr",ss:"ss",st:"st",su:"su",sv:"sv",sx:"sx",sy:"sy",sz:"sz",tc:"tc",td:"td",tf:"tf",tg:"tg",th:"th",tj:"tj",tk:"tk",tl:"tl",tm:"tm",tn:"tn",to:"to",tp:"tp",tr:"tr",tt:"tt",tv:"tv",tw:"tw",tz:"tz",ua:"ua",ug:"ug",uk:"uk",us:"us",uy:"uy",uz:"uz",va:"va",vc:"vc",ve:"ve",vg:"vg",vi:"vi",vn:"vn",vu:"vu",wf:"wf",ws:"ws",ye:"ye",yt:"yt",yu:"yu",za:"za",zm:"zm",zr:"zr"}},D={delimiter:"|",set:function(t,e,n){if("string"==typeof t&&e.join&&"function"==typeof e.join){var r=encodeURIComponent(t)+"="+encodeURIComponent(e.join(this.delimiter))+";path=/";"undefined"!=typeof n&&(r+=";domain="+n);document.cookie=r;return!0}},get:function(t){var e="\\$&";if("string"==typeof t){var n=document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(t).replace(/[\-\.\+\*]/g,e)+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1")||null;if("string"==typeof n){var r=decodeURIComponent(n);if(r)return r.split(this.delimiter)}}},remove:function(t,e){if("string"==typeof t){this.set(t,["null"],e);return!0}}};return{indexOf:t,trim:e,trimAndLower:n,getDomain:r,getURLParams:o,getParentDomain:a,addQueryParams:s,cloneExtend:d,clone:y,convertConfig:h,addStyleTag:v,objectKeys:b,waitForBody:w,stringify:x,cookieActions:D,getUID:k,runCallback:R,runCallbackByObject:O,registerEvent:j,unregisterEvent:T,buildClassString:E,isEmpty:z,getPropertyFromObject:C,addClass:N,removeClass:A,mapString:P,escapeHtml:U}}();window.lpTag=window.lpTag||{};window.lpTag.taglets=window.lpTag.taglets||{};window.lpTag.taglets.cleanCCPatterns=window.lpTag.taglets.cleanCCPatterns||function(){function t(t){c("init configuration","INFO");x=!0;o(t)}function e(t,e){if("string"==typeof t&&Array.isArray(w)){e=e||{};w.forEach(function(r){try{t=n(t,r,e.replaceValue)}catch(o){c("clean: clean execution failed","ERROR")}})}return t}function n(t,e,n){var o=t;n=""+r(n);if("string"==typeof t){var a,i=[],l=0,s=e.pattern===h;e.pattern.lastIndex=0;for(;null!==(a=e.pattern.exec(o))&&""!==a[0];)if(!s||u(a[0])){i.push({matchedText:a[0],index:a.index});if(!e.pattern.global)break}for(var c=0;c<i.length;++c){var g;e.replacePattern.lastIndex=0;var f,p=i[c].matchedText,m=0,d=RegExp(/\d/),y=t.indexOf(p)-1;f=y>0?y+p.length+1:p.length;if(e.pattern!==h||!d.test(t.charAt(y))&&!d.test(t.charAt(f))){for(;null!==(g=e.replacePattern.exec(i[c].matchedText))&&""!==g[0];){p=p.substring(0,g.index+m)+n+p.substring(g.index+g[0].length+m);m+=n.length-g[0].length;if(!e.replacePattern.global)break}o=o.substring(0,i[c].index+l)+p+o.substring(i[c].index+i[c].matchedText.length+l);l+=p.length-i[c].matchedText.length}}}return o}function r(t){return"string"==typeof t||!isNaN(t)&&"number"==typeof t?t:b}function o(t){var e=[],n={};try{m.convertConfig(t,n)}catch(r){c("_setConfigParameters: Failed to convert configuration","ERROR")}n=n.ccPatterns&&n.ccPatterns[0];if(n){x="false"===n.useDefault||n.useDefault===!1?!1:!0;e=Array.isArray(n.patternsArray)?n.patternsArray:e;k="true"===n.trueGlobalTag||n.trueGlobalTag===!0}x&&e.push(h);w=a(e)}function a(t){var e=[];Array.isArray(t)&&t.forEach(function(t){t=i(t);t&&e.push(t)});return e}function i(t){var e,n,r;if(t&&"string"==typeof t.pattern){e=t.pattern;n=t.replacePattern||t.pattern}else{e=t;n=v}e=l(e);n=l(n);s(n)||(n=e);s(e)&&(r={pattern:e,replacePattern:n});return r}function l(t){var e;if(s(t))e=t;else if("string"==typeof t){t=g(t);var n,r,o=t.lastIndexOf("/"),a=t.indexOf("/");if(0===a&&o>a){n=t.slice(a+1,o);r=t.slice(o+1);r=r.replace(y,"");if(d.test(r))try{e=new RegExp(n,r)}catch(i){c("_getRegexFromString: failed create regex: "+t,"ERROR")}else c("_getRegexFromString: regex flags are invalid: "+t,"ERROR")}else c("_getRegexFromString: regex pattern is not valid: "+t,"ERROR")}return e}function s(t){return t&&t.constructor===RegExp}function c(t,e){lpTag.log&&lpTag.log(t,e,p)}function u(t){if(/[^0-9-\s]+/.test(t))return!1;var e=0,n=!1;t=t.replace(/\D/g,"");for(var r=t.length-1;r>=0;r--){var o=t.charAt(r),a=parseInt(o,10);n&&(a*=2)>9&&(a-=9);e+=a;n=!n}return e%10===0}function g(t){try{return decodeURIComponent(t)}catch(e){return decodeURIComponent(window.escape(t))}}var f="1.6",p="cleanCCPatterns",m=lpTag.taglets.lpUtil,d=/^[gmi]{0,3}$/,y=/(.)(?=.*\1)/g,h=/(?:4[0-9]{3}((([-\s.]*[0-9]{4}){3})|(([-\s.]*[0-9]{3}){3}))|5[1-5][0-9]{2}([-\s.]*[0-9]{4}){3}|6(?:011|5[0-9]{2})([-\s.]*[0-9]{4}){3}|3[47][0-9]{2}[-\s.]*[0-9]{6}[-\s.]*[0-9]{5}|3(?:0[0-5]|[68][0-9])[0-9][-\s.]*[0-9]{6}[-\s.]*[0-9]{4}|((?:2131|1800)[-\s.]*[0-9]{6}[-\s.]*[0-9]{5})|(35[0-9]{2}([-\s.]*[0-9]{4}){3}))/g,v=/[0-9]/g,b="*",w=[],x=!0,k=!1;return{version:f,name:p,init:t,clean:e}}();}catch(e){lpTag.handleGeneralError("cleanCCPatterns",e);}try{window.lpTag.taglets.LPMONITOR={_v:1,_name:"LPMONITOR",init:function(){"undefined"==typeof lpMTagConfig&&(window.lpMTagConfig={});lpMTagConfig.lpServer=lpTag.getDomain("LPMONITOR");lpMTagConfig.lpNumber=lpTag.site;lpMTagConfig.lpProtocol=lpTag.protocol.replace(":","");window.lpAddMonitorTag=function(g){if("undefined"==typeof g||"object"==typeof g)if("undefined"==typeof lpMTagConfig.pluginSys||lpMTagConfig.pluginsLoaded)g=lpMTagConfig.lpMTagSrc?lpMTagConfig.lpMTagSrc:"/hcp/html/mTag.js";else{g=lpMTagConfig.pluginSys;lpMTagConfig.pluginsLoaded=!0}if(0!=g.indexOf("http"))g=lpMTagConfig.lpProtocol+"://"+lpMTagConfig.lpServer+g+"?site="+lpMTagConfig.lpNumber;else if(g.indexOf("site=")<0){g+=g.indexOf("?")<0?"?":"&";g=g+"site="+lpMTagConfig.lpNumber}lpTag.load(g,"iso-8859-1")};lpTag.isDom?lpAddMonitorTag():lpTag.events.bind("LPT","DOM_READY",lpAddMonitorTag)}};}catch(e){lpTag.handleGeneralError("LPMONITOR",e);}try{function _typeof(e){"@babel/helpers - typeof";return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(t){_defineProperty(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _defineProperty(e,t,n){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==_typeof(t)?t:t+""}function _toPrimitive(e,t){if("object"!=_typeof(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}window.lpTag=window.lpTag||{};window.lpTag.taglets=window.lpTag.taglets||{};window.lpTag.taglets.unAuthMessaging=window.lpTag.taglets.unAuthMessaging||function(){function e(e,t,n){window.lpTag&&window.lpTag.log&&window.lpTag.log("".concat(n,": ").concat(e),t,pe)}function t(t){if(t){var n=t.split(".");if(n.length>=2)try{return JSON.parse(window.atob(n[1]))}catch(a){e("error parsing jwt","ERROR","getPayloadFromJWT")}}return{}}function n(e){return t(e).sub}function a(e){if(e&&e.aud){if(0===e.aud.indexOf("acc:")){var t=e.aud.substring(4);return"undefined"===t?"":t}if("undefined"!==e.aud)return e.aud}return""}function r(e){return a(t(e))}function o(e){var n=t(e);return n&&n.exp?n.exp:0}function i(e,t){if(lpTag.sdes&&e&&e.length>0&&Oe!==e&&!lpTag.identitiesSupport){Oe=e;lpTag.sdes.push({type:we.names.sdeType,id:e,account:t})}}function c(e,t){t&&i(t,e);if(De){var n={iss:"LivePerson",acr:"0"};e&&(n.account=e);t&&(n.sub=t);Ce.push(n);if(Ne<=Ce.length){De(Ce);De=null}}}function s(e){return e===Ee.accountId?we.names.secureStorageKey:"".concat(we.names.secureStorageKey,"_").concat(e)}function u(e,t,n){var a=s(t||Ee.convOwnerAccountId);window.lpTag.taglets.lpSecureStorage.getValue({key:a,site:Ee.accountId,app:pe,success:function(t){var a=o(n),r=o(t);e(r>=a?t:n)},error:function(){e(n)},appName:pe,domain:Ee.secureStorageLocation,firstParty:!1})}function l(e,t,n){var a=s(n||Ee.convOwnerAccountId);window.lpTag.taglets.lpSecureStorage.getValue({key:a,site:Ee.accountId,app:pe,success:function(t){var a,r=lpTag.taglets.lpSecureStorage;"function"==typeof r.isFirstPartyStorageFeatureEnabled&&(a=r.isFirstPartyStorageFeatureEnabled());t&&a?u(e,n,t):e(t)},error:function(){Ne-=1;t()},appName:pe,domain:Ee.secureStorageLocation,firstParty:!0})}function d(e,t,n){if(e){var a=Object.keys(e);Ne=a.length;Ce=[];a.forEach(function(e){l(t,n,e)})}else{Ne=1;l(t,n)}}function f(e,t){window.lpTag.taglets.lpSecureStorage.getValue({key:we.names.storedAccountIdentitiesDictionaryKey,site:Ee.accountId,app:pe,success:function(n){d(n,e,t)},error:t,appName:pe,domain:Ee.secureStorageLocation,firstParty:!0})}function p(e){var t=_objectSpread({},e);if(Ee.useCaptcha){t.data=e.data||{};t.data.recaptcha={};t.data.recaptcha[we.names.captchaResponse]=window.grecaptcha&&window.grecaptcha.getResponse()}return t}function g(e){var t=Ue?window.lpTag.taglets.fetch:window.lpTag.taglets.postmessage,n=p(e);t.issueCall(n)}function h(e){window.lpTag.taglets.postmessage.configure({frames:{url:we.endPoints.postmessageConfigureFrameURL({domain:e})}})}function w(t){e(t,"ERROR","handleError");if(Ee.success){Ee.success(null,t);delete Ee.success}}function m(e){for(var t,n=e.search,a={},r=n.substr(1).split("&"),o=0;o<r.length;o+=1)if(r[o].indexOf("=")>-1){t=r[o].split("=");if(2===t.length)try{var i=decodeURIComponent(t[0]);a[i]=decodeURIComponent(t[1])}catch(c){w("Unable to parse params from UW config")}}return a}function y(e){var t={};if(e){var n=document.createElement("a");n.href=e;t=m(n)}return t}function v(e){var t;if(e.state)try{t=JSON.parse(e.state);if(t.lpUnifiedWindowConfig)return t.lpUnifiedWindowConfig;t=null}catch(n){t=null}!t&&e.redirect_uri&&(t=y(e.redirect_uri));if(t&&t.lpUnifiedWindowConfig)switch(_typeof(t.lpUnifiedWindowConfig)){case"string":try{t=JSON.parse(t.lpUnifiedWindowConfig)}catch(n){w("Couldn't parse unified window config")}break;case"object":t=t.lpUnifiedWindowConfig}return t}function T(t){if(t&&t.constructor===Array)try{le.convertConfig(t,Ee)}catch(n){e("Failed to parse taglet configuration: ".concat(n.message),"ERROR","convertTagletConfig")}else t&&(Ee=le.cloneExtend(Ee,t,!0))}function I(e){if(Re)e();else{Re=!0;var t={debug:!1};t[pe]={site:Ee.accountId,env:!0,app:pe,url:Ee.secureStorageLocation,chosenStorageHandler:e,firstParty:!0};window.lpTag.taglets.lpSecureStorage.configure(t)}}function S(){window.lpTag.redirect=window.lpTag.redirect||function(e){window.location.href=e}}function O(e){var t=window.lpTag.taglets.lpSecureStorage.v;return"https://".concat(e,"/le_secure_storage/").concat(t?"".concat(t,"/"):"")}function R(e){var t=lpTag&&lpTag.csds&&lpTag.csds.getDomain(we.names.csdsIDP),n=lpTag&&lpTag.csds&&lpTag.csds.getDomain(we.names.leCdnDomain);n=n?O(n):!1;if(e){Ee.useCaptcha=e.useCaptcha;Ee.env=e.env||we.envType.PRODUCTION;Ee.success=e.success;Ee.error=w;Ee.state=e.state;Ee.IDPDomain=e.IDPDomain||t;Ee.accountId=lpTag&&lpTag.site||e.accountId;Ee.secureStorageLocation=n||window.lpTag.taglets.lpSecureStorage.sessionStorageStaticDomain;Ee.redirect_uri=e.redirect_uri;Ee.isExternal=e.isExternal;Ee.language=e.language||we.defaultLanguage;Ee.convOwnerAccountId=e.convOwnerAccountId||Ee.accountId}return Ee.success&&(Ee.IDPDomain||Ee.isExternal)&&Ee.accountId&&Ee.secureStorageLocation}function b(e,t){var n=t||{};n[e]=s(e);window.lpTag.taglets.lpSecureStorage.setValue({key:we.names.storedAccountIdentitiesDictionaryKey,site:Ee.accountId,app:pe,value:n,success:function(){},error:function(){},appName:pe,domain:Ee.secureStorageLocation,firstParty:!0})}function E(e){window.lpTag.taglets.lpSecureStorage.getValue({key:we.names.storedAccountIdentitiesDictionaryKey,site:Ee.accountId,app:pe,success:function(t){b(e,t)},error:function(){b(e,{})},appName:pe,domain:Ee.secureStorageLocation,firstParty:!0})}function D(e,t){var n=s(e),a=(new Date).getTime();Ae&&Ae.setSessionData(n,a);window.lpTag.taglets.lpSecureStorage.setValue({key:n,site:Ee.accountId,app:pe,value:t,success:function(){Te[e]=me.READY},error:function(){Te[e]=me.NONE},appName:pe,domain:Ee.secureStorageLocation,ttl:Ie,firstParty:!0});E(e)}function N(e){var n=e&&e.body&&e.body.token;if(n){var r=t(n),o=a(r);de=n;D(o,n);c(o,r.sub);if(Ee.success&&o===Ee.convOwnerAccountId){Ee.success(n);delete Ee.success}}else{Te[Ee.convOwnerAccountId]=me.NONE;Ee.error("Couldn't get JWT from ".concat(Ee.IDPDomain))}}function C(){Te[Ee.convOwnerAccountId]=me.PENDING;var e=function(e){if(e&&e.cspOrNetworkError){Ue=!1;C()}else{Te[Ee.convOwnerAccountId]=me.NONE;Ee&&Ee.error&&Ee.error(e)}},t={url:we.endPoints.unAuthJWT(Ee),method:"POST",error:e,success:N};if(Ue){t.headers=t.headers||{};t.headers["Content-Type"]="application/json"}else h(Ee.IDPDomain);g(t)}function P(e){Se=we.refreshJwtRetryAttempts;var n=e&&e.body&&e.body.token;if(n){var r=t(n),o=a(r);de=n;e.usingJWTFromSecureStorage||D(o,n);c(o,r.sub);if(Ee.success){Ee.success(n);delete Ee.success}}else C()}function A(t,n,a){if(0>=Se){e("The amount of token refresh attempts has reached its limit, requesting a fresh token","INFO","retryJWTRefresh");Se=we.refreshJwtRetryAttempts;C()}else{var r=a&&a.body&&a.body.internalErrorCode;if(ye.SHOULD_REQUEST_NEW_TOKEN_ERRORS.indexOf(r)>-1){Se=we.refreshJwtRetryAttempts;C()}else{Se-=1;e("Retrying to refresh the token #".concat(we.refreshJwtRetryAttempts-Se),"INFO","retryJWTRefresh");setTimeout(function(){Te[t]=me.RETRY;j(n)},1e3)}}}function U(e){return Te[e]!==me.PENDING}function _(e){return Te[e]!==me.PENDING&&Te[e]!==me.NONE}function j(t){var n=r(t);n||e("jwtAccountId is invalid","ERROR","refreshJWT");var a=!0,i=parseInt(Ee.jwtRefreshMilliseconds,10);if(i){var c=s(n),u=Ae?Ae.getSessionData(c)||1:1;a=(new Date).getTime()-u>=i}else a=Date.now()>=1e3*o(t);e("Is JWT refresh needed?: ".concat(a),"INFO","refreshJWT");if(U(n)&&a){Te[n]=me.PENDING;setTimeout(function(){U(n)||(Te[n]=me.NONE)},1e4);var l={url:we.endPoints.unAuthJWT({IDPDomain:Ee.IDPDomain,convOwnerAccountId:n,accountId:lpTag&&lpTag.site}),method:"POST",data:{id_token:t},error:function(e){if(e&&e.cspOrNetworkError){Ue=!1;Te[n]=me.INIT;j(t)}else A(n,t,e)},success:P};if(Ue){l.headers=l.headers||{};l.headers["Content-Type"]="application/json"}else h(Ee.IDPDomain);g(l)}else U(n)&&!a&&P({body:{token:t},usingJWTFromSecureStorage:!0})}function k(e,t,n,a){var r=ve[t];if(!U(n)&&r){var o=t+1;setTimeout(function(){return k(e,o)},r)}else a?l(function(e){return a(e)},C,n):l(function(e){return P({body:{token:e}})},C,n)}function J(e){if(e){if("string"!=typeof e)C();else if(e){var t=r(e);U(t)?j(e):k(e,0,t)}}else C()}function L(e){var t=W(window.location.href).lpjwt||m(window.location).lpjwt;t&&(e=t);if(e){var n=r(e);U(n)?j(e):k(e,0,n)}else c()}function W(e){function t(e){return e.replace(/[^a-zA-Z0-9._-]/g,"")}try{var n=new URL(e),a=n.hash.substring(1),r=new URLSearchParams(a),o={};r.forEach(function(e,n){var a=t(n),r=t(e);o[a]=r});return o}catch(i){return{}}}function x(){var e=W(window.location.href).lpjwt||m(window.location).lpjwt;e?j(e):_(Ee.convOwnerAccountId)?l(J,C):k(null,0,Ee.convOwnerAccountId,j)}function F(t){e("The selected storage is ".concat(t,"."),"INFO","initGetAllJwtsFromSecureStorage");t&&(be=!0);De&&be&&f(L,c.bind(this,null))}function K(e){F(e||"NONE")}function M(t){De=function(n){t(n);e("Identity callback called with payload: ".concat(JSON.stringify(n||{}),"."),"INFO","verifyIdentity")};F()}function B(){Ee={}}function G(t){le=lpTag.taglets.lpUtil;Oe="";Ne=1;Ce=[];lpTag.identities=lpTag.identities||[];lpTag.identities.push(M);t&&t.shouldResetConfiguration&&B();T(t);R({});Ue=void 0!==Ee.isFetchEnabled?JSON.parse(Ee.isFetchEnabled):!1;fe=Ee.fetchCacheMode;Te[Ee.convOwnerAccountId]=me.INIT;I(K);e("Initialized with configuration ".concat(JSON.stringify(Ee||{})),"INFO","init")}function z(e){if(e&&R({success:e.callback||e,convOwnerAccountId:e.clientId})){Oe="";x()}}function V(e,t){return e.filter(function(e){return e.service===t})}function H(){return Ee.env===we.envType.DEV||Ee.env===we.envType.QA?we.domains.csdsQA:we.domains.csdsGA}function Q(){var e=H(),t=Ue?window.lpTag.taglets.fetch:window.lpTag.taglets.jsonp,n={url:we.endPoints.csds({csdsDomain:e,accountId:Ee.accountId}),method:"GET",credentials:Ue?"omit":void 0,cache:Ue&&fe?fe:void 0,error:function(e){if(e&&e.cspOrNetworkError){Ue=!1;Q()}else window.lpTag.taglets.unAuthMessaging.lpUnauthCsds(e)},success:window.lpTag.taglets.unAuthMessaging.lpUnauthCsds};t.issueCall(n)}function Y(e){return e&&e.engConf&&e.engConf.lang||we.defaultLanguage}function q(){var e=window.grecaptcha&&"function"==typeof window.grecaptcha.getResponse&&window.grecaptcha.getResponse();if(e&&e.length>0){Ee[we.names.captchaResponse]=e;Q()}}function Z(){if(Ee.useCaptcha){var e=document.getElementById("captchaContainer"),t=document.getElementById("reCaptchaSubmit");e&&(e.style.display="flex");t&&(t.onclick=q)}}function X(e){var t=e,n=document.getElementById("reCaptchaTitle"),a=document.getElementById("reCaptchaSubmit"),r=document.getElementById("reCaptchaCancel");window.translations[t]||(t="en-US");if(n&&r&&a){n.innerText=window.translations[t].message_us;a.innerText=window.translations[t].next;r.innerText=window.translations[t].close}}function $(e){return!(!e||!e.useRecaptcha)}function ee(t,n){try{if(!t||0===t.length)return!1;var a=0!==t.indexOf("https://")?"https://".concat(t):t,r=new URL(a).hostname.split(".").slice(-2).join(".");if((n||[]).indexOf(r)<0){e("Configured url '".concat(t,"' is not in whitelist."),"INFO","isBaseDomainSafe");return!1}}catch(o){e("Error checking if configured url '".concat(t,"' is in whitelist. Error message: ").concat(o.message),"ERROR","isBaseDomainSafe");return!1}return!0}function te(){document&&document.body&&"function"==typeof document.body.insertAdjacentText&&document.body.insertAdjacentText("beforebegin","ERROR: Invalid redirect URI")}function ne(e,t){if(e&&!t){if(!ee(Ee.redirect_uri,we.lpBaseDomainWhitelist)&&!Ee.redirect_uri.startsWith("https://".concat(Ee.leCdnDomain))){w("Invalid redirect URI");te();return}var n;if(Ee.state)try{n=we.endPoints.externalStandardAuth2({uri:Ee.redirect_uri,jwt:e,state:encodeURIComponent(Ee.state)})}catch(a){w("Couldn't redirect to correct URI")}else n=we.endPoints.external({uri:Ee.redirect_uri,jwt:e});window.lpTag.redirect(n)}}function ae(t){e("The selected storage is ".concat(t,"."),"INFO","startExternalFlow");t&&(be=!0);Ee&&Ee.accountId&&x()}function re(e){return e&&e.env||we.envType.PRODUCTION}function oe(e){Oe="";S();window.lpCaptchaOnloadCallback=window.lpTag.taglets.unAuthMessaging.captchaOnloadCallback;var t=m(e||window.location);if(t.redirect_uri&&t.client_id){var n={},a=v(t),r=Y(a);n.accountId=t.client_id;n.redirect_uri=t.redirect_uri;n.state=t.state;n.success=ne;n.isExternal=!0;n.useCaptcha=$(a);n.language=r;n.env=re(a);if(n.accountId&&R(n)){if(Ee.useCaptcha){Z();X(r)}else Q();return!0}}return!1}function ie(e){var t=Ue?e&&e.body:e,n=t&&t.ResultSet&&t.ResultSet.lpData;if(n){var a=V(n.baseURIs,we.names.csdsIDP),r=V(n.baseURIs,we.names.leCdnDomain);if(a.length>0&&r.length>0){Ee.IDPDomain=a[0].baseURI;Ee.leCdnDomain=r[0].baseURI;Ee.secureStorageLocation=O(r[0].baseURI);I(ae)}}else w("Couldn't get site map from csds. site: ".concat(Ee.accountId))}function ce(){if(Ee.useCaptcha&&window.grecaptcha&&"function"==typeof window.grecaptcha.render){var e=we.languageMapping[we.defaultLanguage];Ee.language&&we.languageMapping[Ee.language]&&(e=we.languageMapping[Ee.language]);window.grecaptcha.render("reCaptcha",{sitekey:we.captchaSiteKey,theme:"light",hl:e})}}function se(){return de}function ue(){return n(de)}var le,de,fe,pe="unAuthMessaging",ge="1.25.3-release_1982894621",he=!0,we={endPoints:{unAuthJWT:function(e){var t=e.IDPDomain,n=e.accountId,a=e.convOwnerAccountId;return"https://".concat(t,"/api/account/").concat(a||n,"/anonymous/authorize")},externalStandardAuth2:function(e){var t=e.uri,n=e.state,a=e.jwt;return"".concat(t,"?state=").concat(n,"#id_token=").concat(a)},external:function(e){var t=e.uri,n=e.jwt;return"".concat(t,"#id_token=").concat(n)},postmessageConfigureFrameURL:function(e){var t=e.domain;return"https://".concat(t,"/postmessage/postmessage.min.html")},csds:function(e){var t=e.csdsDomain,n=e.accountId,a=e.convOwnerAccountId;return"https://".concat(t,"/csdr/account/").concat(a||n,"/service/baseURI.lpCsds?version=1.0")}},names:{secureStorageKey:"-unAuthJWT",storedAccountIdentitiesDictionaryKey:"-unAuthJWTAccounts",sdeType:"lpConsumer",captchaResponse:"gRecaptchaResponse",csdsIDP:"idp",leCdnDomain:"leCdnDomain"},domains:{csdsGA:"api.liveperson.net",csdsQA:"hc1n.dev.lprnd.net"},lpBaseDomainWhitelist:["lpsnmedia.net","liveperson.net","liveperson.com","lprnd.net"],captchaSiteKey:"6LdCazcUAAAAACpzhC0F6mj-SpyDQkcqXvg6ymaJ",languageMapping:JSON.parse('{"ar-AE":"ar","bg-BG":"bg","cs-CZ":"cs","Cy-sr-SP":"sr","da-DK":"da","de-DE":"de","el-GR":"el","en-UK":"en-GB","en-US":"en","es-419":"es-419","es-ES":"es","et-EE":"et","fi-FI":"fi","fr-CA":"fr-CA","fr-FR":"fr","he-IL":"iw","hi-IN":"hi","hr-HR":"hr","hu-HU":"hu","id-ID":"id","it-IT":"it","ja-JP":"ja","ko-KR":"ko","lt-LT":"lt","lv-LV":"lv","ms-MY":"ms","nb-NO":"no","nl-NL":"nl","pl-PL":"pl","pt-BR":"pt-BR","pt-PT":"pt-PT","ro-RO":"ro","ru-RU":"ru","sk-SK":"sk","sl-SI":"sl","sv-SE":"sv","th-TH":"th","tr-TR":"tr","uk-UA":"uk","vi-VN":"vi","zh-CN":"zh-CN","zh-HK":"zh-HK","zh-TW":"zh-TW"}'),defaultLanguage:"en-US",envType:{ALPHA:"alpha",QA:"qa",PRODUCTION:"prod",DEV:"dev"},refreshJwtRetryAttempts:60},me={READY:"READY",PENDING:"PENDING",NONE:"NONE",INIT:"INIT",RETRY:"RETRY"},ye={SHOULD_REQUEST_NEW_TOKEN_ERRORS:["9002","9007","9008","9009","9011","9012","9014","9015","1001","1003","1004","1005","1006","1007","1008","1009","1010","1011","1012","1013","1024","1025","1026","1037","1038","1049","2001","2002","2004","2005","2006","2007","2008","2009","3001","3002","3003"]},ve=[10,50,100,300,1e3,5e3],Te={},Ie=31536e6,Se=we.refreshJwtRetryAttempts,Oe="",Re=!1,be=!1,Ee={},De=null,Ne=1,Ce=[],Pe=lpTag,Ae=Pe.storageMethods,Ue=!1;return{version:ge,name:pe,lpUnauthFunction:z,lpUnauthExternal:oe,lpUnauthCsds:ie,captchaOnloadCallback:ce,init:G,jsMethodExtended:he,getJwt:se,getSub:ue}}();}catch(e){lpTag.handleGeneralError("unAuthMessaging",e);}try{window.lpTag.taglets.lp_emt_event_bridge=function(){function n(){if("undefined"==typeof lpMTag){window.lpMTagConfig=window.lpMTagConfig||{};window.lpMTagConfig.onLoadCode=window.lpMTagConfig.onLoadCode||[];window.lpMTagConfig.onLoadCode.push(function(){e()})}else e()}function e(){lpMTag.events.register("*",o)}function o(n,e){lpTag.events.trigger(g,n,e)}var i=1.1,g="lp_emt_event_bridge";return{v:i,name:g,init:n}}();}catch(e){lpTag.handleGeneralError("lp_emt_event_bridge",e);}try{window.lpTag.taglets.lp_global_utils=function(){function e(){}function n(e,n){if("undefined"!=typeof n){if(e)for(var a=0;a<e.length;a++){var t=e[a].value;if("string"==typeof t&&""!==t)if("true"===t)t=!0;else if("false"===t)t=!1;else if("["===t.charAt(0)||"{"===t.charAt(0))try{"undefined"!=typeof JSON&&JSON.parse?t=JSON.parse(t):lpTag.log("unable to parse JSON, no JSON object on page ","ERROR",l)}catch(i){lpTag.log("unable to parse JSON:"+i,"ERROR",l)}n[e[a].id]=t}}else lpTag.log("_config is passed as undefined","ERROR",l)}function a(e){return e.replace(/^\s+|\s+$/g,"")}var t=1.4,l="lp_global_utils";return{v:t,name:l,init:e,convertConfig:n,trim:a}}();}catch(e){lpTag.handleGeneralError("lp_global_utils",e);}try{window.lpTag=window.lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.taglets.jsLoader=lpTag.taglets.jsLoader||function(e){function t(e){var t=[],n=[],a=!1;for(var r in e)if("string"==typeof e[r]||e[r].url)if(e[r].dependency){var l=o(e,e[r].dependency);l.length>0&&(t=t.concat(l))}else"string"==typeof e[r]||"string"==typeof e[r].url?a=!0:n.push(e[r]);else"string"!=typeof e[r]&&n.push(r);return{missingKeys:t,invalidUrls:n,requestValid:0===t.length&&0===n.length&&a}}function n(){lpTag.log("JSLoader was initialised","DEBUG",v)}function a(e){T+=1;var n="";if(e&&e.loadObj){var a=t(e.loadObj);if(a.requestValid){e.startTime=new Date;for(var r in e.loadObj)if(e.loadObj[r]!==!0&&!e.loadObj[r].dependency){n=e.loadObj[r].url||e.loadObj[r];f(n,e.context,i(r,e))}}else j(e.error,e.context||null,a)}}function r(){return{version:S,name:v,errors:m,downloads:E,configsCount:T}}function o(e,t){var n=[];t=t.constructor===Array?t:[t];for(var a=0;a<t.length;a++)e[t[a]]||n.push(t[a]);return n}function l(e,t,n){m+=1;n.loadError=n.loadError||[];n.loadError.push({key:e,url:t});return!0}function d(e,t,n){E+=1;if("object"==typeof t.loadObj[e]){var a=t.loadObj[e];j(n&&a.error?a.error:a.success,a.context||null,n?{error:!0,data:a}:{data:a})}t.loadObj[e]=!0}function c(e){var t=!0;for(var n in e.loadObj)if(e.loadObj.hasOwnProperty(n)&&e.loadObj[n]!==!0){t=!1;break}return t}function i(e,t){return function(n,a){d(e,t,a);a&&l(e,n,t);u(e,t);c(t)&&s(t,!!t.loadError)}}function s(e,t){e.endTime=new Date;setTimeout(function(){j(t?e.error:e.success,e.context,t?e.loadError:e);e=null},10)}function u(e,t){var n;for(var a in t.loadObj)if("object"==typeof t.loadObj[a]){t.loadObj[a].dependency=t.loadObj[a].dependency&&t.loadObj[a].dependency.constructor===Array?t.loadObj[a].dependency:[t.loadObj[a].dependency];n=[];for(var r=0;r<t.loadObj[a].dependency.length;r++)t.loadObj[a].dependency[r]!==e&&n.push(t.loadObj[a].dependency[r]);if(n.length!==t.loadObj[a].dependency.length){t.loadObj[a].dependency=n;0===n.length&&f(t.loadObj[a].url,t.loadObj[a].context,i(a,t))}}}function f(e,t,n){if(w[e])w[e].state===R.LOADING?g(n,w[e].callbackQueue):w[e].state===R.SUCCESS&&j(n,t,[e]);else{w[e]=p(R.LOADING);g(n,w[e].callbackQueue);b(e,{success:function(){w[e].state=R.SUCCESS;O.call(this,e,t,w[e].callbackQueue)},error:function(){w[e].state=R.ERROR;y.call(this,e,t,w[e].callbackQueue)}})}}function p(e,t){return{state:e,callbackQueue:t||[]}}function b(e,t){var n=document.createElement("script");n.setAttribute("type","text/javascript");n.setAttribute("charset","UTF-8");n.onreadystatechange=n.onload=t.success;n.onerror=t.error;n.setAttribute("src",e);(document.head||document.getElementsByTagName("head")[0]).appendChild(n)}function O(t,n,a){var r=!1;this.readyState?e.opera||"loaded"!==this.readyState&&"complete"!==this.readyState||(r=!0):r=!0;if(r){h(t,n,a,!1);this.onerror=this.onload=this.onreadystatechange=null}}function y(e,t,n){h(e,t,n,!0);this.onerror=this.onload=this.onreadystatechange=null}function g(e,t){t&&-1===t.indexOf(e)&&t.push(e)}function h(e,t,n,a){for(var r;n.length;){r=n.pop();j(r,t,e,a)}}function j(t,n){n=n||e;if("function"==typeof t){var a=Array.prototype.slice.call(arguments,2);try{return t.apply(n,a)}catch(r){lpTag.log("Failed to execute callback exc= "+r.message,"ERROR",v)}}}var v="jsLoader",S="1.0.1",E=0,m=0,T=0,R={LOADING:"LOADING",SUCCESS:"SUCCESS",ERROR:"ERROR"},w={};return{v:S,init:n,loadJS:a,validateLoadObj:t,inspect:r}}(window);}catch(e){lpTag.handleGeneralError("jsLoader",e);}try{window.lpTag=window.lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.sdes=lpTag.sdes||[];lpTag.taglets.lp_sms_client_api=lpTag.taglets.lp_sms_client_api||function(){function t(t){y=t;f({callback:function(t){l(t)},error:function(){_.error("error fethcing jwt","err")}})}function e(t){window.lpTag.taglets.postmessage.configure({frames:{url:"https://"+t+"/postmessage/postmessage.min.html"}})}function n(){var t=window.lpTag.taglets.lpSecureStorage.v;return"https://"+A.LECDN+"/le_secure_storage/"+(t?t:"")}function o(t,n,o){var a={url:"https://"+A.IDP+"/api/account/"+v+"/anonymous/authorize",method:"POST",error:o,success:n};t&&(a.data={id_token:t});if(k){a.headers=a.headers||{};a.headers["Content-Type"]="application/json"}else e(A.IDP);N.issueCall(a)}function a(t){var e=r(t),n=300,o=Date.now()/1e3;return"undefined"!=typeof e.exp&&e.exp<o+n}function s(t,e,o){var a=function(){},s=t,i=F.unauthSmsStorage.name;window.lpTag.taglets.lpSecureStorage.getValue({key:s,site:v,app:i,success:e||a,error:o||a,appName:i,domain:n()})}function i(t,e,o,a){var s=function(){},i=t,r=F.unauthSmsStorage.name;window.lpTag.taglets.lpSecureStorage.setValue({key:i,site:v,app:r,value:e,success:o||s,error:a||s,appName:r,domain:n()})}function r(t){if(t&&"string"==typeof t){var e=t.split(".");if(e.length>=2)try{return JSON.parse(window.atob(e[1]))}catch(n){_.error("error parsing jwt","ERROR","getPayloadFromJWT")}}return{}}function l(t){if(y){var e=r(t),n={iss:"LivePerson",acr:"0",account:v};e&&(n.sub=e.sub);y([n]);y=null}}function c(e){lpTag.identities=lpTag.identities||[];lpTag.identities.push(t);C=lpTag.taglets&&lpTag.taglets.postmessage;E=lpTag.taglets&&lpTag.taglets.lpUtil;S(e);k=I&&void 0!==I.isFetchEnabled?JSON.parse(I.isFetchEnabled):!1;N=k?lpTag.taglets.fetch:C;A={SMS_CONNECTOR:lpTag.csds.getDomain(R.CONNECTORS),IDP:lpTag.csds.getDomain(R.IDP),ACCDN:lpTag.csds.getDomain(R.ACCDN),LECDN:lpTag.csds.getDomain(R.LECDN)};d(lpTag.site);_=lpTag.unifiedWindow&&lpTag.unifiedWindow.log||{info:function(){},error:function(){}};m()}function u(t,e,n,o){var a=lpTag.protocol+"//"+A.ACCDN+"/api/account/"+(o||lpTag.site)+"/configuration/ac-common/sms_deflection_form/"+t+"?v="+w;_.info("SMSClientAPI:loadSMSForm called with url: "+a);lpTag.taglets.jsonp.issueCall({url:a,success:function(t){_.info("SMSClientAPI:loadSMSForm successfully loaded form");e&&e(t)},error:function(t){_.error("SMSClientAPI:loadSMSForm failed: "+t);n&&n(t)}})}function p(t,n,o,a){function l(t,e,s){var r={url:c,method:"POST",headers:{"Content-Type":"application/json",connectorId:a.connectorId},success:function(t){if(200===t.responseCode){_.info("SMSClientAPI:submitSMSForm submittion successfully ended");p.context&&p.context.sdes&&lpTag.sdes.push(p.context.sdes);i(F.unauthSmsStorage.stateKey,F.unauthSmsStorage.state_sent+"_"+Date.now());n()}else{_.info("SMSClientAPI:submitSMSForm submittion faild",t.body);o()}},error:function(t){_.info("SMSClientAPI:submitSMSForm submittion faild",t);o()},data:p};e&&(r.headers.authorization="Bearer "+e);t&&(r.headers.token=t);s&&(r.headers.sub=s);N.issueCall(r)}var c="https://"+A.SMS_CONNECTOR+"/api/v1.0/account/"+v+"/default/web2sms";_.info(c,"SMSClientAPI:submitSMSForm submitting to url");_.info(JSON.stringify(t||{}),"SMSClientAPI:submitSMSForm data for submit");e(A.SMS_CONNECTOR);var u=t.context||{},p={message:{to:t.To||"",from:t.From||"",text:t.Body||""},context:{engagementId:u.engagementId||"",campaignId:u.campaignId||"",contextId:3,visitorId:u.visitorId||"",sdes:{type:"personal",personal:{contacts:[{phone:t.From}]}}}};a.sessionId&&(p.context.sessionId=a.sessionId);u.visitorFirstName&&(p.context.sdes.personal.firstname=u.visitorFirstName);u.visitorLastName&&(p.context.sdes.personal.lastname=u.visitorLastName);a.subscription&&(p.subscription=a.subscription);f({callback:function(t){s(F.unauthSmsStorage.stateKey,function(e){if(e){var n=r(t);l(null,null,n.sub)}else g(t,function(e){l(t,e)},o,a)},function(){g(t,function(e){l(t,e)},o,a)})},error:function(t){o(t)}})}function f(t){function e(t){var a=t&&t.body&&t.body.internalErrorCode;if(P.SHOULD_REQUEST_NEW_TOKEN_ERRORS.indexOf(a)>-1){_.info("SMSClientAPI:getToken failed due to defined error "+a+", requesting a clean token");o(null,n,e)}else if(p>0){_.info("SMSClientAPI:getToken fail to load token: "+t+", "+p+" retries left");p-=1;setTimeout(r,500)}else u&&u(t)}function n(t,n){b=t&&t.body&&t.body.token;b?n?c(b):i(F.unauthSmsStorage.tokenKey,b,function(){c(b,!0)},function(){c(b,!0)}):e()}function r(){s(F.unauthSmsStorage.tokenKey,function(t){t?a(t)?o(t,n,e):n({body:{token:t}},!0):o(null,n,e)},function(){o(null,n,e)})}var l=function(){},c=t?t.callback||t:l,u=t?t.error||l:l,p=3;r()}function g(t,n,o,a){var s={url:"https://"+A.IDP+"/api/account/"+v+"/app/"+a.connectorId+"/authenticate?v=3",method:"POST",data:{id_token:t},success:function(t){if(n){var e=t&&t.body&&t.body.token;if(e)n(e);else{_.error("error authenticate jwt","err");o("error authenticate jwt")}}},error:function(t){401===t.statusCode&&i(F.unauthSmsStorage.tokenKey,null);o&&o(t)}};if(k){s.headers=s.headers||{};s.headers["Content-Type"]="application/json"}else e(A.IDP);N.issueCall(s)}function d(t){v=t;var e=lpTag&&lpTag.taglets&&lpTag.taglets.lpAjax;e&&e.configureTransports({rest2jsonp:{domain:A.ACCDN,site:v}})}function S(t){if(t&&t.constructor===Array)try{E.convertConfig(t,I)}catch(e){_.error("Failed to parse taglet configuration")}else t&&(I=lpTag&&lpTag.taglets&&lpTag.taglets.lpUtil&&lpTag.taglets.lpUtil.cloneExtend(I,t,!0))}function m(){var t=!1;if(lpTag.hooks&&lpTag.hooks.push){lpTag.hooks.push({name:M.AFTER_LOAD_SURVEY,callback:function(t){_.info("lp_sms_client_api::hook",t);"PreSmsSurvey"===h(t,"data.surveyType")&&T("display",t)}});lpTag.hooks.push({name:M.AFTER_SUBMIT_SURVEY,callback:function(t){_.info("lp_sms_client_api::hook",t);"PreSmsSurvey"===h(t,"data.surveyType")&&T("submit",t)}});lpTag.hooks.push({name:M.AFTER_ABANDONED_SURVEY,callback:function(e){_.info("lp_sms_client_api::hook",e);"PreSmsSurvey"===h(e,"data.surveyType")&&(t=!0)}});lpTag.hooks.push({name:M.ON_WINDOW_CLOSED,callback:function(e){if(h(e,"data.context.conf.engConf.externalTargets.0")){_.info("lp_sms_client_api::hook",e);setTimeout(function(){e.data.status=t?"cancel":"close";T("abandoned",e);t=!1},100)}}});lpTag.hooks.push({name:M.ON_EXTERNAL_LAUNCH,callback:function(t){_.info("lp_sms_client_api::hook",t);"tapToText"===h(t,"data.type")&&T("taptotext",{data:{context:{conf:{engConf:h(t,"data.engConf")}}}})}})}}function T(t,e){var n={type:"msgDeflect",channel:"sms",actionType:t};n.campaignId=h(e,"data.context.conf.engConf.cid");n.engagementId=h(e,"data.context.conf.engConf.eid");var o=h(e,"data.status");o&&(n.status=o);lpTag.sdes.push(n)}function h(t,e){if("object"==typeof t&&"string"==typeof e){for(var n=e.split("."),o=t,a=0;a<n.length-1;++a){if("object"!=typeof o||!o.hasOwnProperty(n[a]))return void 0;o=o[n[a]]}return"object"==typeof o?o[n[n.length-1]]:void 0}}var _,C,E,N,y,v,A,b,O="2.5.1",D="SMSEngagementAPI",I={},k=!1,R={ACCDN:"acCdnDomain",LECDN:"leCdnDomain",CONNECTORS:"smsConnector",IDP:"idp"},F={unauthSmsStorage:{tokenKey:"-unAuthSmsJWT",stateKey:"-unAuthSmsState",name:"unAuthSms",state_sent:"sent"}},M={ON_EXTERNAL_LAUNCH:"ON_EXTERNAL_LAUNCH",ON_WINDOW_CLOSED:"ON_WINDOW_CLOSED",AFTER_LOAD_SURVEY:"AFTER_LOAD_SURVEY",AFTER_SUBMIT_SURVEY:"AFTER_SUBMIT_SURVEY",AFTER_ABANDONED_SURVEY:"AFTER_ABANDONED_SURVEY"},P={SHOULD_REQUEST_NEW_TOKEN_ERRORS:["9002","9007","9008","9009","9011","9012","9014","9015","1001","1003","1004","1005","1006","1007","1008","1009","1010","1011","1012","1013","1024","1025","1026","1037","1038","1049","2001","2002","2004","2005","2006","2007","2008","2009","3001","3002","3003"]},w="3.0";return{version:O,v:O,name:D,init:c,loadSMSForm:u,submitSMSForm:p,getToken:f,authenticateToken:g,setAccount:d}}();}catch(e){lpTag.handleGeneralError("lp_sms_client_api",e);}